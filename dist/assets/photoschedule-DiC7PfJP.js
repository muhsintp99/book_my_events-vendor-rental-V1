import{r as c,j as e,B as s,x as P,t as L,b as T,az as ee,T as a,ap as Te,a4 as ze,ae as Be,as as te,ar as se,aA as oe,g as re,ag as Fe,ah as Ne,G as d,P as ne,s as u,a as C,aB as ae,F as ie,I as le,ab as de,W as z,aC as Re,aD as Ee,f as ce,C as xe,D as Le,aE as Oe,aF as $e,aG as _e,aH as Ye,Q as Ge}from"./index-o1Kc6YJO.js";const I="https://api.bookmyevent.ae";function Ke(){const[p,pe]=c.useState(new Date),[S,fe]=c.useState(new Date().getDate()),[he,O]=c.useState(!1),[$,_]=c.useState([]),[He,Ue]=c.useState([]),[g,B]=c.useState([]),[v,Y]=c.useState([]),[ue,G]=c.useState(!1),[D,x]=c.useState(null),[H,w]=c.useState(!1),[U,J]=c.useState(null),[n,m]=c.useState({fullName:"",contactNumber:"",emailAddress:"",address:"",numberOfGuests:"",additionalNotes:"",venueId:"",moduleId:"",packageId:"",bookingDate:new Date().toISOString().split("T")[0],timeSlot:[],paymentType:"Cash",bookingType:"Direct"}),b=(()=>{let t=localStorage.getItem("providerId")||localStorage.getItem("userId");if(!t){const o=localStorage.getItem("user");if(o)try{const r=JSON.parse(o);t=r._id||r.id||r.userId}catch(r){console.error("Error parsing user from localStorage:",r)}}return t})();c.useEffect(()=>{b&&(q(),ge(),me())},[p,b]),c.useEffect(()=>{v.length===1&&!n.moduleId&&m(t=>({...t,moduleId:v[0]._id}))},[v]),c.useEffect(()=>{m(t=>({...t,packageId:""}))},[n.moduleId]);const q=async()=>{if(!b){x("Provider ID is required");return}G(!0),x(null);try{const o=await(await fetch(`${I}/api/bookings/provider/${b}`)).json();o.success?_(o.data||[]):x(o.message||"Failed to fetch bookings")}catch(t){x("Error connecting to server"),console.error("Fetch error:",t)}finally{G(!1)}},ge=async()=>{try{const o=await(await fetch(`${I}/api/modules`)).json();let r=[];o.success&&o.data&&Array.isArray(o.data)?r=o.data:o.success&&o.modules&&Array.isArray(o.modules)?r=o.modules:Array.isArray(o)&&(r=o),console.log("All modules fetched:",r);const i=r.filter(l=>(l.title||l.name||"").toLowerCase()==="photography");console.log("Filtered modules for provider:",i),Y(i),i.length===0&&console.warn("No modules available for this provider")}catch(t){console.error("Fetch modules error:",t),x("Failed to fetch modules: "+t.message),Y([])}},me=async()=>{try{const o=await(await fetch(`${I}/api/photography-packages/provider/${b}`)).json();o.success?B(o.data||[]):B([])}catch(t){console.error("Fetch photography packages error:",t),B([])}},be=async t=>{if(window.confirm("Are you sure you want to delete this booking?")){J(t),x(null);try{const r=await(await fetch(`${I}/api/bookings/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();r.success?(_(i=>i.filter(l=>l._id!==t)),alert("Booking deleted successfully!")):x(r.message||"Failed to delete booking")}catch(o){x("Error deleting booking: "+o.message),console.error("Delete error:",o)}finally{J(null)}}},F=new Date,je=F.getDate(),ye=F.getMonth(),Se=F.getFullYear(),Q=(()=>{const t=p.getFullYear(),o=p.getMonth(),r=new Date(t,o+1,0).getDate(),i={};for(let l=1;l<=r;l++){const Z=$.filter(W=>{const y=new Date(W.bookingDate);return y.getDate()===l&&y.getMonth()===o&&y.getFullYear()===t&&W.bookingType==="Direct"}).reduce((W,y)=>W+(Array.isArray(y.timeSlot)?y.timeSlot.length:1),0);Z===0?i[l]="free":Z>=2?i[l]="booked":i[l]="available"}return i})(),j=$.filter(t=>{const o=new Date(t.bookingDate);return o.getDate()===S&&o.getMonth()===p.getMonth()&&o.getFullYear()===p.getFullYear()&&t.bookingType==="Direct"}),ke=t=>{const o=t.getFullYear(),r=t.getMonth(),i=new Date(o,r,1).getDay(),l=new Date(o,r+1,0).getDate();return{firstDay:i,daysInMonth:l}},{firstDay:Ce,daysInMonth:Ie}=ke(p),ve=p.toLocaleDateString("en-US",{month:"long",year:"numeric"}),N=t=>{switch(t){case"booked":return"#ef5350";case"available":return"#ffd54f";case"free":return"#66bb6a";default:return"#66bb6a"}},k=t=>{switch(t){case"Accepted":return"#7e57c2";case"Pending":return"#ffd54f";case"Rejected":return"#e57373";default:return"#ef5350"}},V=t=>{pe(new Date(p.getFullYear(),p.getMonth()+t,1))},De=()=>{const t=[];["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(r=>t.push(e.jsx(s,{sx:{textAlign:"center",padding:{xs:"8px 4px",md:"16px"},color:"#777",fontSize:{xs:"11px",md:"14px"},fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:r},r)));for(let r=0;r<Ce;r++)t.push(e.jsx(s,{sx:{display:{xs:"none",md:"block"},backgroundColor:"#f9f9f9",borderRadius:"12px"}},`empty-${r}`));for(let r=1;r<=Ie;r++){const i=Q[r]||"free",l=r===je&&p.getMonth()===ye&&p.getFullYear()===Se,f=r===S;t.push(e.jsxs(s,{onClick:()=>fe(r),sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:{xs:"50px",md:"100px"},cursor:"pointer",borderRadius:{xs:"8px",md:"16px"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",backgroundColor:f?"rgba(239, 83, 80, 0.05)":"#fff",border:f?"1px solid #ef5350":"1px solid #f0f0f0",boxShadow:f?"0 4px 12px rgba(239, 83, 80, 0.15)":"none","&:hover":{transform:{md:"translateY(-4px)"},boxShadow:"0 6px 16px rgba(0,0,0,0.08)",borderColor:"#ef5350",zIndex:1}},children:[e.jsx(s,{sx:{fontSize:{xs:"14px",md:"22px"},fontWeight:l||f?"600":"400",color:l?"#fff":f?"#ef5350":"#333",width:{xs:"28px",md:"48px"},height:{xs:"28px",md:"48px"},display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",backgroundColor:l?"#ef5350":"transparent",marginBottom:{xs:"2px",md:"8px"},transition:"all 0.2s"},children:r}),e.jsx(s,{sx:{width:{xs:"6px",md:"10px"},height:{xs:"6px",md:"10px"},borderRadius:"50%",backgroundColor:N(i),boxShadow:`0 0 8px ${N(i)}80`}}),i!=="free"&&e.jsx(a,{sx:{display:{xs:"none",md:"block"},fontSize:"10px",mt:1,color:"#999",fontWeight:500},children:i==="booked"?"FULL":"SLOTS"})]},r))}return t},R=Q[S]||"free",we=()=>j.length===0?"No bookings - All slots available":R==="booked"?`${j.length} bookings - Fully booked`:R==="available"?`${j.length} booking - Some slots available`:"All slots available",Me=()=>new Date(p.getFullYear(),p.getMonth(),S).toLocaleDateString("en-US",{weekday:"short"}),h=t=>{const{name:o,value:r}=t.target;m(i=>({...i,[o]:r}))},K=t=>{m(o=>{const r=o.timeSlot.includes(t)?o.timeSlot.filter(i=>i!==t):[...o.timeSlot,t];return{...o,timeSlot:r}})},Ae=async()=>{w(!0),x(null);try{if(!n.bookingDate){x("Please select booking date"),w(!1);return}if(!n.numberOfGuests||Number(n.numberOfGuests)<=0){x("Please enter a valid number of guests"),w(!1);return}const t={moduleId:n.moduleId,...n.packageId&&{photographyId:n.packageId},fullName:n.fullName,contactNumber:n.contactNumber,emailAddress:n.emailAddress,address:n.address,numberOfGuests:Number(n.numberOfGuests),bookingDate:n.bookingDate,timeSlot:n.timeSlot,paymentType:n.paymentType,bookingType:"Direct"};n.packageId&&(t.packageId=n.packageId);const r=await(await fetch(`${I}/api/bookings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();r.success?(alert("Booking created successfully!"),E(),q(),We()):x(r.message||"Failed to create booking")}catch(t){x("Error creating booking: "+t.message),console.error("Submit error:",t)}finally{w(!1)}},We=()=>{m({fullName:"",contactNumber:"",emailAddress:"",address:"",numberOfGuests:"",additionalNotes:"",venueId:"",moduleId:"",packageId:"",bookingDate:new Date().toISOString().split("T")[0],timeSlot:[],paymentType:"Cash",bookingType:"Direct"})},Pe=()=>{O(!0)},E=()=>{O(!1),x(null),setActiveStep(0)},X=g.find(t=>t._id===n.packageId);n.moduleId&&g.filter(t=>{var o;return((o=t.module)==null?void 0:o._id)===n.moduleId});const M={display:"flex",alignItems:"center",gap:1,mb:2,color:"#ef5350",fontWeight:600},A={color:"#ef5350",fontSize:24};return e.jsxs(s,{sx:{width:"100%",margin:"0 auto",padding:{xs:"8px",md:"40px"},backgroundColor:"#fafafa",minHeight:"100vh",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[!b&&e.jsx(P,{severity:"warning",sx:{mb:3},children:"Provider ID not found. Please make sure you're logged in. You may need to log out and log in again."}),ue&&e.jsx(s,{display:"flex",justifyContent:"center",mb:3,children:e.jsx(L,{})}),D&&e.jsx(P,{severity:"error",sx:{mb:3},children:D}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:{xs:"16px",md:"32px"},padding:{xs:"0 4px",md:"0 20px"}},children:[e.jsx(T,{onClick:()=>V(-1),sx:{backgroundColor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",border:"1px solid #f0f0f0","&:hover":{backgroundColor:"#f5f5f5",transform:"scale(1.1)"},transition:"all 0.2s"},children:e.jsx(ee,{})}),e.jsx(a,{sx:{fontSize:{xs:"20px",md:"32px"},fontWeight:"600",color:"#333",letterSpacing:"-0.5px"},children:ve}),e.jsx(T,{onClick:()=>V(1),sx:{backgroundColor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",border:"1px solid #f0f0f0","&:hover":{backgroundColor:"#f5f5f5",transform:"scale(1.1)"},transition:"all 0.2s"},children:e.jsx(Te,{})})]}),e.jsx(s,{sx:{backgroundColor:"#fff",borderRadius:{xs:"16px",md:"24px"},marginBottom:{xs:"24px",md:"40px"},padding:{xs:"12px 8px",md:"40px"},boxShadow:"0 10px 30px rgba(0,0,0,0.04)",border:"1px solid #f0f0f0"},children:e.jsx(s,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:"4px",md:"16px"}},children:De()})}),e.jsx(s,{sx:{backgroundColor:"#fff",borderRadius:{xs:"8px",md:"12px"},padding:{xs:"12px 8px",md:"24px"},marginBottom:{xs:"16px",md:"32px"},boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:{xs:"12px",md:"24px"},flexWrap:"wrap",flexDirection:"row"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(s,{sx:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#ef5350"}}),e.jsx(a,{sx:{fontSize:"15px",color:"#666"},children:"Fully Booked"})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(s,{sx:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#ffd54f"}}),e.jsx(a,{sx:{fontSize:"15px",color:"#666"},children:"Slots Available"})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(s,{sx:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#66bb6a"}}),e.jsx(a,{sx:{fontSize:"15px",color:"#666"},children:"Fully Free"})]})]})}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:{xs:2,md:4},backgroundColor:"#fff",borderRadius:"24px",padding:{xs:"20px",md:"32px"},marginBottom:"32px",boxShadow:"0 4px 20px rgba(0,0,0,0.03)",border:"1px solid #f0f0f0"},children:[e.jsxs(s,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:{xs:"70px",md:"100px"},height:{xs:"70px",md:"100px"},backgroundColor:"#ef5350",borderRadius:"20px",color:"#fff",boxShadow:"0 8px 16px rgba(239, 83, 80, 0.2)"},children:[e.jsx(a,{sx:{fontSize:{xs:"12px",md:"14px"},fontWeight:"600",textTransform:"uppercase",opacity:.9},children:Me()}),e.jsx(a,{sx:{fontSize:{xs:"28px",md:"40px"},fontWeight:"700",lineHeight:1},children:S})]}),e.jsxs(s,{sx:{flex:1},children:[e.jsx(a,{sx:{fontSize:{xs:"18px",md:"28px"},fontWeight:"600",color:"#1a1a1a",marginBottom:"4px"},children:"Schedule Details"}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(s,{sx:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:N(R)}}),e.jsx(a,{sx:{fontSize:{xs:"14px",md:"16px"},color:"#666",fontWeight:"500"},children:we()})]})]})]}),e.jsxs(s,{sx:{mb:4},children:[e.jsx(a,{sx:{fontSize:{xs:"20px",md:"24px"},fontWeight:"700",color:"#1a1a1a",mb:3,pl:1},children:"Today's Appointments"}),j.length>0?e.jsx(s,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:j.map(t=>{var o,r,i;return e.jsxs(s,{sx:{backgroundColor:"#fff",borderRadius:"24px",border:"1px solid #f0f0f0",padding:{xs:"20px",md:"32px"},position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 12px rgba(0,0,0,0.02)",overflow:"hidden","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 30px rgba(0,0,0,0.06)",borderColor:"#ef5350"},"&::before":{content:'""',position:"absolute",left:0,top:0,bottom:0,width:"6px",backgroundColor:k(t.status)}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[e.jsxs(s,{children:[e.jsx(a,{sx:{fontSize:{xs:"12px",md:"13px"},fontWeight:"700",textTransform:"uppercase",color:k(t.status),letterSpacing:"1px",mb:.5},children:Array.isArray(t.timeSlot)?t.timeSlot.map((l,f)=>e.jsxs("span",{children:[l.label," (",l.time,")",f<t.timeSlot.length-1?", ":""]},f)):(o=t.timeSlot)!=null&&o.label?`${t.timeSlot.label} (${t.timeSlot.time})`:"All Day"}),e.jsx(a,{sx:{fontSize:{xs:"18px",md:"22px"},fontWeight:"700",color:"#1a1a1a"},children:t.fullName})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(ze,{label:t.status,sx:{fontWeight:"600",fontSize:"12px",backgroundColor:`${k(t.status)}15`,color:k(t.status),border:`1px solid ${k(t.status)}30`}}),e.jsx(T,{onClick:()=>be(t._id),disabled:U===t._id,sx:{backgroundColor:"#fff1f1",color:"#ef5350","&:hover":{backgroundColor:"#ef5350",color:"#fff"}},children:U===t._id?e.jsx(L,{size:20,color:"inherit"}):e.jsx(Be,{fontSize:"small"})})]})]}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(3, 1fr)"},gap:3,pt:3,borderTop:"1px solid #f8f8f8"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(s,{sx:{p:1,borderRadius:"10px",backgroundColor:"#f5f5f5",color:"#666"},children:e.jsx(te,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(a,{sx:{fontSize:"11px",color:"#999",textTransform:"uppercase",fontWeight:"600"},children:"Contact"}),e.jsx(a,{sx:{fontSize:"14px",fontWeight:"500"},children:t.contactNumber})]})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(s,{sx:{p:1,borderRadius:"10px",backgroundColor:"#f5f5f5",color:"#666"},children:e.jsx(se,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(a,{sx:{fontSize:"11px",color:"#999",textTransform:"uppercase",fontWeight:"600"},children:"Email"}),e.jsx(a,{sx:{fontSize:"14px",fontWeight:"500"},children:t.emailAddress||"N/A"})]})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(s,{sx:{p:1,borderRadius:"10px",backgroundColor:"#f5f5f5",color:"#666"},children:e.jsx(oe,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(a,{sx:{fontSize:"11px",color:"#999",textTransform:"uppercase",fontWeight:"600"},children:"Service"}),e.jsx(a,{sx:{fontSize:"14px",fontWeight:"500"},children:((r=t.photographyId)==null?void 0:r.packageTitle)||((i=t.packageId)==null?void 0:i.packageTitle)||"Photography"})]})]})]})]},t._id)})}):e.jsx(s,{sx:{textAlign:"center",py:8,backgroundColor:"#fff",borderRadius:"24px",border:"2px dashed #eee"},children:e.jsx(a,{sx:{color:"#999",fontSize:"16px"},children:"No appointments scheduled for this date."})})]}),j.length===0&&e.jsxs(s,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:{xs:"32px 16px",md:"48px"},textAlign:"center",backgroundColor:"#fff",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[e.jsx(s,{sx:{margin:"0 auto 20px",width:"100px",height:"100px"},children:e.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 80 80",fill:"none",children:[e.jsx("rect",{x:"10",y:"15",width:"60",height:"50",rx:"4",stroke:"#ccc",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M25 15 L25 10 M55 15 L55 10",stroke:"#ccc",strokeWidth:"2"}),e.jsx("path",{d:"M20 25 L60 25",stroke:"#ccc",strokeWidth:"2"}),e.jsx("path",{d:"M35 45 L45 45 M35 45 L40 40 M35 45 L40 50",stroke:"#66bb6a",strokeWidth:"2",strokeLinecap:"round"})]})}),e.jsx(a,{variant:"h6",sx:{color:"#333",fontWeight:500,mb:1},children:"No Bookings Today"}),e.jsx(a,{sx:{color:"#666"},children:"All slots are available for booking"})]}),e.jsx(re,{variant:"contained",sx:{position:"fixed",bottom:{xs:"16px",md:"32px"},right:{xs:"16px",md:"32px"},backgroundColor:"#ef5350",color:"#fff",borderRadius:"50%",width:{xs:"56px",md:"64px"},height:{xs:"56px",md:"64px"},minWidth:"unset",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 6px 16px rgba(0,0,0,0.3)","&:hover":{backgroundColor:"#e53935"}},onClick:Pe,children:e.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 5v14M5 12h14"})})}),e.jsx(Fe,{fullScreen:!0,open:he,onClose:E,PaperProps:{sx:{backgroundColor:"#fafafa"}},children:e.jsxs(s,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsx(s,{sx:{px:{xs:2,md:4},py:2.5,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#fff",borderBottom:"1px solid #f0f0f0",position:"sticky",top:0,zIndex:10},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(T,{onClick:E,sx:{color:"#333"},children:e.jsx(ee,{})}),e.jsx(a,{variant:"h5",sx:{fontWeight:800,color:"#1a1a1a",letterSpacing:"-0.5px"},children:"Create New Booking"})]})}),e.jsx(Ne,{sx:{flex:1,p:0,backgroundColor:"#f8f9fa"},children:e.jsxs(s,{sx:{maxWidth:"1200px",margin:"0 auto",p:{xs:2,md:4}},children:[D&&e.jsx(P,{severity:"error",sx:{mb:4,borderRadius:"16px",border:"1px solid #ffcdd2",boxShadow:"0 4px 12px rgba(239, 83, 80, 0.1)"},children:D}),e.jsxs(d,{container:!0,spacing:4,children:[e.jsx(d,{item:!0,xs:12,children:e.jsxs(s,{sx:{backgroundColor:"#fff",borderRadius:"24px",p:4,boxShadow:"0 4px 20px rgba(0,0,0,0.03)",border:"1px solid #f0f0f0",height:"100%"},children:[e.jsxs(a,{variant:"h6",sx:{...M,mb:3},children:[e.jsx(ne,{sx:A}),"Client Information"]}),e.jsxs(d,{container:!0,spacing:3,children:[e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(u,{fullWidth:!0,name:"fullName",label:"Full Name",variant:"outlined",value:n.fullName,onChange:h,InputProps:{startAdornment:e.jsx(C,{position:"start",children:e.jsx(ne,{sx:{color:"#999",fontSize:20}})})}})}),e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(u,{fullWidth:!0,name:"contactNumber",label:"Contact Number",variant:"outlined",value:n.contactNumber,onChange:h,InputProps:{startAdornment:e.jsx(C,{position:"start",children:e.jsx(te,{sx:{color:"#999",fontSize:20}})})}})}),e.jsx(d,{item:!0,xs:12,children:e.jsx(u,{fullWidth:!0,name:"emailAddress",label:"Email Address (Optional)",variant:"outlined",value:n.emailAddress,onChange:h,InputProps:{startAdornment:e.jsx(C,{position:"start",children:e.jsx(se,{sx:{color:"#999",fontSize:20}})})}})}),e.jsx(d,{item:!0,xs:12,children:e.jsx(u,{fullWidth:!0,name:"address",label:"Event Address (Optional)",variant:"outlined",value:n.address,onChange:h,InputProps:{startAdornment:e.jsx(C,{position:"start",children:e.jsx(oe,{sx:{color:"#999",fontSize:20}})})}})})]})]})}),e.jsx(d,{item:!0,xs:12,children:e.jsxs(s,{sx:{backgroundColor:"#fff",borderRadius:"24px",p:4,boxShadow:"0 4px 20px rgba(0,0,0,0.03)",border:"1px solid #f0f0f0",height:"100%"},children:[e.jsxs(a,{variant:"h6",sx:{...M,mb:3},children:[e.jsx(ae,{sx:A}),"Service Selection"]}),e.jsxs(d,{container:!0,spacing:3,children:[e.jsx(d,{item:!0,xs:12,children:e.jsxs(ie,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{shrink:!0,children:"Module"}),e.jsxs(de,{name:"moduleId",value:n.moduleId,onChange:h,label:"Module",displayEmpty:!0,MenuProps:{PaperProps:{sx:{maxHeight:300,borderRadius:2,boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}}},children:[e.jsx(z,{value:"",disabled:!0,children:e.jsx("span",{style:{color:"#999"},children:"Select Module"})}),v.map(t=>e.jsx(z,{value:t._id,children:t.title||t.name},t._id))]})]})}),e.jsx(d,{item:!0,xs:12,children:e.jsxs(ie,{fullWidth:!0,variant:"outlined",children:[e.jsx(le,{shrink:!0,children:"Photography Package"}),e.jsxs(de,{name:"packageId",value:n.packageId,onChange:h,label:"Photography Package",disabled:g.length===0,displayEmpty:!0,MenuProps:{PaperProps:{sx:{maxHeight:300,borderRadius:2,boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}}},children:[e.jsx(z,{value:"",disabled:!0,children:e.jsx("span",{style:{color:"#999"},children:g.length===0?"No packages available":"Select Package"})}),g.map(t=>e.jsx(z,{value:t._id,children:t.photographyPackageTitle||t.packageName||t.name||t.title},t._id))]})]})}),X&&e.jsx(d,{item:!0,xs:12,children:e.jsxs(P,{severity:"info",icon:!1,sx:{borderRadius:"16px",backgroundColor:"rgba(239, 83, 80, 0.05)",color:"#ef5350",border:"1px solid rgba(239, 83, 80, 0.1)","& .MuiAlert-message":{fontWeight:600}},children:["Price: AED ",X.price||"Contact for Price"]})}),e.jsx(d,{item:!0,xs:12,children:e.jsx(u,{fullWidth:!0,name:"numberOfGuests",label:"Estimated Guests",type:"number",variant:"outlined",value:n.numberOfGuests,onChange:h,InputProps:{startAdornment:e.jsx(C,{position:"start",children:e.jsx(Re,{sx:{color:"#999",fontSize:20}})})}})})]})]})}),e.jsx(d,{item:!0,xs:12,children:e.jsxs(s,{sx:{backgroundColor:"#fff",borderRadius:"24px",p:4,boxShadow:"0 4px 20px rgba(0,0,0,0.03)",border:"1px solid #f0f0f0",height:"100%"},children:[e.jsxs(a,{variant:"h6",sx:{...M,mb:3},children:[e.jsx(Ee,{sx:A}),"Scheduling"]}),e.jsxs(d,{container:!0,spacing:3,children:[e.jsxs(d,{item:!0,xs:12,md:6,children:[e.jsx(u,{fullWidth:!0,name:"bookingDate",label:"Booking Date",type:"date",variant:"outlined",value:n.bookingDate,onChange:h,InputLabelProps:{shrink:!0},sx:{mb:2}}),e.jsx(a,{variant:"subtitle2",sx:{mb:2,mt:1,fontWeight:700,color:"#555"},children:"Select Time Slots"}),e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:1.5,p:2,backgroundColor:"#fcfcfc",borderRadius:"16px",border:"1px solid #f5f5f5"},children:[e.jsx(ce,{control:e.jsx(xe,{checked:n.timeSlot.includes("Morning"),onChange:()=>K("Morning"),sx:{color:"#ef5350","&.Mui-checked":{color:"#ef5350"}}}),label:e.jsxs(s,{sx:{ml:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:600},children:"Morning Session"}),e.jsx(a,{variant:"caption",sx:{color:"#999"},children:"9:00 AM - 1:00 PM"})]})}),e.jsx(Le,{sx:{my:1,opacity:.5}}),e.jsx(ce,{control:e.jsx(xe,{checked:n.timeSlot.includes("Evening"),onChange:()=>K("Evening"),sx:{color:"#ef5350","&.Mui-checked":{color:"#ef5350"}}}),label:e.jsxs(s,{sx:{ml:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:600},children:"Evening Session"}),e.jsx(a,{variant:"caption",sx:{color:"#999"},children:"6:00 PM - 10:00 PM"})]})})]})]}),e.jsxs(d,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"subtitle2",sx:{mb:2,fontWeight:700,color:"#555"},children:"Payment Method"}),e.jsx(d,{container:!0,spacing:2,children:[{id:"Cash",label:"Cash",icon:e.jsx(Oe,{})},{id:"Card",label:"Card",icon:e.jsx($e,{})},{id:"UPI",label:"UPI",icon:e.jsx(_e,{})},{id:"Bank Transfer",label:"Bank",icon:e.jsx(Ye,{})},{id:"Other",label:"Other",icon:e.jsx(Ge,{})}].map(t=>e.jsx(d,{item:!0,xs:6,children:e.jsxs(s,{onClick:()=>m(o=>({...o,paymentType:t.id})),sx:{p:1.5,display:"flex",flexDirection:"column",alignItems:"center",gap:.5,borderRadius:"12px",border:"2px solid",borderColor:n.paymentType===t.id?"#ef5350":"#f0f0f0",backgroundColor:n.paymentType===t.id?"#fff5f5":"#fff",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{borderColor:"#ef5350",transform:"translateY(-2px)"}},children:[e.jsx(s,{sx:{color:n.paymentType===t.id?"#ef5350":"#666",transform:"scale(0.8)"},children:t.icon}),e.jsx(a,{variant:"caption",sx:{fontWeight:700,color:n.paymentType===t.id?"#ef5350":"#666",fontSize:"10px"},children:t.label})]})},t.id))})]})]})]})}),e.jsx(d,{item:!0,xs:12,children:e.jsxs(s,{sx:{backgroundColor:"#fff",borderRadius:"24px",p:4,boxShadow:"0 4px 20px rgba(0,0,0,0.03)",border:"1px solid #f0f0f0",height:"100%"},children:[e.jsxs(a,{variant:"h6",sx:{...M,mb:3},children:[e.jsx(ae,{sx:A}),"Additional Notes"]}),e.jsx(u,{fullWidth:!0,name:"additionalNotes",label:"Special Notes",multiline:!0,rows:10,variant:"outlined",value:n.additionalNotes,onChange:h,placeholder:"E.g. Full day duty, specific routes..."})]})})]})]})}),e.jsx(s,{sx:{p:2.5,backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderTop:"1px solid #f0f0f0",display:"flex",justifyContent:"center",zIndex:1e3},children:e.jsx(re,{onClick:Ae,disabled:H,variant:"contained",sx:{backgroundColor:"#ef5350",px:8,py:1.8,borderRadius:"16px",fontWeight:700},children:H?e.jsx(L,{size:24,color:"inherit"}):"Confirm & Save Booking"})})]})})]})}export{Ke as default};
