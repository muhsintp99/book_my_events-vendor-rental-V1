import{u as C,a as A,r,j as e,F as p,I as j,O as g,b as B,c as D,V as z,d as E,e as L,G as t,f as P,C as F,T as l,L as d,B as H,A as W,g as M,h as O,i as T,k as R,l as V,S as q,D as G,m as N,n as _,o as J}from"./index-BHuSs9er.js";function K(){const a=C();A();const[i,f]=r.useState(!0),[c,y]=r.useState(!1),[u,b]=r.useState(""),[x,w]=r.useState(""),[h,m]=r.useState(""),S=()=>y(!c),I=s=>s.preventDefault(),v=async s=>{s.preventDefault(),m("");try{const n=await O.post("https://api.bookmyevent.ae/api/auth/login",{email:u,password:x}),{token:o,user:k}=n.data;console.log(n.data.profile.module.title),i?(localStorage.setItem("token",o),localStorage.setItem("logRes",n.data.profile.module.title),localStorage.setItem("moduleId",n.data.profile.module._id)):sessionStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(k)),window.location.href="/dashboard/default"}catch(n){let o="Invalid email or password";n.response&&n.response.data&&(o=n.response.data.message||n.response.data.error||o),m(o)}};return e.jsxs("form",{onSubmit:v,children:[e.jsxs(p,{fullWidth:!0,sx:{...a.typography.customInput,mb:2},children:[e.jsx(j,{children:"Email Address / Username"}),e.jsx(g,{type:"email",value:u,onChange:s=>b(s.target.value),required:!0})]}),e.jsxs(p,{fullWidth:!0,sx:{...a.typography.customInput,mb:2},children:[e.jsx(j,{children:"Password"}),e.jsx(g,{type:c?"text":"password",value:x,onChange:s=>w(s.target.value),endAdornment:e.jsx(B,{position:"end",children:e.jsx(D,{onClick:S,onMouseDown:I,edge:"end",children:c?e.jsx(z,{}):e.jsx(E,{})})}),required:!0})]}),h&&e.jsx(L,{error:!0,sx:{mb:2},children:h}),e.jsxs(t,{container:!0,justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[e.jsx(P,{control:e.jsx(F,{checked:i,onChange:s=>f(s.target.checked),color:"primary"}),label:"Keep me logged in"}),e.jsx(l,{component:d,to:"/forgot-password",color:"#E15B65",sx:{textDecoration:"none"},children:"Forgot Password?"})]}),e.jsx(H,{sx:{mt:2},children:e.jsx(W,{children:e.jsx(M,{color:"secondary",fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{bgcolor:"#E15B65"},children:"Sign In"})})})]})}function Q(){return e.jsx(d,{to:_,"aria-label":"theme-logo",children:e.jsx("img",{src:J,alt:"Book Logo",style:{width:160,height:50}})})}function X(){const a=T(i=>i.breakpoints.down("md"));return e.jsx(R,{children:e.jsxs(t,{container:!0,direction:"column",sx:{justifyContent:"flex-end",minHeight:"100vh"},children:[e.jsx(t,{size:12,children:e.jsx(t,{container:!0,sx:{justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(V,{children:e.jsxs(t,{container:!0,spacing:2,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(t,{sx:{mb:3},children:e.jsx(Q,{})}),e.jsx(t,{size:12,children:e.jsx(t,{container:!0,direction:{xs:"column-reverse",md:"row"},sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(t,{children:e.jsxs(q,{spacing:1,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(l,{gutterBottom:!0,variant:a?"h3":"h2",sx:{color:"#E15B65"},children:"Hi, Welcome Back"}),e.jsx(l,{variant:"caption",sx:{fontSize:"16px",textAlign:{xs:"center",md:"inherit"}},children:"Enter your credentials to continue"})]})})})}),e.jsx(t,{size:12,children:e.jsx(K,{})}),e.jsx(t,{size:12,children:e.jsx(G,{})}),e.jsx(t,{size:12,children:e.jsx(t,{container:!0,direction:"column",sx:{alignItems:"center"},size:12,children:e.jsx(l,{component:d,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:"Don't have an account? Sign up"})})})]})})})})}),e.jsx(t,{sx:{px:3,my:3},size:12,children:e.jsx(N,{})})]})})}export{X as default};
