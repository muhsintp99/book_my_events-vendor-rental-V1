import{c as A,j as e,r as a,B as t,T as i,q as k,g as x,Q as N,U as m,am as O,b3 as V}from"./index-BaHW6ngD.js";import{S as E}from"./Star-D7vWhdPi.js";import{C as Y}from"./Close-DGg8Eddr.js";import{T as z,a as u,b as n,c as P}from"./TableRow-Cb9zE8V_.js";import{T as W}from"./TableHead-BOFE__Cx.js";const J=A(e.jsx("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"})),$=()=>{const[o,I]=a.useState([{id:100031,vehicle:"Mercedes-B... Trip ID #100031",reviewer:"Jonathan Jack +8************",rating:5,review:"Booked a luxury car for a business event, and it was top-notch. The car was cle...",date:"06 Feb 2025 05:23:pm",replyDate:"Not replied Yet"}]),[y,w]=a.useState(""),[B,g]=a.useState(!1),[s,f]=a.useState(null),[b,p]=a.useState(""),[C,v]=a.useState(""),[S,T]=a.useState(null),R=o.filter(l=>l.vehicle.toLowerCase().includes(y.toLowerCase())),M=l=>{f(l),p(l.replyDate!=="Not replied Yet"?"Reply updated on "+l.replyDate:""),g(!0)},h=()=>{g(!1),f(null),p("")},F=()=>{if(s&&b){const l=o.map(r=>r.id===s.id?{...r,replyDate:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}:r);I(l),v("Review reply updated"),setTimeout(()=>v(""),3e3),h()}},L=l=>{T(l.currentTarget)},c=l=>{if(l){const r=o.map(U=>Object.values(U).join(",")).join(`
`),D=new Blob([r],{type:l==="CSV"?"text/csv":l==="Excel"?"application/vnd.ms-excel":"application/pdf"}),d=window.URL.createObjectURL(D),j=document.createElement("a");j.href=d,j.download=`reviews.${l.toLowerCase()}`,j.click(),window.URL.revokeObjectURL(d)}T(null)};return e.jsxs(t,{sx:{p:3},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsxs(i,{variant:"h6",sx:{mr:1},children:[e.jsx("span",{role:"img","aria-label":"star",children:"⭐"})," Customers Reviews"]}),e.jsxs(i,{variant:"subtitle1",color:"textSecondary",children:["Reviews ",o.length]})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(k,{placeholder:"Ex: Search by vehicle name",variant:"outlined",size:"small",value:y,onChange:l=>w(l.target.value),sx:{mr:2}}),e.jsxs("div",{children:[e.jsxs(x,{variant:"outlined",color:"#E15B65",size:"small",sx:{textTransform:"none",color:"#E15B65"},onClick:L,children:["Export",e.jsx("span",{style:{marginLeft:"5px"},children:"▼"})]}),e.jsxs(N,{anchorEl:S,open:!!S,onClose:()=>c(null),children:[e.jsx(m,{onClick:()=>c("PDF"),children:"PDF"}),e.jsx(m,{onClick:()=>c("Excel"),children:"Excel"}),e.jsx(m,{onClick:()=>c("CSV"),children:"CSV"})]})]})]}),C&&e.jsx(t,{sx:{position:"fixed",top:10,left:0,right:0,zIndex:1e3,mb:2,p:1,backgroundColor:"#2196F3",color:"white",borderRadius:1,textAlign:"center"},children:C}),e.jsx(O,{sx:{width:"100%",overflow:"hidden"},children:e.jsxs(z,{sx:{minWidth:650},"aria-label":"customer reviews table",children:[e.jsx(W,{children:e.jsxs(u,{children:[e.jsx(n,{children:"#"}),e.jsx(n,{children:"Review Id"}),e.jsx(n,{children:"Vehicle"}),e.jsx(n,{children:"Reviewer"}),e.jsx(n,{children:"Review"}),e.jsx(n,{children:"Date"}),e.jsx(n,{children:"Reply Date"}),e.jsx(n,{children:"Action"})]})}),e.jsx(P,{children:R.length===0?e.jsx(u,{children:e.jsx(n,{colSpan:8,align:"center",children:e.jsx(i,{color:"error",children:"No Data Found"})})}):R.map((l,r)=>e.jsxs(u,{children:[e.jsx(n,{children:r+1}),e.jsx(n,{children:l.id}),e.jsxs(n,{children:[e.jsx("img",{src:"https://via.placeholder.com/50",alt:l.vehicle,style:{marginRight:"10px",verticalAlign:"middle"}}),l.vehicle]}),e.jsx(n,{children:l.reviewer}),e.jsx(n,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[[...Array(l.rating)].map((D,d)=>e.jsx(E,{sx:{color:"#FFD700",fontSize:18}},d)),e.jsx(i,{sx:{ml:1},children:l.review})]})}),e.jsx(n,{children:l.date}),e.jsx(n,{children:l.replyDate}),e.jsx(n,{children:e.jsx(x,{variant:"contained",color:"primary",startIcon:e.jsx(J,{}),sx:{textTransform:"none",bgcolor:"#E15B65"},onClick:()=>M(l),children:l.replyDate!=="Not replied Yet"?"View Reply":"Give Reply"})})]},l.id))})]})}),e.jsx(V,{open:B,onClose:h,children:e.jsxs(t,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:2,display:"flex",flexDirection:"column"},children:[e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(x,{onClick:h,sx:{minWidth:"auto"},children:e.jsx(Y,{})})}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center"},children:[e.jsx("img",{src:"https://via.placeholder.com/50",alt:s==null?void 0:s.vehicle,style:{marginRight:"10px",verticalAlign:"middle"}}),e.jsx(i,{variant:"h6",children:s==null?void 0:s.vehicle})]}),e.jsx(t,{sx:{mb:2,display:"flex",alignItems:"center"},children:e.jsx(t,{sx:{display:"flex"},children:[...Array(s==null?void 0:s.rating)].map((l,r)=>e.jsx(E,{sx:{color:"#FFD700",fontSize:18}},r))})}),e.jsx(i,{sx:{mb:2},children:s==null?void 0:s.review}),e.jsx(k,{fullWidth:!0,multiline:!0,rows:4,value:b,onChange:l=>p(l.target.value),sx:{mb:2},InputProps:{readOnly:(s==null?void 0:s.replyDate)!=="Not replied Yet"},placeholder:(s==null?void 0:s.replyDate)!=="Not replied Yet"?"":"Write your reply here"}),(s==null?void 0:s.replyDate)==="Not replied Yet"&&e.jsx(x,{variant:"contained",color:"primary",onClick:F,sx:{alignSelf:"flex-end",textTransform:"none",backgroundColor:"#E15B65"},children:"Update Reply"})]})})]})};export{$ as default};
