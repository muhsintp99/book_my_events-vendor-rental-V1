import{as as Xt,r as x,at as It,au as Qt,av as lt,aw as Yt,ab as Wt,ac as Ut,ad as Vt,j as o,U as q,ae as pt,ah as ut,af as Gt,ai as Ee,ax as Zt,ay as eo,ag as vt,k as _t,az as qt,x as Kt,ak as Ct,aA as He,aB as Le,aC as $t,aD as jt,s as Re,u as to,d as oo,q as no,B as v,t as At,T as j,S as ct,b as St,N as ro,E as Lt,H as Tt,a as Te,W as ao}from"./index-i4VdWCGq.js";import{A as io}from"./Add-CX0Jg6d1.js";import{D as so}from"./Delete-BaJ3AfYz.js";import{C as Rt}from"./Close-BGkFvPa6.js";import{C as Et}from"./CloudUpload-Z8FxTU0l.js";function Dt(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function lo(n={}){const{ignoreAccents:s=!0,ignoreCase:f=!0,limit:b,matchFrom:L="any",stringify:P,trim:T=!1}=n;return(B,{inputValue:z,getOptionLabel:M})=>{let w=T?z.trim():z;f&&(w=w.toLowerCase()),s&&(w=Dt(w));const U=w?B.filter(ne=>{let R=(P||M)(ne);return f&&(R=R.toLowerCase()),s&&(R=Dt(R)),L==="start"?R.startsWith(w):R.includes(w)}):B;return typeof b=="number"?U.slice(0,b):U}}const co=lo(),Mt=5,po=n=>{var s;return n.current!==null&&((s=n.current.parentElement)==null?void 0:s.contains(document.activeElement))},uo=[];function Ft(n,s,f,b){if(s||n==null||b)return"";const L=f(n);return typeof L=="string"?L:""}function go(n){const{unstable_isActiveElementInListbox:s=po,unstable_classNamePrefix:f="Mui",autoComplete:b=!1,autoHighlight:L=!1,autoSelect:P=!1,blurOnSelect:T=!1,clearOnBlur:B=!n.freeSolo,clearOnEscape:z=!1,componentName:M="useAutocomplete",defaultValue:w=n.multiple?uo:null,disableClearable:U=!1,disableCloseOnSelect:ne=!1,disabled:R,disabledItemsFocusable:ie=!1,disableListWrap:se=!1,filterOptions:je=co,filterSelectedOptions:Se=!1,freeSolo:X=!1,getOptionDisabled:K,getOptionKey:le,getOptionLabel:De=t=>t.label??t,groupBy:Q,handleHomeEndKeys:p=!n.freeSolo,id:We,includeInputInList:ge=!1,inputValue:Pe,isOptionEqualToValue:fe=(t,e)=>t===e,multiple:m=!1,onChange:he,onClose:me,onHighlightChange:Me,onInputChange:J,onOpen:we,open:Xe,openOnFocus:Qe=!1,options:Ye,readOnly:Z=!1,renderValue:H,selectOnFocus:Ue=!n.freeSolo,value:ce}=n,W=Xt(We);let E=De;E=t=>{const e=De(t);return typeof e!="string"?String(e):e};const xe=x.useRef(!1),be=x.useRef(!0),$=x.useRef(null),r=x.useRef(null),[a,C]=x.useState(null),[y,O]=x.useState(-1),re=L?0:-1,u=x.useRef(re),ye=x.useRef(Ft(w??ce,m,E)).current,[l,V]=It({controlled:ce,default:w,name:M}),[d,F]=It({controlled:Pe,default:ye,name:M,state:"inputValue"}),[Oe,Ze]=x.useState(!1),Fe=x.useCallback((t,e,i)=>{if(!(m?l.length<e.length:e!==null)&&!B)return;const c=Ft(e,m,E,H);d!==c&&(F(c),J&&J(t,c,i))},[E,d,m,J,F,B,l,H]),[pe,Ve]=It({controlled:Xe,default:!1,name:M,state:"open"}),[wt,Ne]=x.useState(!0),et=!m&&l!=null&&d===E(l),G=pe&&!Z,S=G?je(Ye.filter(t=>!(Se&&(m?l:[l]).some(e=>e!==null&&fe(t,e)))),{inputValue:et&&wt?"":d,getOptionLabel:E}):[],ee=Qt({filteredOptions:S,value:l,inputValue:d});x.useEffect(()=>{const t=l!==ee.value;Oe&&!t||X&&!t||Fe(null,l,"reset")},[l,Fe,Oe,ee.value,X]);const tt=pe&&S.length>0&&!Z,te=lt(t=>{if(t===-1)$.current.focus();else{const e=H?"data-item-index":"data-tag-index";a.querySelector(`[${e}="${t}"]`).focus()}});x.useEffect(()=>{m&&y>l.length-1&&(O(-1),te(-1))},[l,m,y,te]);function dt(t,e){if(!r.current||t<0||t>=S.length)return-1;let i=t;for(;;){const h=r.current.querySelector(`[data-option-index="${i}"]`),c=ie?!1:!h||h.disabled||h.getAttribute("aria-disabled")==="true";if(h&&h.hasAttribute("tabindex")&&!c)return i;if(e==="next"?i=(i+1)%S.length:i=(i-1+S.length)%S.length,i===t)return-1}}const ue=lt(({event:t,index:e,reason:i})=>{if(u.current=e,e===-1?$.current.removeAttribute("aria-activedescendant"):$.current.setAttribute("aria-activedescendant",`${W}-option-${e}`),Me&&["mouse","keyboard","touch"].includes(i)&&Me(t,e===-1?null:S[e],i),!r.current)return;const h=r.current.querySelector(`[role="option"].${f}-focused`);h&&(h.classList.remove(`${f}-focused`),h.classList.remove(`${f}-focusVisible`));let c=r.current;if(r.current.getAttribute("role")!=="listbox"&&(c=r.current.parentElement.querySelector('[role="listbox"]')),!c)return;if(e===-1){c.scrollTop=0;return}const k=r.current.querySelector(`[data-option-index="${e}"]`);if(k&&(k.classList.add(`${f}-focused`),i==="keyboard"&&k.classList.add(`${f}-focusVisible`),c.scrollHeight>c.clientHeight&&i!=="mouse"&&i!=="touch")){const A=k,Y=c.clientHeight+c.scrollTop,yt=A.offsetTop+A.offsetHeight;yt>Y?c.scrollTop=yt-c.clientHeight:A.offsetTop-A.offsetHeight*(Q?1.3:0)<c.scrollTop&&(c.scrollTop=A.offsetTop-A.offsetHeight*(Q?1.3:0))}}),oe=lt(({event:t,diff:e,direction:i="next",reason:h})=>{if(!G)return;const k=dt((()=>{const A=S.length-1;if(e==="reset")return re;if(e==="start")return 0;if(e==="end")return A;const Y=u.current+e;return Y<0?Y===-1&&ge?-1:se&&u.current!==-1||Math.abs(e)>1?0:A:Y>A?Y===A+1&&ge?-1:se||Math.abs(e)>1?A:0:Y})(),i);if(ue({index:k,reason:h,event:t}),b&&e!=="reset")if(k===-1)$.current.value=d;else{const A=E(S[k]);$.current.value=A,A.toLowerCase().indexOf(d.toLowerCase())===0&&d.length>0&&$.current.setSelectionRange(d.length,A.length)}}),gt=()=>{const t=(e,i)=>{const h=e?E(e):"",c=i?E(i):"";return h===c};if(u.current!==-1&&ee.filteredOptions&&ee.filteredOptions.length!==S.length&&ee.inputValue===d&&(m?l.length===ee.value.length&&ee.value.every((e,i)=>E(l[i])===E(e)):t(ee.value,l))){const e=ee.filteredOptions[u.current];if(e)return S.findIndex(i=>E(i)===E(e))}return-1},Ge=x.useCallback(()=>{if(!G)return;const t=gt();if(t!==-1){u.current=t;return}const e=m?l[0]:l;if(S.length===0||e==null){oe({diff:"reset"});return}if(r.current){if(e!=null){const i=S[u.current];if(m&&i&&l.findIndex(c=>fe(i,c))!==-1)return;const h=S.findIndex(c=>fe(c,e));h===-1?oe({diff:"reset"}):ue({index:h});return}if(u.current>=S.length-1){ue({index:S.length-1});return}ue({index:u.current})}},[S.length,m?!1:l,Se,oe,ue,G,d,m]),ft=lt(t=>{Yt(r,t),t&&Ge()});x.useEffect(()=>{Ge()},[Ge]);const _=t=>{pe||(Ve(!0),Ne(!0),we&&we(t))},ke=(t,e)=>{pe&&(Ve(!1),me&&me(t,e))},de=(t,e,i,h)=>{if(m){if(l.length===e.length&&l.every((c,k)=>c===e[k]))return}else if(l===e)return;he&&he(t,e,i,h),V(e)},Be=x.useRef(!1),ae=(t,e,i="selectOption",h="options")=>{let c=i,k=e;if(m){k=Array.isArray(l)?l.slice():[];const A=k.findIndex(Y=>fe(e,Y));A===-1?k.push(e):h!=="freeSolo"&&(k.splice(A,1),c="removeOption")}Fe(t,k,c),de(t,k,c,{option:e}),!ne&&(!t||!t.ctrlKey&&!t.metaKey)&&ke(t,c),(T===!0||T==="touch"&&Be.current||T==="mouse"&&!Be.current)&&$.current.blur()};function ot(t,e){if(t===-1)return-1;let i=t;for(;;){if(e==="next"&&i===l.length||e==="previous"&&i===-1)return-1;const h=H?"data-item-index":"data-tag-index",c=a.querySelector(`[${h}="${i}"]`);if(!c||!c.hasAttribute("tabindex")||c.disabled||c.getAttribute("aria-disabled")==="true")i+=e==="next"?1:-1;else return i}}const nt=(t,e)=>{if(!m)return;d===""&&ke(t,"toggleInput");let i=y;y===-1?d===""&&e==="previous"&&(i=l.length-1):(i+=e==="next"?1:-1,i<0&&(i=0),i===l.length&&(i=-1)),i=ot(i,e),O(i),te(i)},$e=t=>{xe.current=!0,F(""),J&&J(t,"","clear"),de(t,m?[]:null,"clear")},ht=t=>e=>{if(t.onKeyDown&&t.onKeyDown(e),!e.defaultMuiPrevented&&(y!==-1&&!["ArrowLeft","ArrowRight"].includes(e.key)&&(O(-1),te(-1)),e.which!==229))switch(e.key){case"Home":G&&p&&(e.preventDefault(),oe({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":G&&p&&(e.preventDefault(),oe({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),oe({diff:-Mt,direction:"previous",reason:"keyboard",event:e}),_(e);break;case"PageDown":e.preventDefault(),oe({diff:Mt,direction:"next",reason:"keyboard",event:e}),_(e);break;case"ArrowDown":e.preventDefault(),oe({diff:1,direction:"next",reason:"keyboard",event:e}),_(e);break;case"ArrowUp":e.preventDefault(),oe({diff:-1,direction:"previous",reason:"keyboard",event:e}),_(e);break;case"ArrowLeft":!m&&H?te(0):nt(e,"previous");break;case"ArrowRight":!m&&H?te(-1):nt(e,"next");break;case"Enter":if(u.current!==-1&&G){const i=S[u.current],h=K?K(i):!1;if(e.preventDefault(),h)return;ae(e,i,"selectOption"),b&&$.current.setSelectionRange($.current.value.length,$.current.value.length)}else X&&d!==""&&et===!1&&(m&&e.preventDefault(),ae(e,d,"createOption","freeSolo"));break;case"Escape":G?(e.preventDefault(),e.stopPropagation(),ke(e,"escape")):z&&(d!==""||m&&l.length>0||H)&&(e.preventDefault(),e.stopPropagation(),$e(e));break;case"Backspace":if(m&&!Z&&d===""&&l.length>0){const i=y===-1?l.length-1:y,h=l.slice();h.splice(i,1),de(e,h,"removeOption",{option:l[i]})}!m&&H&&!Z&&(V(null),te(-1));break;case"Delete":if(m&&!Z&&d===""&&l.length>0&&y!==-1){const i=y,h=l.slice();h.splice(i,1),de(e,h,"removeOption",{option:l[i]})}!m&&H&&!Z&&(V(null),te(-1));break}},mt=t=>{Ze(!0),Qe&&!xe.current&&_(t)},Ae=t=>{if(s(r)){$.current.focus();return}Ze(!1),be.current=!0,xe.current=!1,P&&u.current!==-1&&G?ae(t,S[u.current],"blur"):P&&X&&d!==""?ae(t,d,"blur","freeSolo"):B&&Fe(t,l,"blur"),ke(t,"blur")},_e=t=>{const e=t.target.value;d!==e&&(F(e),Ne(!1),J&&J(t,e,"input")),e===""?!U&&!m&&de(t,null,"clear"):_(t)},qe=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));u.current!==e&&ue({event:t,index:e,reason:"mouse"})},xt=t=>{ue({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Be.current=!0},bt=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));ae(t,S[e],"selectOption"),Be.current=!1},rt=t=>e=>{const i=l.slice();i.splice(t,1),de(e,i,"removeOption",{option:l[t]})},Ot=t=>{de(t,null,"removeOption",{option:l})},ze=t=>{pe?ke(t,"toggleInput"):_(t)},N=t=>{t.currentTarget.contains(t.target)&&t.target.getAttribute("id")!==W&&t.preventDefault()},D=t=>{t.currentTarget.contains(t.target)&&($.current.focus(),Ue&&be.current&&$.current.selectionEnd-$.current.selectionStart===0&&$.current.select(),be.current=!1)},Ie=t=>{!R&&(d===""||!pe)&&ze(t)};let Ke=X&&d.length>0;Ke=Ke||(m?l.length>0:l!==null);let at=S;return Q&&(at=S.reduce((t,e,i)=>{const h=Q(e);return t.length>0&&t[t.length-1].group===h?t[t.length-1].options.push(e):t.push({key:i,index:i,group:h,options:[e]}),t},[])),R&&Oe&&Ae(),{getRootProps:(t={})=>({...t,onKeyDown:ht(t),onMouseDown:N,onClick:D}),getInputLabelProps:()=>({id:`${W}-label`,htmlFor:W}),getInputProps:()=>({id:W,value:d,onBlur:Ae,onFocus:mt,onChange:_e,onMouseDown:Ie,"aria-activedescendant":G?"":null,"aria-autocomplete":b?"both":"list","aria-controls":tt?`${W}-listbox`:void 0,"aria-expanded":tt,autoComplete:"off",ref:$,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:R}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:$e}),getItemProps:({index:t=0}={})=>({...m&&{key:t},...H?{"data-item-index":t}:{"data-tag-index":t},tabIndex:-1,...!Z&&{onDelete:m?rt(t):Ot}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:ze}),getTagProps:({index:t})=>({key:t,"data-tag-index":t,tabIndex:-1,...!Z&&{onDelete:rt(t)}}),getListboxProps:()=>({role:"listbox",id:`${W}-listbox`,"aria-labelledby":`${W}-label`,ref:ft,onMouseDown:t=>{t.preventDefault()}}),getOptionProps:({index:t,option:e})=>{const i=(m?l:[l]).some(c=>c!=null&&fe(e,c)),h=K?K(e):!1;return{key:(le==null?void 0:le(e))??E(e),tabIndex:-1,role:"option",id:`${W}-option-${t}`,onMouseMove:qe,onClick:bt,onTouchStart:xt,"data-option-index":t,"aria-disabled":h,"aria-selected":i}},id:W,inputValue:d,value:l,dirty:Ke,expanded:G&&a,popupOpen:G,focused:Oe||y!==-1,anchorEl:a,setAnchorEl:C,focusedItem:y,focusedTag:y,groupedOptions:at}}function fo(n){return Wt("MuiListSubheader",n)}Ut("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ho=n=>{const{classes:s,color:f,disableGutters:b,inset:L,disableSticky:P}=n,T={root:["root",f!=="default"&&`color${ut(f)}`,!b&&"gutters",L&&"inset",!P&&"sticky"]};return Gt(T,fo,s)},mo=q("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,s)=>{const{ownerState:f}=n;return[s.root,f.color!=="default"&&s[`color${ut(f.color)}`],!f.disableGutters&&s.gutters,f.inset&&s.inset,!f.disableSticky&&s.sticky]}})(Ee(({theme:n})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(n.vars||n).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.inset,style:{paddingLeft:72}},{props:({ownerState:s})=>!s.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper}}]}))),Pt=x.forwardRef(function(s,f){const b=Vt({props:s,name:"MuiListSubheader"}),{className:L,color:P="default",component:T="li",disableGutters:B=!1,disableSticky:z=!1,inset:M=!1,...w}=b,U={...b,color:P,component:T,disableGutters:B,disableSticky:z,inset:M},ne=ho(U);return o.jsx(mo,{as:T,className:pt(ne.root,L),ref:f,ownerState:U,...w})});Pt&&(Pt.muiSkipListHighlight=!0);function xo(n){return Wt("MuiAutocomplete",n)}const g=Ut("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Nt,Bt;const bo=n=>{const{classes:s,disablePortal:f,expanded:b,focused:L,fullWidth:P,hasClearIcon:T,hasPopupIcon:B,inputFocused:z,popupOpen:M,size:w}=n,U={root:["root",b&&"expanded",L&&"focused",P&&"fullWidth",T&&"hasClearIcon",B&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",z&&"inputFocused"],tag:["tag",`tagSize${ut(w)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",M&&"popupIndicatorOpen"],popper:["popper",f&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Gt(U,xo,s)},yo=q("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,s)=>{const{ownerState:f}=n,{fullWidth:b,hasClearIcon:L,hasPopupIcon:P,inputFocused:T,size:B}=f;return[{[`& .${g.tag}`]:s.tag},{[`& .${g.tag}`]:s[`tagSize${ut(B)}`]},{[`& .${g.inputRoot}`]:s.inputRoot},{[`& .${g.input}`]:s.input},{[`& .${g.input}`]:T&&s.inputFocused},s.root,b&&s.fullWidth,P&&s.hasPopupIcon,L&&s.hasClearIcon]}})({[`&.${g.focused} .${g.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${g.clearIndicator}`]:{visibility:"visible"}},[`& .${g.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${g.inputRoot}`]:{[`.${g.hasPopupIcon}&, .${g.hasClearIcon}&`]:{paddingRight:30},[`.${g.hasPopupIcon}.${g.hasClearIcon}&`]:{paddingRight:56},[`& .${g.input}`]:{width:0,minWidth:30}},[`& .${jt.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${jt.root}.${Le.sizeSmall}`]:{[`& .${jt.input}`]:{padding:"2px 4px 3px 0"}},[`& .${$t.root}`]:{padding:9,[`.${g.hasPopupIcon}&, .${g.hasClearIcon}&`]:{paddingRight:39},[`.${g.hasPopupIcon}.${g.hasClearIcon}&`]:{paddingRight:65},[`& .${g.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${g.endAdornment}`]:{right:9}},[`& .${$t.root}.${Le.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${g.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${He.root}`]:{paddingTop:19,paddingLeft:8,[`.${g.hasPopupIcon}&, .${g.hasClearIcon}&`]:{paddingRight:39},[`.${g.hasPopupIcon}.${g.hasClearIcon}&`]:{paddingRight:65},[`& .${He.input}`]:{padding:"7px 4px"},[`& .${g.endAdornment}`]:{right:9}},[`& .${He.root}.${Le.sizeSmall}`]:{paddingBottom:1,[`& .${He.input}`]:{padding:"2.5px 4px"}},[`& .${Le.hiddenLabel}`]:{paddingTop:8},[`& .${He.root}.${Le.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${g.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${He.root}.${Le.hiddenLabel}.${Le.sizeSmall}`]:{[`& .${g.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${g.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${g.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${g.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${g.inputRoot}`]:{flexWrap:"wrap"}}}]}),Io=q("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),vo=q(Re,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),Co=q(Re,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(n,s)=>{const{ownerState:f}=n;return[s.popupIndicator,f.popupOpen&&s.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),jo=q(qt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,s)=>{const{ownerState:f}=n;return[{[`& .${g.option}`]:s.option},s.popper,f.disablePortal&&s.popperDisablePortal]}})(Ee(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),So=q(_t,{name:"MuiAutocomplete",slot:"Paper"})(Ee(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),Po=q("div",{name:"MuiAutocomplete",slot:"Loading"})(Ee(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),wo=q("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Ee(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),Oo=q("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Ee(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${g.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${g.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${g.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Ct(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${g.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Ct(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${g.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Ct(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}}))),ko=q(Pt,{name:"MuiAutocomplete",slot:"GroupLabel"})(Ee(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),$o=q("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${g.option}`]:{paddingLeft:24}}),Ao=x.forwardRef(function(s,f){const b=Vt({props:s,name:"MuiAutocomplete"}),{autoComplete:L=!1,autoHighlight:P=!1,autoSelect:T=!1,blurOnSelect:B=!1,ChipProps:z,className:M,clearIcon:w=Nt||(Nt=o.jsx(Zt,{fontSize:"small"})),clearOnBlur:U=!b.freeSolo,clearOnEscape:ne=!1,clearText:R="Clear",closeText:ie="Close",componentsProps:se,defaultValue:je=b.multiple?[]:null,disableClearable:Se=!1,disableCloseOnSelect:X=!1,disabled:K=!1,disabledItemsFocusable:le=!1,disableListWrap:De=!1,disablePortal:Q=!1,filterOptions:p,filterSelectedOptions:We=!1,forcePopupIcon:ge="auto",freeSolo:Pe=!1,fullWidth:fe=!1,getLimitTagsText:m=I=>`+${I}`,getOptionDisabled:he,getOptionKey:me,getOptionLabel:Me,isOptionEqualToValue:J,groupBy:we,handleHomeEndKeys:Xe=!b.freeSolo,id:Qe,includeInputInList:Ye=!1,inputValue:Z,limitTags:H=-1,ListboxComponent:Ue,ListboxProps:ce,loading:W=!1,loadingText:E="Loading…",multiple:xe=!1,noOptionsText:be="No options",onChange:$,onClose:r,onHighlightChange:a,onInputChange:C,onOpen:y,open:O,openOnFocus:re=!1,openText:u="Open",options:ye,PaperComponent:l,PopperComponent:V,popupIcon:d=Bt||(Bt=o.jsx(eo,{})),readOnly:F=!1,renderGroup:Oe,renderInput:Ze,renderOption:Fe,renderTags:pe,renderValue:Ve,selectOnFocus:wt=!b.freeSolo,size:Ne="medium",slots:et={},slotProps:G={},value:S,...ee}=b,{getRootProps:tt,getInputProps:te,getInputLabelProps:dt,getPopupIndicatorProps:ue,getClearProps:oe,getItemProps:gt,getListboxProps:Ge,getOptionProps:ft,value:_,dirty:ke,expanded:de,id:Be,popupOpen:ae,focused:ot,focusedItem:nt,anchorEl:$e,setAnchorEl:ht,inputValue:mt,groupedOptions:Ae}=go({...b,componentName:"Autocomplete"}),_e=!Se&&!K&&ke&&!F,qe=(!Pe||ge===!0)&&ge!==!1,{onMouseDown:xt}=te(),{ref:bt,...rt}=Ge(),ze=Me||(I=>I.label??I),N={...b,disablePortal:Q,expanded:de,focused:ot,fullWidth:fe,getOptionLabel:ze,hasClearIcon:_e,hasPopupIcon:qe,inputFocused:nt===-1,popupOpen:ae,size:Ne},D=bo(N),Ie={slots:{paper:l,popper:V,...et},slotProps:{chip:z,listbox:ce,...se,...G}},[Ke,at]=vt("listbox",{elementType:Oo,externalForwardedProps:Ie,ownerState:N,className:D.listbox,additionalProps:rt,ref:bt}),[t,e]=vt("paper",{elementType:_t,externalForwardedProps:Ie,ownerState:N,className:D.paper}),[i,h]=vt("popper",{elementType:qt,externalForwardedProps:Ie,ownerState:N,className:D.popper,additionalProps:{disablePortal:Q,style:{width:$e?$e.clientWidth:null},role:"presentation",anchorEl:$e,open:ae}});let c;const k=I=>({className:D.tag,disabled:K,...gt(I)});if(pe&&xe&&_.length>0?c=pe(_,k,N):Ve&&_?c=Ve(_,k,N):xe&&_.length>0&&(c=_.map((I,ve)=>{const{key:Ce,...Je}=k({index:ve});return o.jsx(Kt,{label:ze(I),size:Ne,...Je,...Ie.slotProps.chip},Ce)})),H>-1&&Array.isArray(c)){const I=c.length-H;!ot&&I>0&&(c=c.splice(0,H),c.push(o.jsx("span",{className:D.tag,children:m(I)},c.length)))}const Y=Oe||(I=>o.jsxs("li",{children:[o.jsx(ko,{className:D.groupLabel,ownerState:N,component:"div",children:I.group}),o.jsx($o,{className:D.groupUl,ownerState:N,children:I.children})]},I.key)),Jt=Fe||((I,ve)=>{const{key:Ce,...Je}=I;return o.jsx("li",{...Je,children:ze(ve)},Ce)}),kt=(I,ve)=>{const Ce=ft({option:I,index:ve});return Jt({...Ce,className:D.option},I,{selected:Ce["aria-selected"],index:ve,inputValue:mt},N)},it=Ie.slotProps.clearIndicator,st=Ie.slotProps.popupIndicator;return o.jsxs(x.Fragment,{children:[o.jsx(yo,{ref:f,className:pt(D.root,M),ownerState:N,...tt(ee),children:Ze({id:Be,disabled:K,fullWidth:!0,size:Ne==="small"?"small":void 0,InputLabelProps:dt(),InputProps:{ref:ht,className:D.inputRoot,startAdornment:c,onMouseDown:I=>{I.target===I.currentTarget&&xt(I)},...(_e||qe)&&{endAdornment:o.jsxs(Io,{className:D.endAdornment,ownerState:N,children:[_e?o.jsx(vo,{...oe(),"aria-label":R,title:R,ownerState:N,...it,className:pt(D.clearIndicator,it==null?void 0:it.className),children:w}):null,qe?o.jsx(Co,{...ue(),disabled:K,"aria-label":ae?ie:u,title:ae?ie:u,ownerState:N,...st,className:pt(D.popupIndicator,st==null?void 0:st.className),children:d}):null]})}},inputProps:{className:D.input,disabled:K,readOnly:F,...te()}})}),$e?o.jsx(jo,{as:i,...h,children:o.jsxs(So,{as:t,...e,children:[W&&Ae.length===0?o.jsx(Po,{className:D.loading,ownerState:N,children:E}):null,Ae.length===0&&!Pe&&!W?o.jsx(wo,{className:D.noOptions,ownerState:N,role:"presentation",onMouseDown:I=>{I.preventDefault()},children:be}):null,Ae.length>0?o.jsx(Ke,{as:Ue,...at,children:Ae.map((I,ve)=>we?Y({key:I.key,group:I.group,children:I.options.map((Ce,Je)=>kt(Ce,I.index+Je))}):kt(I,ve))}):null]})}):null]})}),zt=q(v)(({theme:n})=>({border:"2px dashed #e0e0e0",borderRadius:n.shape.borderRadius,padding:n.spacing(3),textAlign:"center",backgroundColor:n.palette.grey[50],cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px","&:hover":{borderColor:"#E15B65"},'& input[type="file"]':{display:"none"}})),Ht=q(v)({position:"relative",display:"inline-block"}),Lo=()=>{var s;let n=localStorage.getItem("providerId");if(!n){const f=localStorage.getItem("user");if(f)try{const b=JSON.parse(f);localStorage.getItem("logRes")?n=((s=b.profile)==null?void 0:s._id)||b._id:n=b.providerId||b._id,n&&localStorage.setItem("providerId",n)}catch(b){console.error("Error parsing user:",b)}}return n},Fo=()=>{var be,$;const n=to(),s=oo(),f=no(),[b,L]=x.useState("form"),[P,T]=x.useState({packageTitle:"",subtitle:"",description:"",startingPrice:""}),[B,z]=x.useState([{id:Date.now(),heading:"",includes:""}]),[M,w]=x.useState(null),[U,ne]=x.useState([]),[R,ie]=x.useState(null),[se,je]=x.useState([]),[Se,X]=x.useState(!1),[K,le]=x.useState(""),[De,Q]=x.useState("success"),[p,We]=x.useState(null),[ge,Pe]=x.useState(!0),[fe,m]=x.useState({}),he="https://api.bookmyevent.ae",me=r=>{if(!r)return"/placeholder.jpg";let a=r.toLowerCase().replace(/^uploads/i,"/uploads");return a.startsWith("/")||(a="/"+a),`${he}${a}`},Me=()=>localStorage.getItem("token")||sessionStorage.getItem("token");x.useEffect(()=>{(async()=>{try{const a=Me(),C=localStorage.getItem("moduleId"),y={Accept:"application/json"};a&&(y.Authorization=`Bearer ${a}`);const O=await fetch(`${he}/api/categories/modules/${C}`,{headers:y});if(!O.ok)throw new Error(`HTTP error! Status: ${O.status}`);const re=O.headers.get("content-type");if(!re||!re.includes("application/json"))throw new Error("Response is not JSON");const u=await O.json();if(u.success&&Array.isArray(u.data)&&u.data.length>0){const ye=u.data.map(V=>({value:V._id,label:V.title||V.name}));ne(ye);const l={};u.data.forEach(V=>{l[V._id]=V.title||V.name}),m(l)}else ne([]),m({});Pe(!1)}catch(a){console.error("Error fetching categories:",a.message),ne([]),m({}),Pe(!1)}})()},[]),x.useEffect(()=>{var r;if((r=f.state)!=null&&r.editPackage){const a=f.state.editPackage;We(a),W(a)}},[f.state]),x.useEffect(()=>{var r,a;if(p&&U.length>0&&!M&&((r=p.categories)==null?void 0:r.length)>0){const C=((a=p.categories[0])==null?void 0:a._id)||p.categories[0],y=U.find(O=>O.value===C);y&&w(y)}},[U,p,M]);const J=r=>{const{name:a,value:C}=r.target;T(y=>({...y,[a]:C}))},we=(r,a,C)=>{z(y=>y.map(O=>O.id===r?{...O,[a]:C}:O))},Xe=()=>{z(r=>[...r,{id:Date.now(),heading:"",includes:""}])},Qe=r=>{z(a=>a.filter(C=>C.id!==r))},Ye=r=>{const a=r.target.files[0];a&&ie(a)},Z=r=>{const a=Array.from(r.target.files);je(C=>[...C,...a])},H=r=>{je(a=>a.filter((C,y)=>y!==r))},Ue=()=>{ie(null)},ce=(r,a)=>{a!=="clickaway"&&X(!1)},W=r=>{var C,y;T({packageTitle:r.title||"",subtitle:r.subtitle||"",description:r.description||"",startingPrice:((C=r.price)==null?void 0:C.toString())||""}),z((r.includes||[]).map((O,re)=>{var u;return{id:Date.now()+re,heading:O.title||"",includes:((u=O.items)==null?void 0:u.join(", "))||""}}));const a=(y=r.categories)==null?void 0:y[0];w(a?{value:a._id||a,label:a.title||a.name||""}:null),ie(null),je([])},E=()=>{p&&W(p),L("form")},xe=async r=>{r.preventDefault();const a=localStorage.getItem("token");if(!a){le("No authentication token found. Please log in."),Q("error"),X(!0);return}const C=Lo(),y=localStorage.getItem("moduleId");if(!C){le("Provider ID is missing. Please log in again."),Q("error"),X(!0);return}console.log("Using providerId:",C);const O=B.filter(d=>d.includes.trim()).map(d=>({title:d.heading.trim()||"Menu Item",items:d.includes.split(",").map(F=>F.trim()).filter(F=>F)})),re=parseFloat(P.startingPrice)||0,u=new FormData;u.append("providerId",C),u.append("module",y||""),u.append("title",P.packageTitle||"Custom Package"),u.append("subtitle",P.subtitle||""),u.append("description",P.description||""),u.append("cateringType","custom"),u.append("includes",JSON.stringify(O)),M?u.append("categories",JSON.stringify([M.value])):u.append("categories",JSON.stringify([])),u.append("price",re.toString()),R&&u.append("thumbnail",R),se.forEach(d=>{u.append("images",d)});const ye=!!(p!=null&&p._id),l=ye?`${he}/api/catering/${p._id}`:`${he}/api/catering`,V=ye?"PUT":"POST";try{const d=await fetch(l,{method:V,body:u,headers:{Authorization:`Bearer ${a}`}});let F;try{F=await d.json()}catch{throw new Error("Invalid response from server")}if(d.ok)T({packageTitle:"",subtitle:"",description:"",startingPrice:""}),z([{id:Date.now(),heading:"",includes:""}]),w(null),ie(null),je([]),We(F.data),L("preview"),le(F.message||`Catering ${ye?"updated":"created"} successfully!`),Q("success"),X(!0);else throw new Error(F.error||F.message||"Failed to save catering")}catch(d){console.error("Error submitting form:",d),le(`Error saving catering: ${d.message}`),Q("error"),X(!0)}};return b==="preview"&&p?o.jsx(v,{sx:{p:3,backgroundColor:n.palette.grey[100],minHeight:"100vh",width:"100%"},children:o.jsxs(v,{sx:{width:"100%",margin:"auto",backgroundColor:"white",borderRadius:n.shape.borderRadius,boxShadow:n.shadows[1],p:3,overflowX:"hidden"},children:[o.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[o.jsx(Re,{onClick:()=>s(-1),color:"primary",children:o.jsx(At,{})}),o.jsx(j,{variant:"h5",component:"h1",children:"Package Preview"})]}),o.jsxs(v,{sx:{position:"relative",mb:3},children:[o.jsx("img",{src:me(p.thumbnail),alt:p.title,style:{width:"100%",height:200,objectFit:"cover",borderRadius:8},onError:r=>{r.target.onerror=null,r.target.src="/placeholder.jpg"}}),o.jsxs(v,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.7))",color:"white",p:2},children:[o.jsx(j,{variant:"h6",sx:{mb:.5},children:p.title||"Untitled Package"}),o.jsx(j,{variant:"body2",children:p.subtitle||"Traditional Style"})]})]}),o.jsx(j,{variant:"body1",sx:{mb:3,textAlign:"justify"},children:p.description||"No description available."}),p.categories&&p.categories.length>0&&o.jsxs(v,{sx:{mb:3},children:[o.jsx(j,{variant:"h6",sx:{mb:1},children:"Category"}),o.jsx(Kt,{label:((be=p.categories[0])==null?void 0:be.title)||p.categories[0]||"Uncategorized",variant:"outlined",color:"primary"})]}),o.jsx(j,{variant:"h6",sx:{mb:2},children:"Includes"}),(p.includes||[]).map((r,a)=>{var C;return o.jsxs(v,{sx:{mb:2},children:[o.jsx(j,{variant:"subtitle1",sx:{mb:1,fontWeight:"medium"},children:r.title||"Untitled Section"}),o.jsx(ct,{component:"ul",spacing:.5,sx:{pl:2,mb:0},children:((C=r.items)==null?void 0:C.map((y,O)=>o.jsx(j,{variant:"body2",component:"li",children:y},O)))||o.jsx(j,{variant:"body2",color:"text.secondary",children:"No items"})})]},a)}),o.jsxs(v,{sx:{textAlign:"center",mb:3},children:[o.jsx(j,{variant:"h6",sx:{mb:.5},children:"Starting Price"}),o.jsxs(j,{variant:"h4",color:"primary",children:["₹",p.price||0," Per Head"]})]}),o.jsxs(v,{sx:{mb:3},children:[o.jsx(j,{variant:"subtitle1",sx:{mb:1},children:"Gallery"}),o.jsxs(ct,{direction:"row",spacing:2,sx:{flexWrap:"wrap",justifyContent:"center"},children:[(p.images||[]).slice(0,6).map((r,a)=>o.jsx(v,{sx:{position:"relative"},children:o.jsx("img",{src:me(r),alt:`Gallery image ${a+1}`,style:{width:150,height:150,objectFit:"cover",borderRadius:8},onError:C=>{C.target.onerror=null,C.target.src="/placeholder.jpg"}})},a)),(!p.images||p.images.length===0)&&o.jsx(j,{variant:"body2",color:"text.secondary",children:"No images"})]})]}),o.jsx(v,{sx:{display:"flex",gap:2,justifyContent:"center"},children:o.jsx(St,{variant:"outlined",startIcon:o.jsx(ro,{}),onClick:E,sx:{color:"#E15B65",borderColor:"#E15B65"},children:"Edit Menu"})}),o.jsx(Lt,{open:Se,autoHideDuration:6e3,onClose:ce,anchorOrigin:{vertical:"top",horizontal:"center"},children:o.jsx(Tt,{onClose:ce,severity:De,sx:{width:"100%"},children:K})})]})}):o.jsx(v,{sx:{p:3,backgroundColor:n.palette.grey[100],minHeight:"100vh",width:"100%"},children:o.jsxs(v,{sx:{width:"100%",margin:"auto",backgroundColor:"white",borderRadius:n.shape.borderRadius,boxShadow:n.shadows[1],p:3,overflowX:"hidden"},children:[o.jsxs(v,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[p&&o.jsx(Re,{onClick:()=>s(-1),color:"primary",children:o.jsx(At,{})}),o.jsx(j,{variant:"h5",component:"h1",children:p?"Edit Menu":"Add New Menu"})]}),o.jsxs(v,{component:"form",onSubmit:xe,children:[o.jsx(Te,{fullWidth:!0,label:"Package Title",name:"packageTitle",value:P.packageTitle,onChange:J,placeholder:"Type package title",sx:{mb:2},variant:"outlined"}),o.jsx(Te,{fullWidth:!0,label:"Subtitle",name:"subtitle",value:P.subtitle,onChange:J,placeholder:"Type subtitle",sx:{mb:2},variant:"outlined"}),o.jsx(Te,{fullWidth:!0,label:"Description",name:"description",value:P.description,onChange:J,placeholder:"Type description",multiline:!0,rows:3,sx:{mb:2},variant:"outlined"}),o.jsx(Ao,{fullWidth:!0,options:U,getOptionLabel:r=>r.label,isOptionEqualToValue:(r,a)=>r.value===(a==null?void 0:a.value),value:M,onChange:(r,a)=>w(a),renderInput:r=>o.jsx(Te,{...r,label:"Category",placeholder:ge?"Loading categories...":"Select a category",sx:{mb:2},variant:"outlined",disabled:ge})}),o.jsxs(v,{sx:{mb:3},children:[o.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[o.jsx(j,{variant:"subtitle1",children:"Menu List"}),o.jsx(St,{variant:"contained",size:"small",onClick:Xe,startIcon:o.jsx(io,{}),sx:{backgroundColor:"#E15B65",color:"white"},children:"Add"})]}),B.map(r=>o.jsxs(v,{sx:{border:`1px solid ${n.palette.grey[300]}`,borderRadius:1,p:2,mb:2},children:[o.jsx(Te,{fullWidth:!0,label:"Add heading here",value:r.heading,onChange:a=>we(r.id,"heading",a.target.value),sx:{mb:2},variant:"outlined"}),o.jsxs(v,{sx:{display:"flex",gap:1,alignItems:"flex-end"},children:[o.jsx(Te,{fullWidth:!0,label:"Includes",value:r.includes,onChange:a=>we(r.id,"includes",a.target.value),multiline:!0,rows:3,sx:{flex:1},variant:"outlined",placeholder:"Enter items separated by commas"}),o.jsx(Re,{onClick:()=>Qe(r.id),color:"error",sx:{alignSelf:"flex-end"},children:o.jsx(so,{})})]})]},r.id))]}),o.jsxs(v,{sx:{display:"flex",gap:3,mb:3},children:[o.jsxs(v,{sx:{flex:1},children:[o.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Thumbnail Image"}),o.jsxs(zt,{onClick:()=>document.getElementById("thumbnail-upload").click(),children:[R?o.jsxs(v,{sx:{textAlign:"center"},children:[o.jsxs(Ht,{children:[o.jsx("img",{src:URL.createObjectURL(R),alt:"Thumbnail preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:n.spacing(1)}}),o.jsx(Re,{onClick:Ue,size:"small",sx:{position:"absolute",top:-8,right:-8,backgroundColor:"white",color:"error",boxShadow:n.shadows[2]},children:o.jsx(Rt,{fontSize:"small"})})]}),o.jsx(j,{variant:"body2",color:"text.secondary",children:R.name})]}):p!=null&&p.thumbnail?o.jsxs(v,{sx:{textAlign:"center"},children:[o.jsx("img",{src:me(p.thumbnail),alt:"Current thumbnail",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:n.spacing(1)},onError:r=>{r.target.onerror=null,r.target.src="/placeholder.jpg"}}),o.jsx(j,{variant:"body2",color:"text.secondary",children:"Current thumbnail. Click to replace."})]}):o.jsxs(v,{children:[o.jsx(Et,{sx:{fontSize:40,color:n.palette.grey[400],mb:1}}),o.jsx(j,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),o.jsx(j,{variant:"body2",color:"text.secondary",children:"Or drag and drop"})]}),o.jsx("input",{type:"file",id:"thumbnail-upload",hidden:!0,accept:"image/jpeg,image/png,image/jpg",onChange:Ye})]})]}),o.jsxs(v,{sx:{flex:1},children:[o.jsx(j,{variant:"subtitle2",gutterBottom:!0,children:"Gallery Images"}),o.jsxs(zt,{onClick:()=>document.getElementById("gallery-upload").click(),children:[se.length>0?o.jsxs(v,{sx:{textAlign:"center"},children:[o.jsx(ct,{direction:"row",flexWrap:"wrap",spacing:1,sx:{justifyContent:"center",mb:1},children:se.map((r,a)=>o.jsxs(Ht,{children:[o.jsx("img",{src:URL.createObjectURL(r),alt:`Gallery preview ${a+1}`,style:{width:100,height:100,objectFit:"cover",borderRadius:4}}),o.jsx(Re,{onClick:()=>H(a),size:"small",sx:{position:"absolute",top:-8,right:-8,backgroundColor:"white",color:"error",boxShadow:n.shadows[2]},children:o.jsx(Rt,{fontSize:"small"})})]},a))}),o.jsxs(j,{variant:"body2",color:"text.secondary",children:[se.length," image(s) selected"]})]}):o.jsxs(v,{children:[o.jsx(Et,{sx:{fontSize:40,color:n.palette.grey[400],mb:1}}),o.jsx(j,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),o.jsx(j,{variant:"body2",color:"text.secondary",children:"Or drag and drop"})]}),o.jsx("input",{type:"file",id:"gallery-upload",hidden:!0,accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:Z})]}),(($=p==null?void 0:p.images)==null?void 0:$.length)>0&&o.jsxs(v,{sx:{mt:2},children:[o.jsx(j,{variant:"subtitle2",gutterBottom:!0,color:"text.secondary",children:"Existing Images"}),o.jsx(ct,{direction:"row",flexWrap:"wrap",spacing:1,children:p.images.map((r,a)=>o.jsx(v,{sx:{position:"relative"},children:o.jsx("img",{src:me(r),alt:`Existing gallery ${a+1}`,style:{width:100,height:100,objectFit:"cover",borderRadius:4},onError:C=>{C.target.onerror=null,C.target.src="/placeholder.jpg"}})},a))})]})]})]}),o.jsx(v,{sx:{mb:3},children:o.jsx(Te,{fullWidth:!0,label:"₹ Price (Starting From)",name:"startingPrice",value:P.startingPrice,onChange:J,type:"number",inputProps:{min:0},InputProps:{endAdornment:o.jsx(ao,{position:"end",children:o.jsx(j,{variant:"body2",color:"text.secondary",children:"Per Head"})})},variant:"outlined"})}),o.jsx(St,{type:"submit",variant:"contained",fullWidth:!0,sx:{backgroundColor:"#E15B65",color:"white",py:1.5},children:p?"Update Menu":"Create Menu"})]}),o.jsx(Lt,{open:Se,autoHideDuration:6e3,onClose:ce,anchorOrigin:{vertical:"top",horizontal:"center"},children:o.jsx(Tt,{onClose:ce,severity:De,sx:{width:"100%"},children:K})})]})})};export{Fo as default};
