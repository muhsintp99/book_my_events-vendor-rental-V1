import{w as ir,r as c,j as e,B as i,t as je,x as Ge,s as v,S as Z,T as s,G as b,F as se,U as j,C as ye,a0 as Ue,a3 as N,a1 as d,g as O,b as E,af as Ft,ae as Ke,q as Et,D as sr,ac as Ct,ay as nr,f as wt,ag as Wt,ah as ar,as as lr,aa as kt,ai as dr,aj as cr,h as F,am as xr,ab as hr,bl as pr}from"./index-DD3kV8UB.js";import{S as It}from"./Star-BPS_yY6L.js";import{C as ne}from"./Close-CQwflnVG.js";import{S as gr}from"./Settings-TtEHoeqb.js";import{T as ur,a as Bt,b as Q,c as fr}from"./TableRow-BPMuSKSY.js";import{T as mr}from"./TableHead-CdIMbxhl.js";import{C as br}from"./Cake-Dw1zxJhi.js";import{L as jr}from"./LocalShipping-BOFIAf-1.js";import{S as yr}from"./Storefront-D7rt_0se.js";import{L as Sr}from"./Label-152qjInV.js";import{T as vr}from"./TableContainer-dFOwGT9O.js";const o="#E91E63",S=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5000":"https://api.bookmyevent.ae",He="68e5fc09651cc12c1fc0f9c9",L=v(xr)(({theme:u})=>({borderRadius:"24px",padding:"40px",marginBottom:"40px",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0px 15px 50px rgba(0, 0, 0, 0.02)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",backgroundColor:"#ffffff","&:hover":{boxShadow:"0px 25px 70px rgba(0, 0, 0, 0.05)"}}));v(i)(({theme:u})=>({width:80,height:80,borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #E5E7EB",backgroundColor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",transition:"0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 18px rgba(0,0,0,0.12)"}}));const Y=v(s)(({theme:u})=>({fontSize:"26px",fontWeight:900,color:"#111827",marginBottom:"10px",letterSpacing:"-1px"})),q=v(s)(({theme:u})=>({fontSize:"15px",color:"#6B7280",marginBottom:"40px",fontWeight:500,lineHeight:1.6})),G=v(Et)(({theme:u})=>({width:"100%","& .MuiOutlinedInput-root":{borderRadius:"16px",backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","& fieldset":{borderColor:"transparent"},"&:hover":{backgroundColor:"#f3f4f6",borderColor:"#D1D5DB"},"&.Mui-focused":{backgroundColor:"#ffffff",borderColor:o,boxShadow:`0px 0px 0px 4px ${d(o,.1)}`,"& fieldset":{borderColor:o,borderWidth:"2px"}}},"& .MuiInputBase-input":{padding:"18px 20px",fontSize:"15px",fontWeight:600,color:"#1F2937"}})),X=v(hr)(({theme:u})=>({width:"100%",borderRadius:"16px",backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&:hover":{backgroundColor:"#f3f4f6",borderColor:"#D1D5DB"},"&.Mui-focused":{backgroundColor:"#ffffff",borderColor:o,boxShadow:`0px 0px 0px 4px ${d(o,.1)}`,"& .MuiOutlinedInput-notchedOutline":{borderColor:o,borderWidth:"2px"}},"& .MuiSelect-select":{padding:"18px 20px",fontSize:"15px",fontWeight:600,color:"#1F2937"}})),Cr=v(i,{shouldForwardProp:u=>u!=="hasImage"})(({theme:u,hasImage:C})=>({width:"100%",height:"250px",borderRadius:"28px",border:C?"none":`3px dashed ${d(o,.15)}`,backgroundColor:C?"transparent":"#FAFAFA",backgroundImage:C?"none":`linear-gradient(180deg, rgba(255,255,255,0) 0%, ${d(o,.02)} 100%)`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",boxShadow:C?"0 20px 40px rgba(0,0,0,0.1)":"none","&:hover":{borderColor:o,backgroundColor:d(o,.03),transform:"translateY(-4px)",boxShadow:"0 12px 28px rgba(233, 30, 99, 0.15)"}})),wr=v(i)(({theme:u})=>({width:"100%",minHeight:"200px",borderRadius:"24px",border:`2px dashed ${d(o,.3)}`,backgroundColor:"#FAFAFA",backgroundImage:`linear-gradient(135deg, ${d(o,.01)} 0%, rgba(255,255,255,1) 100%)`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{borderColor:o,backgroundColor:d(o,.04),boxShadow:`0 10px 40px ${d(o,.1)}`}}));v(i)(({theme:u})=>({width:"100%",aspectRatio:"1/1",borderRadius:"20px",overflow:"hidden",position:"relative",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",transition:"all 0.3s ease",group:"slot","&:hover":{transform:"translateY(-4px)",boxShadow:"0 15px 30px rgba(0,0,0,0.12)"}}));v(i)(({theme:u})=>({padding:"20px",borderRadius:"24px",backgroundColor:"#FFFFFF",border:"1px solid rgba(0, 0, 0, 0.06)",position:"relative",transition:"all 0.3s ease",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start","&:hover":{borderColor:o,boxShadow:"0px 10px 30px rgba(233, 30, 99, 0.05)"}}));v(i)(({theme:u})=>({position:"absolute",top:"20px",right:"25px",fontSize:"48px",fontWeight:900,opacity:.06,color:o,pointerEvents:"none"}));v(N)(({theme:u,selected:C})=>({borderRadius:"14px",fontWeight:800,fontSize:"14px",height:"46px",padding:"0 10px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",backgroundColor:C?o:"#F3F4F6",color:C?"#ffffff":"#4B5563",border:`2px solid ${C?o:"transparent"}`,"&:hover":{backgroundColor:C?"#D81B60":"#E5E7EB",transform:"translateY(-2px)"}}));const Wr=v(vr)(({theme:u})=>({borderRadius:"24px",border:"1px solid rgba(0, 0, 0, 0.05)",backgroundColor:"#ffffff",marginTop:"32px",overflow:"hidden",boxShadow:"0px 10px 40px rgba(0,0,0,0.03)"})),kr=({variation:u,onChange:C,onImageUpload:A,onDelete:U})=>e.jsxs(Bt,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(Q,{sx:{py:3,pl:4},children:e.jsx(s,{sx:{fontWeight:800,color:"#1F2937",fontSize:"15px"},children:u.name})}),e.jsx(Q,{sx:{py:3},children:e.jsx(G,{size:"small",placeholder:"0.00",value:u.price,onChange:ee=>C("price",ee.target.value),sx:{maxWidth:"180px"},InputProps:{startAdornment:e.jsx(s,{sx:{mr:1,fontWeight:700,color:"#9CA3AF"},children:"₹"})}})}),e.jsx(Q,{sx:{py:3,pr:4},children:e.jsxs(Z,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(E,{onClick:()=>document.getElementById(`var-img-${u.id}`).click(),sx:{bgcolor:d(o,.05),color:o,"&:hover":{bgcolor:o,color:"white"}},children:e.jsx(pr,{fontSize:"small"})}),e.jsx("input",{id:`var-img-${u.id}`,type:"file",hidden:!0,onChange:ee=>A(ee.target.files[0])}),u.image&&e.jsx(i,{sx:{position:"relative",width:45,height:45,borderRadius:"10px",overflow:"hidden",border:`2px solid ${o}`},children:e.jsx("img",{src:typeof u.image=="string"?u.image:URL.createObjectURL(u.image),alt:"variant",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx(E,{onClick:U,sx:{bgcolor:d("#EF4444",.1),color:"#EF4444","&:hover":{bgcolor:"#EF4444",color:"#fff"}},children:e.jsx(Ft,{fontSize:"small"})})]})})]}),Or=()=>{const u=ir(),A=new URLSearchParams(window.location.search).get("id"),U=!!A,ee=["Marriage","Engagement","Birthday","Anniversary","Promotion","Other"],Se=["Weight","Ingredient"],Je={Weight:["0.5Kg","1 Kg","2 Kg","3 Kg","5 Kg+"],Ingredient:["Egg","Eggless"]},At=["0.5Kg","1 Kg","2 Kg","3 Kg","5 Kg+"],[zt,Rt]=c.useState(!0),[Ve,Ye]=c.useState(!1),[qe,$t]=c.useState(""),[Xe,ve]=c.useState(""),[Ze,Dt]=c.useState([]),[Qe,Tt]=c.useState([]),[m,Mt]=c.useState(null),[z,et]=c.useState("product"),[B,R]=c.useState([]),[Pt,$]=c.useState([]),[_t,ae]=c.useState(!1),[w,le]=c.useState(null),[Ce,we]=c.useState(""),[tt,We]=c.useState(""),[D,ke]=c.useState(""),[Ie,Fe]=c.useState([]),[Ee,Be]=c.useState([]),[Ot,rt]=c.useState("Eggless"),[ot,Ae]=c.useState(""),[Lt,Ir]=c.useState(""),[it,ze]=c.useState("Kg"),[st,Re]=c.useState(""),[nt,$e]=c.useState(!1),[De,te]=c.useState([]),[Nt,de]=c.useState(!1),[at,lt]=c.useState(""),[dt,ct]=c.useState(Je.Weight),[re,Gt]=c.useState(""),[T,Ut]=c.useState("no_discount"),[Te,Kt]=c.useState(""),[y,ce]=c.useState({Weight:[],Ingredient:[]}),[Me,I]=c.useState([]),[xe,Ht]=c.useState(["Weight","Ingredient"]),[xt,ht]=c.useState([]),[Pe,he]=c.useState(""),[_e,pt]=c.useState(!0),[gt,ut]=c.useState(!1),[ft,Jt]=c.useState([]),[Vt,Fr]=c.useState(!1),[M,Oe]=c.useState(null),[pe,mt]=c.useState(""),[P,Le]=c.useState([]),[K,bt]=c.useState([]),[jt,Yt]=c.useState([]);c.useEffect(()=>{(async()=>{var r,n,a,p,h,g,l,f,_,ge;try{const ue=localStorage.getItem("vendor")||localStorage.getItem("user");let W=null;if(ue){W=JSON.parse(ue),Mt(W);try{const oe=localStorage.getItem("user"),x=oe?JSON.parse(oe):null,k=(x==null?void 0:x._id)||(x==null?void 0:x.id)||(W==null?void 0:W.user)||(W==null?void 0:W._id)||(W==null?void 0:W.id),ie=localStorage.getItem("token"),fe=(r=(await F.get(`${S}/api/vendorprofiles/find/${k}`,{headers:{Authorization:`Bearer ${ie}`}})).data)==null?void 0:r.data;if((n=fe==null?void 0:fe.deliveryProfile)!=null&&n.deliveryConfigurations){const me=fe.deliveryProfile.deliveryConfigurations.filter(be=>be.status);if(Jt(me),!U&&me.length>0&&!Pe){const be=me.find(or=>or.mode.toLowerCase()==="standard package delivery");he(be?be.mode:me[0].mode)}}}catch(oe){console.error("Failed to fetch vendor profile for modes:",oe)}}const vt=localStorage.getItem("token"),rr=await F.get(`${S}/api/categories/parents/${He}`,{headers:{Authorization:`Bearer ${vt}`}});if(Dt(((a=rr.data)==null?void 0:a.data)||[]),U&&A){const x=(p=(await F.get(`${S}/api/cakes/${A}`,{headers:{Authorization:`Bearer ${vt}`}})).data)==null?void 0:p.data;if(x&&(we(x.name||""),We(x.shortDescription||""),ke(((h=x.category)==null?void 0:h._id)||x.category||""),Fe((x.subCategories||[]).map(k=>k._id||k)),Be(x.occasions||[]),rt(x.itemType||"Eggless"),Ae((x.searchTags||[]).join(", ")),mt(x.thumbnail||""),bt(x.images||[]),he(x.deliveryMode||""),pt(((g=x.shipping)==null?void 0:g.homeDelivery)!==void 0?x.shipping.homeDelivery:!0),ut(((l=x.shipping)==null?void 0:l.takeaway)||!1),(f=x.variations)!=null&&f.length&&I(x.variations.map((k,ie)=>({id:k._id||`old-${ie}`,name:k.name,price:k.price,image:k.image}))),ht(x.addons||[]),ze(x.unit||"Kg"),Re(x.weight||""),(ge=(_=x.relatedItems)==null?void 0:_.items)!=null&&ge.length)){const k=x.relatedItems.items.map(V=>V._id||V);R(k);const ie=x.relatedItems.items.filter(V=>typeof V=="object"&&V!==null);$(ie),et(x.relatedItems.linkBy||"product")}}}catch(ue){console.error("Load Error:",ue),ve("Failed to load initial data")}finally{Rt(!1)}})()},[A,U]),c.useEffect(()=>{(async()=>{const r=(m==null?void 0:m._id)||(m==null?void 0:m.id);if(r)try{const n=localStorage.getItem("token"),a=await F.get(`${S}/api/cake-addons/provider/${r}`,{headers:{Authorization:`Bearer ${n}`}});a.data.success&&Yt(a.data.data||[])}catch(n){console.error("Error fetching addons:",n)}})()},[m]),c.useEffect(()=>{(async()=>{var r;if(D)try{const n=localStorage.getItem("token"),a=await F.get(`${S}/api/categories/parents/${D}/subcategories`,{headers:{Authorization:`Bearer ${n}`}});Tt(((r=a.data)==null?void 0:r.data)||[])}catch(n){console.error(n)}})()},[D]);const Ne=(t,r)=>{const n={...y,[t]:r};ce(n);const a=Se.filter(h=>{var g;return((g=n[h])==null?void 0:g.length)>0});if(!a.length){I([]);return}const p=a.reduce((h,g)=>h.length===0?n[g].map(l=>[l]):h.flatMap(l=>n[g].map(f=>[...l,f])),[]);I(p.map((h,g)=>({id:`new-${g}`,name:h.join(" - "),price:re||"",image:null,attributeValues:h})))},yt=async()=>{var t;try{de(!0),le(null);const r=localStorage.getItem("token"),n=(m==null?void 0:m._id)||(m==null?void 0:m.id);let a="";if(z==="product"){if(!n){console.error("Provider ID missing");return}a=`${S}/api/cakes/provider/${n}`}else a=`${S}/api/categories/parents/${He}`;const h=((t=(await F.get(a,{headers:{Authorization:`Bearer ${r}`}})).data)==null?void 0:t.data)||[];te(h),$(g=>{const l=[...g];return h.forEach(f=>{const _=l.findIndex(ge=>ge._id===f._id);_!==-1&&(l[_]=f)}),l})}catch(r){console.error("Failed to load related items",r),te([])}finally{de(!1)}},qt=async t=>{var r;try{de(!0),le(t);const n=localStorage.getItem("token"),p=((r=(await F.get(`${S}/api/cakes/category/${t._id}?limit=100`,{headers:{Authorization:`Bearer ${n}`}})).data)==null?void 0:r.data)||[];te(p),$(h=>{const g=[...h];return p.forEach(l=>{const f=g.findIndex(_=>_._id===l._id);f!==-1&&(g[f]=l)}),g})}catch(n){console.error("Failed to load cakes for category",n),te([])}finally{de(!1)}},Xt=()=>{le(null),yt()},Zt=t=>{ct(r=>r.filter(n=>n!==t)),ce(r=>{const n={...r,Weight:r.Weight.filter(h=>h!==t)},a=Se.filter(h=>{var g;return((g=n[h])==null?void 0:g.length)>0});if(!a.length)return I([]),n;const p=a.reduce((h,g)=>h.length===0?n[g].map(l=>[l]):h.flatMap(l=>n[g].map(f=>[...l,f])),[]);return I(p.map((h,g)=>({id:`new-${g}`,name:h.join(" - "),price:re||"",image:null}))),n})},H=Number(re||0),St=Number(Te||0);let J=H;T==="percentage"&&(J=H-H*St/100),T==="flat"&&(J=H-St),J=Math.max(J,0);const Qt=t=>{ht(r=>r.find(a=>a.addonId===t)?r.filter(a=>a.addonId!==t):[...r,{addonId:t,selectedItems:[]}])},er=()=>{we(""),We(""),ke(""),Fe([]),Be([]),ze("Kg"),Re(""),rt("Eggless"),Ae(""),Oe(null),Le([]),I([]),ce({Weight:[],Ingredient:[]}),R([]),$([]),le(null),window.scrollTo({top:0,behavior:"smooth"})},tr=async()=>{var h,g;const t=(m==null?void 0:m._id)||(m==null?void 0:m.id);if(!t||!Ce||!D||!M&&!pe){ve("Missing required fields");return}const r=new FormData;r.append("name",Ce),r.append("shortDescription",tt),r.append("category",D),r.append("module",He),r.append("uom",it),r.append("weight",st),r.append("itemType",Ot),r.append("provider",t),r.append("subCategories",JSON.stringify(Ie)),r.append("occasions",JSON.stringify(Ee)),r.append("searchTags",JSON.stringify(ot.split(",").map(l=>l.trim()).filter(Boolean))),r.append("addons",JSON.stringify(xt)),r.append("deliveryMode",Pe),r.append("homeDelivery",_e),r.append("takeaway",gt),r.append("prepTime",Lt),r.append("basePrice",re||0),r.append("discountType",T),r.append("discountValue",Te||0);const n=Object.keys(y).filter(l=>y[l]&&y[l].length>0).map(l=>({name:l,values:y[l]}));r.append("attributes",JSON.stringify(n)),r.append("relatedItems",JSON.stringify({linkBy:z,items:B,linkByRef:z==="product"?"Cake":"Category"}));let a=0;const p=Me.filter(l=>l.price).map(l=>{const f={name:l.name,price:Number(l.price),attributeValues:l.attributeValues||[]};return l.image&&(typeof l.image=="string"?f.image=l.image:l.image instanceof File&&(f.image=`VAR_FILE_${a}`,r.append("variationImages",l.image),a++)),f});p.length&&r.append("variations",JSON.stringify(p)),M&&r.append("thumbnail",M),P.forEach(l=>r.append("images",l));try{Ye(!0);const l=localStorage.getItem("token");(U?await F.put(`${S}/api/cakes/${A}`,r,{headers:{Authorization:`Bearer ${l}`}}):await F.post(`${S}/api/cakes`,r,{headers:{Authorization:`Bearer ${l}`}})).data.success&&($t("Saved successfully!"),setTimeout(()=>u("/cake/packagelist"),2e3))}catch(l){ve(((g=(h=l.response)==null?void 0:h.data)==null?void 0:g.message)||"Error saving cake")}finally{Ye(!1),window.scrollTo({top:0,behavior:"smooth"})}};return zt?e.jsx(i,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:e.jsx(je,{color:"inherit",sx:{color:o}})}):e.jsxs(i,{sx:{bgcolor:"#FDFDFF",minHeight:"100vh",pb:10},children:[e.jsx(i,{children:e.jsx(i,{sx:{maxWidth:"1400px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"}})}),e.jsxs(i,{sx:{width:"100%",margin:"48px auto",px:{xs:2,md:4}},children:[qe&&e.jsx(Ge,{severity:"success",sx:{mb:4,borderRadius:"20px",fontWeight:800,border:"none",boxShadow:"0px 10px 30px rgba(76, 175, 80, 0.1)"},children:qe}),Xe&&e.jsx(Ge,{severity:"error",sx:{mb:4,borderRadius:"20px",fontWeight:800,border:"none",boxShadow:"0px 10px 30px rgba(244, 67, 54, 0.1)"},children:Xe}),e.jsxs(L,{children:[e.jsx(Y,{children:"General Information"}),e.jsx(q,{children:"Define the fundamental details that describe your cake creation."}),e.jsxs(Z,{spacing:4,children:[e.jsxs(i,{children:[e.jsx(s,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Product Name"}),e.jsx(G,{fullWidth:!0,placeholder:"e.g. Midnight Chocolate Ganache Cake",value:Ce,onChange:t=>we(t.target.value)})]}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Full Description"}),e.jsx(G,{fullWidth:!0,multiline:!0,rows:4,placeholder:"Describe the rich textures, premium ingredients, and the flavor experience...",value:tt,onChange:t=>We(t.target.value)})]}),e.jsx(i,{sx:{width:"100%"},children:e.jsxs(b,{container:!0,spacing:3,children:[e.jsxs(b,{item:!0,xs:12,md:3,children:[e.jsx(s,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Parent Category"}),e.jsx(se,{fullWidth:!0,children:e.jsxs(X,{fullWidth:!0,value:D,onChange:t=>ke(t.target.value),displayEmpty:!0,children:[e.jsx(j,{disabled:!0,value:"",children:"Select the primary category"}),Ze.map(t=>e.jsx(j,{value:t._id,children:t.title},t._id))]})})]}),e.jsxs(b,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Subcategories"}),e.jsx(se,{fullWidth:!0,disabled:!D,children:e.jsxs(X,{fullWidth:!0,multiple:!0,value:Ie,onChange:t=>Fe(t.target.value),renderValue:t=>t.length===0?e.jsx(s,{sx:{color:"#9CA3AF",fontWeight:600,fontSize:"15px"},children:"Choose related tags"}):e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:t.map(r=>{var n;return e.jsx(N,{label:((n=Qe.find(a=>a._id===r))==null?void 0:n.title)||r,size:"small",sx:{borderRadius:"10px",fontWeight:800,bgcolor:"white",border:"1px solid #E5E7EB",color:o}},r)})}),displayEmpty:!0,children:[e.jsx(j,{disabled:!0,value:"",children:"Choose related tags"}),Qe.map(t=>e.jsxs(j,{value:t._id,children:[e.jsx(ye,{checked:Ie.includes(t._id),size:"small",sx:{color:o,"&.Mui-checked":{color:o}}}),e.jsx(Ue,{primary:t.title,primaryTypographyProps:{fontSize:"14px",fontWeight:700}})]},t._id))]})})]}),e.jsxs(b,{item:!0,xs:12,md:3,children:[e.jsx(s,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Select Unit"}),e.jsx(se,{fullWidth:!0,children:e.jsxs(X,{fullWidth:!0,value:it,onChange:t=>ze(t.target.value),displayEmpty:!0,renderValue:t=>t||e.jsx(s,{sx:{color:"#9CA3AF",fontWeight:600},children:"Select unit"}),children:[e.jsx(j,{disabled:!0,value:"",children:"Select unit"}),e.jsx(j,{value:"Kg",children:"Kg"}),e.jsx(j,{value:"Gm",children:"Gm"}),e.jsx(j,{value:"Piece",children:"Piece"}),e.jsx(j,{value:"Litre",children:"Litre"})]})})]}),e.jsxs(b,{item:!0,xs:12,md:4,children:[e.jsx(s,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Weight"}),e.jsx(G,{fullWidth:!0,placeholder:"e.g. 1.5",value:st,onChange:t=>Re(t.target.value)})]})]})}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Perfect for Occasions"}),e.jsx(se,{fullWidth:!0,children:e.jsxs(X,{multiple:!0,value:Ee,onChange:t=>Be(t.target.value),displayEmpty:!0,renderValue:t=>t.length===0?e.jsx(s,{sx:{color:"#9CA3AF",fontWeight:600,fontSize:"15px"},children:"Select one or many occasions"}):e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:t.map(r=>e.jsx(N,{label:r,size:"small",sx:{borderRadius:"10px",fontWeight:800,bgcolor:d(o,.05),color:o,border:`1px solid ${d(o,.1)}`}},r))}),children:[e.jsx(j,{disabled:!0,value:"",children:"Select one or many occasions"}),ee.map(t=>e.jsxs(j,{value:t,children:[e.jsx(ye,{checked:Ee.includes(t),size:"small",sx:{color:o,"&.Mui-checked":{color:o}}}),e.jsx(Ue,{primary:t,primaryTypographyProps:{fontSize:"14px",fontWeight:700}})]},t))]})})]})]})]}),e.jsxs(L,{children:[e.jsx(Y,{children:"Gallery "}),e.jsx(q,{children:"High-resolution captures significantly increase conversion rates."}),e.jsxs(Z,{spacing:5,children:[e.jsxs(i,{children:[e.jsxs(s,{variant:"body2",sx:{mb:2,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px",display:"flex",alignItems:"center",gap:1},children:[e.jsx(It,{sx:{fontSize:16,color:"#F59E0B"}})," Thumbnail"]}),e.jsxs(Cr,{hasImage:M||pe,onClick:()=>document.getElementById("thumb-in").click(),children:[e.jsx("input",{id:"thumb-in",type:"file",hidden:!0,onChange:t=>Oe(t.target.files[0])}),M||pe?e.jsxs(i,{sx:{position:"relative",width:"100%",height:"100%"},children:[e.jsx("img",{src:M?URL.createObjectURL(M):pe,alt:"Main Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs(i,{sx:{position:"absolute",inset:0,bgcolor:"rgba(0,0,0,0.3)",opacity:0,transition:"0.3s",display:"flex",alignItems:"center",justifyContent:"center",gap:2,".MuiBox-root:hover &":{opacity:1}},children:[e.jsx(O,{variant:"contained",sx:{bgcolor:"white",color:"black","&:hover":{bgcolor:"#f0f0f0"}},children:"Change Cover"}),e.jsx(E,{onClick:t=>{t.stopPropagation(),Oe(null),mt("")},sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"#ef4444"}},children:e.jsx(Ft,{})})]})]}):e.jsxs(Z,{alignItems:"center",spacing:3,children:[e.jsx(i,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.06)"},children:e.jsx(Ke,{sx:{color:o,fontSize:36}})}),e.jsxs(i,{textAlign:"center",children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,color:"#111827",mb:.5},children:"Drop your main image here"}),e.jsx(s,{variant:"body2",sx:{color:"#6B7280",maxWidth:"300px"},children:"Supports JPG, PNG, WEBP. High resolution (1600x1200) recommended for best results."})]}),e.jsx(O,{variant:"outlined",sx:{borderColor:"#E5E7EB",color:"#374151",borderRadius:"12px",textTransform:"none",fontWeight:700,"&:hover":{borderColor:o,color:o,bgcolor:"transparent"}},children:"Browse Files"})]})]})]}),e.jsx(i,{children:e.jsxs(i,{sx:{mt:2},children:[e.jsx(s,{variant:"body2",sx:{mb:2.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Gallery Collection (Max 10)"}),e.jsxs(wr,{onClick:t=>{document.getElementById("gall-in").click()},sx:{p:3,alignItems:K.length+P.length>0?"flex-start":"center",justifyContent:K.length+P.length>0?"flex-start":"center"},children:[e.jsx("input",{id:"gall-in",type:"file",hidden:!0,multiple:!0,accept:"image/*",onChange:t=>{const r=Array.from(t.target.files);if(K.length+P.length+r.length>10){alert("You can only upload a maximum of 10 images.");return}Le(a=>[...a,...r]),t.target.value=null}}),K.length===0&&P.length===0?e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{width:70,height:70,borderRadius:"50%",bgcolor:"#E3F2FD",display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:e.jsx(Ke,{sx:{color:"#2196F3",fontSize:36}})}),e.jsx(s,{variant:"h6",sx:{color:o,fontWeight:800},children:"Click to Upload Images"}),e.jsx(s,{variant:"caption",sx:{color:"#9CA3AF",fontWeight:600,mt:1},children:"Supported: JPG, PNG, WEBP"})]}):e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",gap:2},onClick:t=>t.stopPropagation(),children:[K.map((t,r)=>e.jsxs(i,{sx:{width:80,height:80,borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #E5E7EB"},children:[e.jsx("img",{src:t,alt:`gallery-${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx(E,{size:"small",onClick:()=>bt(n=>n.filter((a,p)=>p!==r)),sx:{position:"absolute",top:2,right:2,bgcolor:"rgba(0,0,0,0.6)",color:"white",p:.5,"&:hover":{bgcolor:"#ef4444"}},children:e.jsx(ne,{sx:{fontSize:14}})})]},`exist-${r}`)),P.map((t,r)=>e.jsxs(i,{sx:{width:80,height:80,borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #E5E7EB"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`preview-${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx(E,{size:"small",onClick:()=>Le(n=>n.filter((a,p)=>p!==r)),sx:{position:"absolute",top:2,right:2,bgcolor:"rgba(0,0,0,0.6)",color:"white",p:.5,"&:hover":{bgcolor:"#ef4444"}},children:e.jsx(ne,{sx:{fontSize:14}})})]},`new-${r}`)),K.length+P.length<10&&e.jsx(i,{onClick:()=>document.getElementById("gall-in").click(),sx:{width:80,height:80,borderRadius:"12px",border:`2px dashed ${d(o,.3)}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Ke,{sx:{color:o}})})]})]})]})})]})]}),e.jsxs(L,{children:[e.jsx(Y,{children:"Pricing & Intelligent Variations"}),e.jsx(q,{children:"Configure smart pricing tiers based on user-selected preferences."}),e.jsxs(i,{sx:{mb:5,p:5,borderRadius:"32px",bgcolor:d(o,.01),border:`2.5px solid ${d(o,.05)}`,position:"relative",overflow:"hidden"},children:[e.jsx(i,{sx:{position:"absolute",top:0,right:0,width:"200px",height:"100%",background:`linear-gradient(to left, ${d(o,.03)}, transparent)`,pointerEvents:"none"}}),e.jsxs(s,{variant:"h6",sx:{mb:4,fontWeight:900,color:"#111827",display:"flex",alignItems:"center",justifyContent:"center",gap:2,fontSize:"20px",textAlign:"center"},children:[e.jsx(gr,{sx:{color:o}}),"Variant Configuration"]}),e.jsxs(i,{sx:{p:4,borderRadius:2,border:"1px solid #E5E7EB",bgcolor:"#FFFFFF"},children:[e.jsx(s,{sx:{fontWeight:700,fontSize:18,mb:1},children:"Variant Details"}),e.jsx(s,{sx:{color:"#6B7280",fontSize:14,mb:3},children:"Choose the Attributes & Input Values Of Each Attribute"}),e.jsx(se,{fullWidth:!0,children:e.jsx(X,{multiple:!0,value:xe,onChange:t=>{const r=t.target.value;Ht(r),ce(n=>({Weight:r.includes("Weight")?n.Weight:[],Ingredient:r.includes("Ingredient")?n.Ingredient:[]}))},renderValue:t=>e.jsx(i,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:t.map(r=>e.jsx(N,{label:r,sx:{fontWeight:700}},r))}),children:Se.map(t=>e.jsxs(j,{value:t,children:[e.jsx(ye,{checked:xe.includes(t)}),e.jsx(Ue,{primary:t})]},t))})}),e.jsxs(i,{sx:{mt:4},children:[e.jsx(s,{sx:{fontWeight:600,mb:2},children:"Values of Each Attribute"}),xe.includes("Weight")&&e.jsxs(i,{sx:{display:"flex",alignItems:"flex-start",border:"1px solid #E5E7EB",borderRadius:2,mb:2,overflow:"hidden"},children:[e.jsx(i,{sx:{px:2.5,py:2,bgcolor:"#E5E7EB",fontWeight:700,minWidth:160},children:"Select Weight"}),e.jsxs(i,{sx:{p:2,flex:1},children:[e.jsxs(i,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[dt.map(t=>{const r=y.Weight.includes(t),n=!At.includes(t);return e.jsx(N,{label:t,onClick:()=>Ne("Weight",r?y.Weight.filter(a=>a!==t):[...y.Weight,t]),onDelete:n?()=>Zt(t):void 0,variant:r?"filled":"outlined",sx:{fontWeight:700,bgcolor:r?d(o,.15):void 0,color:r?o:void 0,borderColor:r?o:void 0}},t)}),!nt&&e.jsx(N,{label:"+ Add Weight",onClick:()=>$e(!0),sx:{fontWeight:800,color:o,border:`2px dashed ${d(o,.4)}`,bgcolor:d(o,.05),cursor:"pointer"}})]}),nt&&e.jsxs(i,{sx:{mt:2,p:2,borderRadius:2,border:`1.5px solid ${d(o,.3)}`,background:`linear-gradient(135deg, ${d(o,.05)}, #fff)`,display:"flex",alignItems:"center",gap:1.5,maxWidth:320},children:[e.jsx(Et,{size:"small",autoFocus:!0,placeholder:"e.g. 6 Kg",value:at,onChange:t=>lt(t.target.value),sx:{flex:1}}),e.jsx(O,{variant:"contained",sx:{bgcolor:o,fontWeight:800},onClick:()=>{const t=at.trim();!t||dt.includes(t)||(ct(r=>[...r,t]),Ne("Weight",[...y.Weight,t]),lt(""),$e(!1))},children:"Add"}),e.jsx(E,{onClick:()=>$e(!1),children:e.jsx(ne,{})})]})]})]}),xe.includes("Ingredient")&&e.jsxs(i,{sx:{display:"flex",alignItems:"center",border:"1px solid #E5E7EB",borderRadius:1,overflow:"hidden"},children:[e.jsx(i,{sx:{px:2.5,py:1.5,bgcolor:"#E5E7EB",fontWeight:600,minWidth:160},children:"Select Ingredient"}),e.jsx(i,{sx:{p:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:Je.Ingredient.map(t=>e.jsx(N,{label:t,onClick:()=>Ne("Ingredient",y.Ingredient.includes(t)?y.Ingredient.filter(r=>r!==t):[...y.Ingredient,t]),variant:y.Ingredient.includes(t)?"filled":"outlined",sx:{fontWeight:600}},t))})]})]})]})]}),e.jsxs(i,{sx:{mb:6,p:5,borderRadius:"32px",background:`linear-gradient(180deg, #ffffff, ${d(o,.04)})`,border:`1.5px solid ${d(o,.15)}`,boxShadow:"0 20px 60px rgba(0,0,0,0.04)"},children:[e.jsxs(b,{container:!0,spacing:4,children:[e.jsxs(b,{item:!0,xs:12,md:4,children:[e.jsx(s,{sx:{mb:1.5,fontWeight:800,fontSize:"13px",textTransform:"uppercase",color:"#374151"},children:"Base Price"}),e.jsx(G,{fullWidth:!0,placeholder:"0.00",value:re,onChange:t=>Gt(t.target.value),InputProps:{startAdornment:e.jsx(s,{sx:{mr:1,fontWeight:900,color:"#9CA3AF"},children:"₹"})}})]}),e.jsxs(b,{item:!0,xs:12,md:4,children:[e.jsx(s,{sx:{mb:1.5,fontWeight:800,fontSize:"13px",textTransform:"uppercase",color:"#374151"},children:"Discount Type"}),e.jsxs(X,{fullWidth:!0,value:T,onChange:t=>Ut(t.target.value),children:[e.jsx(j,{value:"no_discount",children:"No Discount"}),e.jsx(j,{value:"percentage",children:"Percentage (%)"}),e.jsx(j,{value:"flat",children:"Flat Amount (₹)"})]})]}),e.jsxs(b,{item:!0,xs:12,md:4,children:[e.jsx(s,{sx:{mb:1.5,fontWeight:800,fontSize:"13px",textTransform:"uppercase",color:"#374151"},children:"Discount Value"}),e.jsx(G,{fullWidth:!0,placeholder:T==="percentage"?"e.g. 10%":"e.g. 50",value:Te,onChange:t=>Kt(t.target.value)})]})]}),e.jsx(sr,{sx:{my:5}}),e.jsxs(i,{sx:{p:4,borderRadius:"24px",bgcolor:"#ffffff",border:`2px dashed ${d(o,.3)}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(i,{children:[e.jsx(s,{sx:{fontWeight:900,fontSize:"18px",color:"#111827"},children:"Billing Summary"}),e.jsx(s,{sx:{mt:.5,fontSize:"14px",color:"#6B7280"},children:"Final amount after discount"})]}),e.jsxs(i,{textAlign:"right",children:[T!=="no_discount"&&e.jsxs(s,{sx:{fontSize:"14px",fontWeight:700,color:"#6B7280",textDecoration:"line-through"},children:["₹ ",H.toFixed(2)]}),e.jsxs(s,{sx:{fontSize:"32px",fontWeight:900,color:o,lineHeight:1.1},children:["₹ ",J.toFixed(2)]}),T!=="no_discount"&&e.jsxs(s,{sx:{fontSize:"13px",fontWeight:700,color:"#16A34A"},children:["You save ₹ ",(H-J).toFixed(2)]})]})]})]}),Me.length>0&&e.jsx(Wr,{children:e.jsxs(ur,{children:[e.jsx(mr,{children:e.jsxs(Bt,{sx:{bgcolor:d(o,.02)},children:[e.jsx(Q,{sx:{fontWeight:900,color:"#111827",fontSize:"14px",py:3,pl:4},children:"Variation Details"}),e.jsx(Q,{sx:{fontWeight:900,color:"#111827",fontSize:"14px",py:3},children:"Market Listing Price"}),e.jsx(Q,{sx:{fontWeight:900,color:"#111827",fontSize:"14px",py:3,pr:4},children:"Display Media"})]})}),e.jsx(fr,{children:Me.map(t=>e.jsx(kr,{variation:t,onChange:(r,n)=>I(a=>a.map(p=>p.id===t.id?{...p,[r]:n}:p)),onImageUpload:r=>I(n=>n.map(a=>a.id===t.id?{...a,image:r}:a)),onDelete:()=>I(r=>r.filter(n=>n.id!==t.id))},t.id))})]})})]}),e.jsxs(L,{children:[e.jsxs(i,{sx:{mb:6,textAlign:"center"},children:[e.jsx(Y,{sx:{fontSize:28},children:"Curated Boosters & Add-ons"}),e.jsx(q,{sx:{maxWidth:720,mx:"auto",mt:1},children:"Group related extras to enhance the customer's celebration experience"})]}),jt.length===0?e.jsxs(i,{sx:{textAlign:"center",p:4,bgcolor:"#F9FAFB",borderRadius:"20px",border:"1px dashed #E5E7EB"},children:[e.jsx(s,{variant:"h6",sx:{color:"#6B7280",fontWeight:700},children:"No Add-ons Available"}),e.jsx(s,{variant:"body2",sx:{color:"#9CA3AF",mt:1},children:'Create add-ons in the "Add-ons" management section to see them here.'})]}):e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:3,justifyContent:"flex-start"},children:jt.map(t=>{const r=xt.some(n=>n.addonId===t._id);return e.jsxs(i,{onClick:()=>Qt(t._id),sx:{width:"330px",flexShrink:0,position:"relative",borderRadius:"24px",cursor:"pointer",bgcolor:r?d(o,.04):"#ffffff",border:"2px solid",borderColor:r?o:"#F1F5F9",boxShadow:r?`0 12px 28px ${d(o,.15)}`:"0 8px 24px rgba(17,24,39,0.04)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"hidden",display:"flex",flexDirection:"column","&:hover":{transform:"translateY(-10px)",borderColor:r?o:d(o,.4),boxShadow:r?`0 25px 50px ${d(o,.25)}`:"0 20px 45px rgba(17,24,39,0.1)","& .addon-img":{transform:"scale(1.1)"}}},children:[r&&e.jsx(i,{sx:{position:"absolute",top:14,right:14,width:32,height:32,bgcolor:o,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",zIndex:2,boxShadow:`0 8px 16px ${d(o,.4)}`,animation:"scaleIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:e.jsx(It,{sx:{fontSize:18}})}),e.jsxs(i,{sx:{width:"100%",height:180,bgcolor:"#F9FAFB",overflow:"hidden",position:"relative"},children:[t.image?e.jsx("img",{src:t.image.startsWith("http")?t.image:`${S}${t.image.startsWith("/")?"":"/"}${t.image}`,alt:t.title,className:"addon-img",style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)"}}):e.jsx(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#CBD5E1"},children:e.jsx(br,{sx:{fontSize:48}})}),e.jsx(i,{sx:{position:"absolute",inset:0,background:r?d(o,.1):"transparent",transition:"0.3s"}})]}),e.jsxs(i,{sx:{p:2.5,textAlign:"center",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[e.jsx(s,{sx:{fontWeight:900,fontSize:"15px",color:r?o:"#111827",mb:1,lineHeight:1.3,letterSpacing:"-0.01em",minHeight:"40px",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.title}),e.jsx(i,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsxs(s,{variant:"h6",sx:{fontWeight:900,color:r?o:"#6B7280",fontSize:"18px",letterSpacing:"-0.02em",position:"relative","&::after":r?{content:'""',position:"absolute",bottom:-2,left:"50%",transform:"translateX(-50%)",width:"20px",height:"2px",bgcolor:o,borderRadius:"2px"}:{}},children:["₹",t.price]})})]})]},t._id)})})]}),e.jsxs(L,{children:[e.jsx(Y,{children:"Delivery Mode"}),e.jsx(q,{children:"Ensure your cake arrives safely with precise delivery controls."}),e.jsxs(b,{container:!0,spacing:3,sx:{mt:2,mb:4},children:[e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:3,borderRadius:"24px",bgcolor:d(o,.04),border:`1px solid ${d(o,.1)}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(Z,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(i,{sx:{width:48,height:48,borderRadius:"16px",bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",color:o,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:e.jsx(jr,{})}),e.jsxs(i,{children:[e.jsx(s,{sx:{fontWeight:800,color:"#1a1a2e"},children:"Home Delivery"}),e.jsx(s,{variant:"caption",sx:{color:"#6B7280"},children:"Enable Doorstep Delivery"})]})]}),e.jsx(Ct,{checked:_e,onChange:t=>pt(t.target.checked),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:o},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{bgcolor:o}}})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:3,borderRadius:"24px",bgcolor:d(o,.04),border:`1px solid ${d(o,.1)}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(Z,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(i,{sx:{width:48,height:48,borderRadius:"16px",bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",color:o,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:e.jsx(yr,{})}),e.jsxs(i,{children:[e.jsx(s,{sx:{fontWeight:800,color:"#1a1a2e"},children:"Takeaway / Pickup"}),e.jsx(s,{variant:"caption",sx:{color:"#6B7280"},children:"Allow customer to collect from store"})]})]}),e.jsx(Ct,{checked:gt,onChange:t=>ut(t.target.checked),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:o},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{bgcolor:o}}})]})})]}),_e&&e.jsxs(i,{sx:{mt:4,pt:4,borderTop:"1px solid #F3F4F6"},children:[e.jsx(s,{variant:"h4",sx:{fontWeight:800,mb:4,color:"#1a1a2e"},children:"Select Delivery Mode"}),Vt?e.jsx(je,{size:24,sx:{color:o}}):ft.length===0?e.jsxs(Ge,{severity:"warning",sx:{borderRadius:"16px"},children:["You haven't configured any delivery modes in your ",e.jsx(O,{onClick:()=>u("/cake/deliveryprofile"),sx:{fontWeight:800},children:"Delivery Profile"}),"."]}):e.jsx(b,{container:!0,spacing:2,children:ft.map(t=>{const r=Pe===t.mode;return e.jsx(b,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(i,{onClick:()=>he(t.mode),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2.5,borderRadius:"16px",cursor:"pointer",border:r?`2px solid ${o}`:"1px solid #E5E7EB",bgcolor:r?d(o,.04):"#ffffff",transition:"all 0.2s",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-2px)",borderColor:r?o:"#D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"}},children:[e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{sx:{fontWeight:800,fontSize:"15px",color:r?"#1a1a2e":"#4B5563",mb:.5},children:t.mode}),e.jsx(s,{variant:"caption",sx:{color:"#9CA3AF",fontWeight:600},children:t.radius?`Up to ${t.radius} km`:"Fixed Zone"}),e.jsxs(s,{sx:{color:o,fontWeight:800,fontSize:"12px",mt:.5},children:["₹ ",t.shippingPrice||0]})]}),e.jsx(i,{sx:{width:24,height:24,borderRadius:"50%",border:`2px solid ${r?o:"#D1D5DB"}`,display:"flex",alignItems:"center",justifyContent:"center",ml:2},children:r&&e.jsx(i,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:o}})})]})},t.mode)})})]})]}),e.jsxs(L,{children:[e.jsx(Y,{children:"Tags"}),e.jsx(q,{children:"Boost discoverability with targeted keywords and meta-tags."}),e.jsxs(i,{children:[e.jsxs(s,{variant:"body2",sx:{mb:2,fontWeight:800,display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(Sr,{sx:{color:o}})," Dynamic Search Tags (Use comma as separator)"]}),e.jsx(G,{fullWidth:!0,placeholder:"e.g. Birthday, Luxury Cake, Eggless, Anniversary Surprise",value:ot,onChange:t=>Ae(t.target.value)})]})]}),e.jsxs(L,{sx:{mb:8},children:[e.jsxs(i,{sx:{mb:4},children:[e.jsxs(s,{sx:{fontSize:"22px",fontWeight:900,color:"#111827"},children:["Frequently Bought Together",e.jsx(s,{component:"span",sx:{ml:1,fontWeight:600,color:"#6B7280",fontSize:"14px"},children:"(Related Products)"})]}),e.jsx(s,{sx:{mt:1,fontSize:"14px",color:"#6B7280"},children:"Suggest complementary items to increase order value."})]}),e.jsxs(i,{sx:{p:3,mb:4,borderRadius:"16px",bgcolor:"#F9FAFB",display:"flex",alignItems:"center",gap:4},children:[e.jsx(s,{sx:{fontWeight:800,color:"#374151"},children:"Link by:"}),e.jsxs(nr,{row:!0,value:z,onChange:t=>{et(t.target.value),R([]),te([])},children:[e.jsx(wt,{value:"product",control:e.jsx(Wt,{sx:{"&.Mui-checked":{color:o}}}),label:e.jsx(s,{sx:{fontWeight:700},children:"Product"})}),e.jsx(wt,{value:"category",control:e.jsx(Wt,{sx:{"&.Mui-checked":{color:o}}}),label:e.jsx(s,{sx:{fontWeight:700},children:"Category"})})]})]}),e.jsxs(i,{onClick:()=>{yt(),ae(!0)},sx:{p:6,borderRadius:"20px",border:`2px dashed ${d(o,.35)}`,bgcolor:"#FFFFFF",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{bgcolor:d(o,.03),borderColor:o,transform:"translateY(-2px)"}},children:[e.jsx(i,{sx:{width:56,height:56,borderRadius:"50%",bgcolor:d(o,.12),display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:e.jsx(s,{sx:{fontSize:"28px",fontWeight:900,color:o},children:"+"})}),e.jsx(s,{sx:{fontSize:"18px",fontWeight:800,color:"#111827"},children:"Add Related Item"}),e.jsx(s,{sx:{mt:.5,fontSize:"13px",color:"#6B7280"},children:"Choose products or categories frequently bought together"})]}),B.length>0&&e.jsxs(i,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(s,{variant:"body2",sx:{fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:["Selected Items (",B.length,")"]}),e.jsx(b,{container:!0,spacing:2,children:B.map(t=>{var n;const r=Pt.find(a=>a._id===t)||De.find(a=>a._id===t)||Ze.find(a=>a._id===t);return r?e.jsx(b,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",p:1.5,borderRadius:"16px",bgcolor:"#F9FAFB",border:"1px solid #E5E7EB",position:"relative",transition:"all 0.2s","&:hover":{borderColor:o,bgcolor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"}},children:[e.jsx(i,{sx:{width:50,height:50,borderRadius:"12px",overflow:"hidden",mr:2,bgcolor:"#fff",border:"1px solid #F1F5F9"},children:e.jsx("img",{src:r.thumbnail||(r.image?r.image.startsWith("http")?r.image:`${S}${r.image.startsWith("/")?"":"/"}${r.image}`:"/placeholder.png"),alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(i,{sx:{ml:2,flex:1,minWidth:0},children:[e.jsx(s,{noWrap:!0,sx:{fontWeight:800,fontSize:"13px",color:"#111827"},children:r.name||r.title}),e.jsx(s,{variant:"caption",sx:{color:"#6B7280"},children:r.price?`₹${r.price}`:((n=r.module)==null?void 0:n.title)||"Related"})]}),e.jsx(E,{size:"small",onClick:()=>{R(a=>a.filter(p=>p!==t)),$(a=>a.filter(p=>p._id!==t))},sx:{ml:1,color:"#9CA3AF","&:hover":{color:"#EF4444",bgcolor:d("#EF4444",.1)}},children:e.jsx(ne,{sx:{fontSize:16}})})]})},t):null})})]}),e.jsxs(i,{sx:{mt:6,pt:4,borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:2.5},children:[e.jsx(O,{variant:"outlined",onClick:er,sx:{px:6,py:1.8,borderRadius:"18px",textTransform:"none",fontWeight:900,fontSize:"15px",color:"#374151",borderColor:"#D1D5DB","&:hover":{borderColor:o,color:o,bgcolor:d(o,.04)}},children:"Reset Form"}),e.jsx(O,{variant:"contained",onClick:tr,disabled:Ve,sx:{bgcolor:o,borderRadius:"18px",px:7,py:1.9,textTransform:"none",fontWeight:900,fontSize:"16px",boxShadow:`0px 18px 40px ${d(o,.4)}`,"&:hover":{bgcolor:"#D81B60",boxShadow:`0px 22px 50px ${d(o,.5)}`}},children:Ve?e.jsx(je,{size:24,color:"inherit"}):"Publish Package"})]})]})]}),e.jsxs(ar,{open:_t,onClose:()=>ae(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(lr,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[w&&e.jsx(E,{size:"small",onClick:Xt,sx:{mr:1},children:e.jsx(kt,{})}),e.jsx(s,{variant:"h6",sx:{fontWeight:800},children:w?`Packages in ${w.title}`:`Select ${z==="product"?"Products":"Categories"}`})]}),e.jsx(E,{onClick:()=>ae(!1),size:"small",children:e.jsx(ne,{})})]}),e.jsx(dr,{dividers:!0,children:Nt?e.jsx(i,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(je,{color:"inherit",sx:{color:o}})}):e.jsxs(e.Fragment,{children:[w&&e.jsxs(i,{sx:{mb:3,p:2,borderRadius:"16px",bgcolor:d(o,.03),border:`1px dashed ${o}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{children:[e.jsx(s,{sx:{fontWeight:800,color:"#111827"},children:"Link Entire Category"}),e.jsxs(s,{variant:"caption",sx:{color:"#6B7280"},children:['Add "',w.title,'" to related items']})]}),e.jsx(ye,{checked:B.includes(w._id),onChange:()=>R(t=>t.includes(w._id)?t.filter(r=>r!==w._id):[...t,w._id]),sx:{color:o,"&.Mui-checked":{color:o}}})]}),De.length===0?e.jsx(i,{sx:{py:4,textAlign:"center"},children:e.jsx(s,{sx:{color:"#6B7280",fontWeight:600},children:w?"No packages found in this category":`No ${z}s found`})}):e.jsx(b,{container:!0,spacing:2,children:De.map(t=>{var p,h;const r=t._id,n=z==="category"&&!w,a=B.includes(r);return e.jsx(b,{item:!0,xs:12,children:e.jsxs(i,{onClick:()=>{n?qt(t):B.includes(r)?(R(l=>l.filter(f=>f!==r)),$(l=>l.filter(f=>f._id!==r))):(R(l=>[...l,r]),$(l=>[...l,t]))},sx:{display:"flex",gap:2,p:2,borderRadius:"14px",cursor:"pointer",border:a?`2px solid ${o}`:"1px solid #E5E7EB",bgcolor:a?d(o,.06):"#FFFFFF",transition:"all 0.25s ease","&:hover":{borderColor:o,boxShadow:`0 4px 12px ${d(o,.1)}`}},children:[e.jsx(i,{sx:{width:60,height:60,borderRadius:"10px",overflow:"hidden",flexShrink:0,bgcolor:"#F3F4F6"},children:e.jsx("img",{src:n?t.image?`${S}${t.image}`:"/placeholder.png":t.thumbnail||"/placeholder.png",alt:t.title||t.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(s,{noWrap:!0,sx:{fontWeight:800,fontSize:"14px",color:"#111827",mb:.5},children:t.title||t.name}),e.jsx(s,{noWrap:!0,sx:{fontSize:"12px",color:"#6B7280"},children:n?((p=t.module)==null?void 0:p.title)||"Category":((h=t.category)==null?void 0:h.title)||"Package"})]}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.price&&e.jsxs(s,{sx:{fontWeight:900,color:o,mr:1},children:["₹",t.price]}),n?e.jsx(kt,{sx:{transform:"rotate(180deg)",color:"#CBD5E1",fontSize:20}}):e.jsx(i,{sx:{width:22,height:22,borderRadius:"6px",border:`2px solid ${a?o:"#D1D5DB"}`,bgcolor:a?o:"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:14},children:a&&"✓"})]})]})},r)})})]})}),e.jsx(cr,{sx:{p:2,bgcolor:"#F9FAFB"},children:e.jsxs(O,{fullWidth:!0,variant:"contained",onClick:()=>ae(!1),sx:{bgcolor:o,color:"#fff",borderRadius:"14px",py:1.5,fontWeight:900,textTransform:"none",boxShadow:`0 8px 20px ${d(o,.3)}`,"&:hover":{bgcolor:"#D81B60",boxShadow:`0 10px 25px ${d(o,.4)}`}},children:["Confirm Selection (",B.length,")"]})})]})]})};export{Or as default};
