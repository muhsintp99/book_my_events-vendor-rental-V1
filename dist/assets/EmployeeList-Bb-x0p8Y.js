import{d as C,r as c,j as e,B as l,T as u,b as f,a as I,o as k,a5 as A,M as b}from"./index-BaH8rYCR.js";import{A as N}from"./Add-BkMjW-JW.js";import{S}from"./Search-Da4ImQWA.js";import{A as T}from"./ArrowDropDown-BOuLYZbC.js";import{T as $,a as i,b as s,c as B}from"./TableRow-DlnbilcC.js";import{T as L}from"./TableHead-8Aru5CBK.js";const F=()=>{const g=C(),[d,x]=c.useState(null),[t,h]=c.useState([]);c.useEffect(()=>{const n=localStorage.getItem("employees");return n&&h(JSON.parse(n)),window.addEventListener("employeeAdded",()=>{const o=JSON.parse(localStorage.getItem("employees")||"[]");h(o)}),()=>window.removeEventListener("employeeAdded",()=>{})},[]);const E=n=>{x(n.currentTarget)},m=()=>{x(null)},p=n=>{const w=`Sl,Name,Email,Phone,Role%0A${t.map((a,v)=>`${v+1},${a.firstName} ${a.lastName},${a.email},${a.phone},${a.role}`).join("%0A")}`,y=new Blob([w],{type:n==="excel"?"application/vnd.ms-excel":"text/csv"}),j=window.URL.createObjectURL(y),r=document.createElement("a");r.href=j,r.download=`employee_list.${n}`,r.click(),window.URL.revokeObjectURL(j),m()};return e.jsxs(l,{sx:{padding:2,backgroundColor:"white"},children:[e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(u,{variant:"h6",sx:{display:"flex",alignItems:"center"},children:[e.jsx(l,{component:"span",sx:{mr:1},children:"ðŸ‘¤"})," Employee List ",e.jsxs(l,{component:"span",sx:{ml:1,color:"text.secondary"},children:["(",t.length,")"]})]}),e.jsx(f,{onClick:()=>g("/employee/new"),variant:"contained",startIcon:e.jsx(N,{}),sx:{backgroundColor:"#E15B65","&:hover":{backgroundColor:"#f33542ff"}},children:"Add New Employee"})]}),e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(I,{variant:"outlined",placeholder:"Ex: Search by name or email...",size:"small",sx:{width:"300px"},InputProps:{endAdornment:e.jsx(k,{edge:"end",children:e.jsx(S,{})})}}),e.jsx(f,{variant:"outlined",color:"#E15B65",size:"small",onClick:E,sx:{color:"#E15B65"},endIcon:e.jsx(T,{}),children:"Export"}),e.jsxs(A,{anchorEl:d,open:!!d,onClose:m,children:[e.jsx(b,{onClick:()=>p("excel"),children:"Excel"}),e.jsx(b,{onClick:()=>p("csv"),children:"Csv"})]})]}),e.jsxs($,{sx:{minWidth:650},"aria-label":"employee table",children:[e.jsx(L,{children:e.jsxs(i,{sx:{backgroundColor:"#f5f5f5"},children:[e.jsx(s,{children:"#"}),e.jsx(s,{children:"Name"}),e.jsx(s,{children:"Email"}),e.jsx(s,{children:"Phone"}),e.jsx(s,{children:"Role"}),e.jsx(s,{children:"Action"})]})}),e.jsx(B,{children:t.length>0?t.map((n,o)=>e.jsxs(i,{children:[e.jsx(s,{children:o+1}),e.jsx(s,{children:`${n.firstName} ${n.lastName}`}),e.jsx(s,{children:n.email}),e.jsx(s,{children:n.phone}),e.jsx(s,{children:n.role}),e.jsx(s,{})]},o)):e.jsx(i,{children:e.jsx(s,{colSpan:6,align:"center",children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(l,{component:"img",src:"https://via.placeholder.com/150",alt:"No Data",sx:{width:"150px",height:"150px"}}),e.jsx(u,{variant:"body1",children:"No Data Found"})]})})})})]})]})};export{F as default};
