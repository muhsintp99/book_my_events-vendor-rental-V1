import{u as Ce,i as we,r as h,h as le,j as e,B as o,T as l,S as d,G as T,al as oe,s as R,a as Se,g as M,av as Ae,ay as De,a3 as f,F as Ie,I as We,ab as Te,W as E,t as Fe,U as Pe,q as K,a4 as L,b as Q,be as _e,P as ze,ar as Le,as as Be,aD as ke,bd as Re}from"./index-D6l-1w3H.js";import{E as Ee}from"./EventAvailable-D4I3iOSM.js";import{A as ce}from"./AccessTime-h3PCsHI-.js";import{C as de}from"./CheckCircle-DrwYT3xK.js";import{T as Me,S as Ne}from"./TrendingUp-fMfNie4G.js";import{S as $e}from"./Search-DquENjes.js";import{F as Oe}from"./FilterList-DxGx6yT8.js";import{C as He}from"./Clear-7rxgVnnO.js";import{T as Ge,a as Ke}from"./Tabs-4T9UsR3w.js";import{A as J,a as ie}from"./ArrowUpward-B4xuYwrM.js";import{C as xe}from"./Cancel-CwUZ8lM-.js";const z="https://api.bookmyevent.ae",j="#D4AF37",pe="#0f172a",lt=({moduleType:c,moduleUrlName:i,moduleLabel:a,primaryColor:g="#3b82f6",moduleIcon:F,initialTab:S="All",hideTabs:A=!1,getDataFn:D=p=>({name:p.packageName||p.moduleName||a,thumbnail:p.thumbnail||"",category:p.categoryName||p.moduleType||a,id:p.packageId||p._id||"N/A"})})=>{const p=Ce(),m=we(p.breakpoints.down("sm")),[v,I]=h.useState(null),[b,W]=h.useState([]),[ue,U]=h.useState(!0),P=h.useMemo(()=>[{label:"All",value:0,filterFn:()=>!0,key:"All"},{label:"Scheduled",value:1,filterFn:s=>s==="scheduled",key:"Scheduled",hidden:i!=="transport"},{label:"Pending",value:2,filterFn:s=>s==="pending",key:"Pending"},{label:"Confirmed",value:3,filterFn:(s,r,n)=>["accepted","confirmed","approve","approved"].includes(s)&&new Date(n.bookingDate)>=new Date().setHours(0,0,0,0),key:"Confirmed"},{label:"Ongoing",value:4,filterFn:s=>s==="ongoing",key:"Ongoing",hidden:i!=="transport"},{label:"Completed",value:5,filterFn:(s,r,n)=>s==="completed"||s==="completed bookings"||s==="done"||["accepted","confirmed"].includes(s)&&new Date(n.bookingDate)<new Date().setHours(0,0,0,0),key:"Completed"},{label:"Cancelled",value:6,filterFn:s=>["cancelled","rejected"].includes(s),key:"Cancelled"},{label:"Payment Failed",value:7,filterFn:(s,r)=>r==="failed"||r==="Payment Failed"||r==="payment failed",key:"Payment Failed"}].filter(s=>!s.hidden).map((s,r)=>({...s,value:r})),[i]),he=h.useMemo(()=>{const t=P.findIndex(s=>s.key.toLowerCase()===S.toLowerCase());return t!==-1?t:0},[S,P]),[B,fe]=h.useState(he),[N,Z]=h.useState(""),[V,me]=h.useState("newest"),[je,ge]=h.useState(null),[ve,X]=h.useState(!1),[k,be]=h.useState(!1),[ee,Y]=h.useState(null),[x,_]=h.useState({dateFrom:"",dateTo:"",paymentStatus:"all",minAmount:"",maxAmount:""});h.useEffect(()=>{const s=(()=>{try{const r=localStorage.getItem("user");if(!r)return null;const n=JSON.parse(r);return(n==null?void 0:n._id)||null}catch{return null}})();s?(I(s),ye(s)):U(!1)},[c]);const ye=async t=>{var s;U(!0);try{const u=(((s=(await le.get(`${z}/api/bookings/provider/${t}`)).data)==null?void 0:s.data)||[]).filter(y=>{const O=String(y.moduleType||"").toLowerCase();return(Array.isArray(c)?c.map(H=>H.toLowerCase()):[c.toLowerCase()]).includes(O)});W(u)}catch(r){console.error(`Error fetching ${a} bookings:`,r)}finally{U(!1)}},te=h.useMemo(()=>{let t=[...b];const s=P[B];if(s&&(s.label!=="All"||A)&&(t=t.filter(r=>{const n=String(r.status||"").toLowerCase(),u=String(r.paymentStatus||"").toLowerCase();return s.filterFn(n,u,r)})),N.trim()){const r=N.toLowerCase();t=t.filter(n=>n._id&&n._id.toLowerCase().includes(r)||n.fullName&&n.fullName.toLowerCase().includes(r)||n.contactNumber&&String(n.contactNumber).includes(r)||n.emailAddress&&n.emailAddress.toLowerCase().includes(r))}return x.dateFrom&&(t=t.filter(r=>new Date(r.bookingDate)>=new Date(x.dateFrom))),x.dateTo&&(t=t.filter(r=>new Date(r.bookingDate)<=new Date(x.dateTo))),x.paymentStatus!=="all"&&(t=t.filter(r=>String(r.paymentStatus||"").toLowerCase()===x.paymentStatus.toLowerCase())),x.minAmount&&(t=t.filter(r=>parseFloat(r.finalPrice||0)>=parseFloat(x.minAmount))),x.maxAmount&&(t=t.filter(r=>parseFloat(r.finalPrice||0)<=parseFloat(x.maxAmount))),t.sort((r,n)=>{const u=new Date(r.bookingDate||0),y=new Date(n.bookingDate||0),O=parseFloat(r.finalPrice||0),q=parseFloat(n.finalPrice||0),H=(r.fullName||"").toLowerCase(),ne=(n.fullName||"").toLowerCase();switch(V){case"newest":return n._id.localeCompare(r._id);case"date_asc":return u-y||n._id.localeCompare(r._id);case"date_desc":return y-u||n._id.localeCompare(r._id);case"price_high":return q-O||n._id.localeCompare(r._id);case"price_low":return O-q||n._id.localeCompare(r._id);case"name_asc":return H.localeCompare(ne)||n._id.localeCompare(r._id);case"name_desc":return ne.localeCompare(H)||n._id.localeCompare(r._id);default:return n._id.localeCompare(r._id)}}),t},[b,B,N,V,P,A,x]),$=h.useMemo(()=>{const t=b.length,s=b.filter(u=>String(u.status).toLowerCase()==="pending").length,r=b.filter(u=>["accepted","confirmed","approved"].includes(String(u.status).toLowerCase())).length,n=b.reduce((u,y)=>u+parseFloat(y.finalPrice||0),0);return{total:t,pending:s,confirmed:r,revenue:n}},[b]),se=async(t,s,r)=>{r&&r.stopPropagation();try{let n="";if(s==="accepted"?n=`${z}/api/bookings/${t}/accept`:s==="rejected"&&(n=`${z}/api/bookings/${t}/reject`),!n)return;await le.patch(n),W(u=>u.map(y=>y._id===t?{...y,status:s}:y)),alert(`Booking ${s==="accepted"?"Confirmed":"Rejected"}`)}catch(n){console.error("Status update error:",n),alert("Failed to update status")}},re=t=>{const s=String(t||"").toLowerCase();return["accepted","confirmed","approve","approved"].includes(s)?"#22c55e":s==="pending"?"#f59e0b":["cancelled","rejected"].includes(s)?"#ef4444":s==="completed"?"#3b82f6":"#64748b"},ae=t=>{if(!t)return null;if(t.startsWith("http"))return t;const s=t.toLowerCase();if(s.startsWith("/uploads/"))return`${z}${t}`;if(s.startsWith("uploads/"))return`${z}/${t}`;const n={transport:"vehicles",vehicle:"vehicles",cake:"cakes",photography:"photography",catering:"catering",makeup:"makeup",venue:"venues",venues:"venues",package:"packages"}[String(i).toLowerCase()]||i,u=t.split("/").pop();return`${z}/uploads/${n}/${u}`};return e.jsxs(o,{sx:{minHeight:"100vh",bgcolor:"#f8fafc",pb:6},children:[e.jsxs(o,{sx:{px:4,py:2,display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#fff",borderBottom:"1px solid #e2e8f0"},children:[e.jsxs(l,{variant:"h6",fontWeight:700,color:"text.primary",children:[P[B].label," ",a]}),e.jsxs(d,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(l,{variant:"caption",color:"text.secondary",children:"Bookings"}),e.jsx(l,{variant:"caption",color:"text.secondary",sx:{mb:.5},children:">"}),e.jsx(l,{variant:"caption",fontWeight:600,color:"#6366f1",children:P[B].label})]})]}),e.jsxs(o,{sx:{p:{xs:2,md:4}},children:[!A&&e.jsxs(T,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(G,{label:"Total Bookings",value:$.total,color:j,icon:e.jsx(Ee,{})}),e.jsx(G,{label:"Pending Orders",value:$.pending,color:"#f59e0b",icon:e.jsx(ce,{})}),e.jsx(G,{label:"Confirmed",value:$.confirmed,color:"#22c55e",icon:e.jsx(de,{})}),e.jsx(G,{label:"Total Revenue",value:`₹${$.revenue.toLocaleString()}`,color:pe,icon:e.jsx(Me,{})})]}),e.jsxs(oe,{elevation:0,sx:{borderRadius:"16px",border:"1px solid #e2e8f0",overflow:"hidden",bgcolor:"#fff"},children:[e.jsxs(o,{sx:{p:3,borderBottom:"1px solid #f1f5f9"},children:[e.jsxs(d,{direction:{xs:"column",md:"row"},spacing:2,justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},children:[e.jsxs(l,{variant:"h6",fontWeight:800,sx:{color:"#1e293b"},children:[a," Bookings"]}),e.jsxs(d,{direction:{xs:"column",sm:"row"},spacing:2,flex:1,maxWidth:{md:700},children:[e.jsx(R,{placeholder:"Search by ID, Name...",size:"small",fullWidth:!0,value:N,onChange:t=>Z(t.target.value),InputProps:{startAdornment:e.jsx(Se,{position:"start",children:e.jsx($e,{fontSize:"small"})}),sx:{borderRadius:"12px",bgcolor:"#f8fafc"}}}),e.jsx(M,{variant:"outlined",size:"small",onClick:t=>Y(t.currentTarget),startIcon:e.jsx(Ne,{}),sx:{borderRadius:"12px",minWidth:100,borderColor:"#e2e8f0",color:"#64748b"},children:"Sort"}),e.jsx(Ae,{badgeContent:Object.values(x).filter(t=>t&&t!=="all").length,color:"error",children:e.jsx(M,{variant:k?"contained":"outlined",size:"small",onClick:()=>be(!k),startIcon:e.jsx(Oe,{}),sx:{borderRadius:"12px",minWidth:100,borderColor:"#e2e8f0",color:k?"#fff":"#64748b",bgcolor:k?j:"transparent"},children:"Filters"})})]})]}),e.jsx(De,{in:k,children:e.jsxs(o,{sx:{mt:3,p:3,borderRadius:"16px",bgcolor:f(j,.03),border:`1px solid ${f(j,.1)}`},children:[e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsx(l,{variant:"subtitle2",fontWeight:700,color:j,children:"Advanced Filters"}),e.jsx(M,{size:"small",startIcon:e.jsx(He,{}),onClick:()=>{_({dateFrom:"",dateTo:"",paymentStatus:"all",minAmount:"",maxAmount:""}),Z("")},sx:{color:"#64748b"},children:"Clear All"})]}),e.jsxs(T,{container:!0,spacing:2,children:[e.jsx(T,{item:!0,xs:12,sm:6,md:3,children:e.jsx(R,{fullWidth:!0,size:"small",label:"From Date",type:"date",value:x.dateFrom,onChange:t=>_(s=>({...s,dateFrom:t.target.value})),InputLabelProps:{shrink:!0}})}),e.jsx(T,{item:!0,xs:12,sm:6,md:3,children:e.jsx(R,{fullWidth:!0,size:"small",label:"To Date",type:"date",value:x.dateTo,onChange:t=>_(s=>({...s,dateTo:t.target.value})),InputLabelProps:{shrink:!0}})}),e.jsx(T,{item:!0,xs:12,sm:6,md:2,children:e.jsxs(Ie,{fullWidth:!0,size:"small",children:[e.jsx(We,{children:"Payment"}),e.jsxs(Te,{value:x.paymentStatus,label:"Payment",onChange:t=>_(s=>({...s,paymentStatus:t.target.value})),children:[e.jsx(E,{value:"all",children:"All"}),e.jsx(E,{value:"initiated",children:"Initiated"}),e.jsx(E,{value:"completed",children:"Completed"}),e.jsx(E,{value:"failed",children:"Failed"})]})]})}),e.jsx(T,{item:!0,xs:12,sm:6,md:2,children:e.jsx(R,{fullWidth:!0,size:"small",label:"Min ₹",type:"number",value:x.minAmount,onChange:t=>_(s=>({...s,minAmount:t.target.value}))})}),e.jsx(T,{item:!0,xs:12,sm:6,md:2,children:e.jsx(R,{fullWidth:!0,size:"small",label:"Max ₹",type:"number",value:x.maxAmount,onChange:t=>_(s=>({...s,maxAmount:t.target.value}))})})]})]})})]}),!A&&e.jsx(o,{sx:{px:3,borderBottom:"1px solid #f1f5f9"},children:e.jsx(Ge,{value:B,onChange:(t,s)=>fe(s),sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:700,minWidth:100},"& .Mui-selected":{color:g+" !important"},"& .MuiTabs-indicator":{bgcolor:g}},children:P.map(t=>e.jsx(Ke,{label:t.label},t.key))})}),!m&&e.jsxs(o,{sx:{px:3,py:2,bgcolor:"#f8fafc",borderBottom:"1px solid #f1f5f9",display:"flex",gap:2,alignItems:"center"},children:[e.jsx(C,{flex:.5,label:"SI#"}),e.jsx(C,{flex:1.5,label:"Booking ID"}),e.jsx(C,{flex:2.5,label:a}),e.jsx(C,{flex:2,label:"Customer"}),e.jsx(C,{flex:2.5,label:"Email"}),e.jsx(C,{flex:1.5,label:"Booking Date"}),e.jsx(C,{flex:1.5,label:"Amount"}),e.jsx(C,{flex:1.5,label:"Status"}),e.jsx(C,{flex:1.5,label:"Payment"}),e.jsx(C,{flex:2,label:"Action",textAlign:"center"})]}),e.jsx(o,{sx:{minHeight:400},children:ue?e.jsx(d,{alignItems:"center",justifyContent:"center",sx:{py:10},children:e.jsx(Fe,{size:32})}):te.length===0?e.jsx(d,{alignItems:"center",justifyContent:"center",sx:{py:10,opacity:.5},children:e.jsx(l,{fontWeight:600,children:"No bookings found"})}):te.map((t,s)=>e.jsx(Ue,{index:s+1,booking:t,isMobile:m,onUpdateStatus:se,onView:r=>{ge(r),X(!0)},statusColor:re(t.status),getDataFn:D,getImageUrl:ae,ModuleIcon:F},t._id))})]})]}),e.jsx(Ye,{open:ve,onClose:()=>X(!1),booking:je,onUpdateStatus:se,getStatusColor:re,getDataFn:D,getImageUrl:ae,moduleLabel:a,primaryColor:g}),e.jsxs(Pe,{anchorEl:ee,open:!!ee,onClose:()=>Y(null),children:[e.jsx(o,{sx:{px:2,py:1},children:e.jsx(l,{variant:"caption",fontWeight:700,children:"SORT BY"})}),[{v:"newest",l:"Latest First",i:e.jsx(J,{fontSize:"small"})},{v:"date_desc",l:"Event Date (New)",i:e.jsx(J,{fontSize:"small"})},{v:"date_asc",l:"Event Date (Old)",i:e.jsx(ie,{fontSize:"small"})},{v:"price_high",l:"Price (High)",i:e.jsx(J,{fontSize:"small"})},{v:"price_low",l:"Price (Low)",i:e.jsx(ie,{fontSize:"small"})}].map(t=>e.jsxs(E,{onClick:()=>{me(t.v),Y(null)},selected:V===t.v,sx:{gap:1.5},children:[t.i," ",e.jsx(l,{variant:"body2",children:t.l})]},t.v))]})]})},G=({label:c,value:i,color:a,icon:g})=>e.jsx(T,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(oe,{elevation:0,sx:{p:3,borderRadius:"24px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:2.5,transition:"0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 24px rgba(0,0,0,0.05)"}},children:[e.jsx(K,{sx:{bgcolor:f(a,.1),color:a,width:48,height:48,borderRadius:"14px"},children:g}),e.jsxs(o,{children:[e.jsx(l,{variant:"caption",fontWeight:700,color:"text.secondary",sx:{textTransform:"uppercase",fontSize:"0.65rem"},children:c}),e.jsx(l,{variant:"h5",fontWeight:900,sx:{color:a},children:i})]})]})}),C=({label:c,flex:i,textAlign:a="left"})=>e.jsx(l,{variant:"caption",fontWeight:800,color:"#64748b",sx:{flex:i,textAlign:a,fontSize:"0.7rem",textTransform:"uppercase"},children:c}),Ue=({index:c,booking:i,isMobile:a,onUpdateStatus:g,onView:F,statusColor:S,getDataFn:A,getImageUrl:D,ModuleIcon:p})=>{var I,b;const m=String(i.status).toLowerCase()==="pending",v=A(i);return a?e.jsx(o,{sx:{p:2,borderBottom:"1px solid #f1f5f9"},onClick:()=>F(i),children:e.jsxs(d,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(K,{src:D(v.thumbnail),variant:"rounded",sx:{width:50,height:50,border:`1px solid ${f(j,.2)}`}}),e.jsxs(o,{flex:1,children:[e.jsxs(d,{direction:"row",justifyContent:"space-between",children:[e.jsxs(l,{variant:"caption",fontWeight:800,color:j,children:["#",(I=i._id)==null?void 0:I.slice(-6)]}),e.jsx(L,{label:i.status,size:"small",sx:{height:18,fontSize:"0.6rem",bgcolor:f(S,.1),color:S}})]}),e.jsx(l,{variant:"subtitle2",fontWeight:800,noWrap:!0,children:v.name}),e.jsx(l,{variant:"caption",color:"text.secondary",children:i.fullName})]})]})}):e.jsxs(o,{onClick:()=>F(i),sx:{px:3,py:2,borderBottom:"1px solid #f1f5f9",display:"flex",alignItems:"center",gap:2,cursor:"pointer","&:hover":{bgcolor:f(j,.05)}},children:[e.jsx(l,{variant:"body2",sx:{flex:.5,fontWeight:600},children:c}),e.jsxs(l,{variant:"body2",sx:{flex:1.5,fontWeight:700,color:j},children:["#",(b=i._id)==null?void 0:b.slice(-6)]}),e.jsxs(o,{sx:{flex:2.5,display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(K,{src:D(v.thumbnail),variant:"rounded",sx:{width:44,height:44,border:`1px solid ${f(j,.2)}`},children:p&&e.jsx(p,{sx:{fontSize:20}})}),e.jsxs(o,{children:[e.jsx(l,{variant:"body2",fontWeight:700,noWrap:!0,sx:{maxWidth:150},children:v.name}),e.jsx(l,{variant:"caption",color:"text.secondary",children:v.category})]})]}),e.jsx(l,{variant:"body2",sx:{flex:2,fontWeight:700},children:i.fullName}),e.jsx(l,{variant:"body2",sx:{flex:2.5,color:"text.secondary",fontSize:"0.8rem"},noWrap:!0,children:i.emailAddress}),e.jsx(l,{variant:"body2",sx:{flex:1.5},children:new Date(i.bookingDate).toLocaleDateString()}),e.jsxs(l,{variant:"body2",sx:{flex:1.5,fontWeight:800},children:["₹",parseFloat(i.finalPrice||0).toLocaleString()]}),e.jsx(o,{sx:{flex:1.5},children:e.jsx(L,{label:i.status,size:"small",sx:{fontWeight:800,bgcolor:f(S,.1),color:S}})}),e.jsx(o,{sx:{flex:1.5},children:e.jsx(l,{variant:"caption",fontWeight:700,sx:{textTransform:"capitalize"},children:i.paymentStatus||"Pending"})}),e.jsx(d,{direction:"row",spacing:1,sx:{flex:2},justifyContent:"center",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Q,{size:"small",color:"success",onClick:W=>g(i._id,"accepted",W),children:e.jsx(de,{fontSize:"small"})}),e.jsx(Q,{size:"small",color:"error",onClick:W=>g(i._id,"rejected",W),children:e.jsx(xe,{fontSize:"small"})})]}):e.jsx(M,{onClick:W=>F(i,W),size:"small",variant:"outlined",children:"View"})})]})},Ve=c=>c?typeof c=="string"?c:Array.isArray(c)?c.map(i=>typeof i=="object"?i.label||i.time:i).join(", "):typeof c=="object"?c.label||c.time||"N/A":null:null,Ye=({open:c,onClose:i,booking:a,getStatusColor:g,getDataFn:F,getImageUrl:S,moduleLabel:A,primaryColor:D})=>{if(!a)return null;const p=g(a.status),m=F(a);return e.jsxs(_e,{anchor:"right",open:c,onClose:i,PaperProps:{sx:{width:{xs:"100%",sm:500},borderRadius:"24px 0 0 24px",p:4}},children:[e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:4,children:[e.jsx(l,{variant:"h5",fontWeight:800,children:"Booking Details"}),e.jsx(Q,{onClick:i,children:e.jsx(xe,{})})]}),e.jsxs(d,{spacing:4,children:[e.jsx(o,{sx:{p:3,borderRadius:"20px",bgcolor:f(p,.05),border:"1px solid",borderColor:f(p,.1)},children:e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(o,{children:[e.jsx(l,{variant:"caption",fontWeight:700,color:"text.secondary",sx:{textTransform:"uppercase"},children:"Current Status"}),e.jsx(l,{variant:"h6",fontWeight:800,color:p,sx:{textTransform:"capitalize"},children:a.status})]}),e.jsx(L,{label:a.bookingType||a.packageType||a.moduleType||A,sx:{fontWeight:700,bgcolor:"#fff",textTransform:"capitalize"}})]})}),e.jsxs(o,{sx:{p:3,borderRadius:"24px",bgcolor:f(j,.03),border:"1px solid",borderColor:f(j,.1)},children:[e.jsx(l,{variant:"caption",fontWeight:800,children:"PACKAGE INFO"}),e.jsxs(d,{direction:"row",spacing:3,mt:2,alignItems:"center",children:[e.jsx(K,{src:S(m.thumbnail),variant:"rounded",sx:{width:80,height:80,borderRadius:"16px"}}),e.jsxs(o,{flex:1,children:[e.jsx(l,{variant:"h6",fontWeight:800,children:m.name}),e.jsx(l,{variant:"body2",color:"text.secondary",children:m.category})]})]}),m.sizes&&m.sizes.length>0&&e.jsxs(o,{mt:2,children:[e.jsx(l,{variant:"caption",color:"text.secondary",fontWeight:700,children:"AVAILABLE SIZES"}),e.jsx(d,{direction:"row",spacing:.5,mt:.5,flexWrap:"wrap",children:m.sizes.map((v,I)=>e.jsx(L,{label:v,size:"small",sx:{height:20,fontSize:"0.65rem"}},I))})]}),m.colors&&m.colors.length>0&&e.jsxs(o,{mt:2,children:[e.jsx(l,{variant:"caption",color:"text.secondary",fontWeight:700,children:"AVAILABLE COLORS"}),e.jsx(d,{direction:"row",spacing:.5,mt:.5,flexWrap:"wrap",children:m.colors.map((v,I)=>e.jsx(L,{label:v,size:"small",sx:{height:20,fontSize:"0.65rem"}},I))})]})]}),a.transportDetails&&e.jsxs(o,{sx:{p:3,borderRadius:"24px",bgcolor:f(D,.03),border:"1px solid",borderColor:f(D,.1)},children:[e.jsx(l,{variant:"caption",fontWeight:800,children:"TRIP DETAILS"}),e.jsxs(d,{spacing:2,sx:{mt:2},children:[a.transportDetails.tripType&&e.jsx(w,{label:"Trip Type",value:a.transportDetails.tripType}),a.transportDetails.hours>0&&e.jsx(w,{label:"Duration (Hours)",value:a.transportDetails.hours}),a.transportDetails.days>0&&e.jsx(w,{label:"Duration (Days)",value:a.transportDetails.days}),a.transportDetails.distanceKm>0&&e.jsx(w,{label:"Distance (KM)",value:a.transportDetails.distanceKm}),a.transportDetails.decorationIncluded&&e.jsx(w,{label:"Decoration",value:`Included (+₹${a.transportDetails.decorationPrice})`})]})]}),e.jsxs(o,{children:[e.jsx(l,{variant:"caption",fontWeight:800,children:"CUSTOMER INFO"}),e.jsxs(d,{spacing:2,sx:{mt:2},children:[e.jsx(w,{icon:e.jsx(ze,{}),label:"Full Name",value:a.fullName}),e.jsx(w,{icon:e.jsx(Le,{}),label:"Email",value:a.emailAddress}),e.jsx(w,{icon:e.jsx(Be,{}),label:"Phone",value:a.contactNumber}),e.jsx(w,{icon:e.jsx(ke,{}),label:"Event Date",value:new Date(a.bookingDate).toLocaleDateString()}),a.timeSlot&&e.jsx(w,{icon:e.jsx(ce,{}),label:"Time Slot",value:Ve(a.timeSlot)})]})]}),e.jsx(o,{sx:{p:3,borderRadius:"24px",background:pe,color:"#fff"},children:e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(o,{children:[e.jsx(l,{variant:"caption",sx:{opacity:.7},children:"GRAND TOTAL"}),e.jsxs(l,{variant:"h4",fontWeight:900,color:j,children:["₹",parseFloat(a.finalPrice||0).toLocaleString()]})]}),e.jsx(L,{label:a.paymentStatus||"Pending",color:"primary",sx:{fontWeight:800}})]})}),e.jsx(d,{direction:"row",spacing:2,children:e.jsx(M,{fullWidth:!0,variant:"soft",startIcon:e.jsx(Re,{}),sx:{bgcolor:f("#25d366",.1),color:"#25d366"},onClick:()=>window.open(`https://wa.me/${a.contactNumber}`,"_blank"),children:"Chat"})})]})]})},w=({icon:c,label:i,value:a})=>e.jsxs(d,{direction:"row",spacing:1.5,alignItems:"flex-start",children:[e.jsx(o,{sx:{color:"text.secondary",mt:.3},children:c}),e.jsxs(o,{children:[e.jsx(l,{variant:"caption",color:"text.secondary",children:i}),e.jsx(l,{variant:"body2",fontWeight:600,children:a||"N/A"})]})]});export{lt as P};
