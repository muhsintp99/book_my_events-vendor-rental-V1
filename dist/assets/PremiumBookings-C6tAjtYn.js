import{u as we,i as Se,r as h,h as oe,j as e,B as o,T as n,S as d,G as D,al as de,s as O,a as Ae,g as E,av as Ie,ay as De,a3 as m,F as We,I as Pe,ab as Te,W as M,t as Fe,U as Le,q as K,a4 as B,b as Z,be as _e,P as Be,ar as ze,as as Re,aD as ke,D as Oe,bd as Me}from"./index-AqSg8Lg7.js";import{E as Ee}from"./EventAvailable-D1n09Snw.js";import{A as xe}from"./AccessTime-yhK8hvsm.js";import{C as pe}from"./CheckCircle-D8hUH75z.js";import{T as Ne,S as $e}from"./TrendingUp-UpAn7EdG.js";import{S as qe}from"./Search-DynJcjWj.js";import{F as He}from"./FilterList-Dg-UobJr.js";import{C as Ge}from"./Clear-xNwVjJYW.js";import{T as Ke,a as Ue}from"./Tabs-C9ZzPMWd.js";import{A as Q,a as ce}from"./ArrowUpward-Dp_U5ora.js";import{C as ue}from"./Cancel-DhcMo--Y.js";const _="https://api.bookmyevent.ae",j="#D4AF37",he="#0f172a",ot=({moduleType:c,moduleUrlName:i,moduleLabel:r,primaryColor:g="#3b82f6",moduleIcon:W,initialTab:A="All",hideTabs:b=!1,getDataFn:I=p=>({name:p.packageName||p.moduleName||r,thumbnail:p.thumbnail||"",category:p.categoryName||p.moduleType||r,id:p.packageId||p._id||"N/A"})})=>{const p=we(),f=Se(p.breakpoints.down("sm")),[F,v]=h.useState(null),[C,z]=h.useState([]),[P,U]=h.useState(!0),T=h.useMemo(()=>[{label:"All",value:0,filterFn:()=>!0,key:"All"},{label:"Scheduled",value:1,filterFn:s=>s==="scheduled",key:"Scheduled",hidden:i!=="transport"},{label:"Pending",value:2,filterFn:s=>s==="pending",key:"Pending"},{label:"Confirmed",value:3,filterFn:(s,a,l)=>["accepted","confirmed","approve","approved"].includes(s)&&new Date(l.bookingDate)>=new Date().setHours(0,0,0,0),key:"Confirmed"},{label:"Ongoing",value:4,filterFn:s=>s==="ongoing",key:"Ongoing",hidden:i!=="transport"},{label:"Completed",value:5,filterFn:(s,a,l)=>s==="completed"||s==="completed bookings"||s==="done"||["accepted","confirmed"].includes(s)&&new Date(l.bookingDate)<new Date().setHours(0,0,0,0),key:"Completed"},{label:"Cancelled",value:6,filterFn:s=>["cancelled","rejected"].includes(s),key:"Cancelled"},{label:"Payment Failed",value:7,filterFn:(s,a)=>a==="failed"||a==="Payment Failed"||a==="payment failed",key:"Payment Failed"}].filter(s=>!s.hidden).map((s,a)=>({...s,value:a})),[i]),fe=h.useMemo(()=>{const t=T.findIndex(s=>s.key.toLowerCase()===A.toLowerCase());return t!==-1?t:0},[A,T]),[R,me]=h.useState(fe),[N,ee]=h.useState(""),[V,je]=h.useState("newest"),[ge,ve]=h.useState(null),[ye,te]=h.useState(!1),[k,be]=h.useState(!1),[se,Y]=h.useState(null),[x,L]=h.useState({dateFrom:"",dateTo:"",paymentStatus:"all",minAmount:"",maxAmount:""});h.useEffect(()=>{const s=(()=>{try{const a=localStorage.getItem("user");if(!a)return null;const l=JSON.parse(a);return(l==null?void 0:l._id)||null}catch{return null}})();s?(v(s),Ce(s)):U(!1)},[c]);const Ce=async t=>{var s;U(!0);try{const u=(((s=(await oe.get(`${_}/api/bookings/provider/${t}`)).data)==null?void 0:s.data)||[]).filter(w=>{const q=String(w.moduleType||"").toLowerCase();return(Array.isArray(c)?c.map(H=>H.toLowerCase()):[c.toLowerCase()]).includes(q)});z(u)}catch(a){console.error(`Error fetching ${r} bookings:`,a)}finally{U(!1)}},re=h.useMemo(()=>{let t=[...C];const s=T[R];if(s&&(s.label!=="All"||b)&&(t=t.filter(a=>{const l=String(a.status||"").toLowerCase(),u=String(a.paymentStatus||"").toLowerCase();return s.filterFn(l,u,a)})),N.trim()){const a=N.toLowerCase();t=t.filter(l=>l._id&&l._id.toLowerCase().includes(a)||l.fullName&&l.fullName.toLowerCase().includes(a)||l.contactNumber&&String(l.contactNumber).includes(a)||l.emailAddress&&l.emailAddress.toLowerCase().includes(a))}return x.dateFrom&&(t=t.filter(a=>new Date(a.bookingDate)>=new Date(x.dateFrom))),x.dateTo&&(t=t.filter(a=>new Date(a.bookingDate)<=new Date(x.dateTo))),x.paymentStatus!=="all"&&(t=t.filter(a=>String(a.paymentStatus||"").toLowerCase()===x.paymentStatus.toLowerCase())),x.minAmount&&(t=t.filter(a=>parseFloat(a.finalPrice||0)>=parseFloat(x.minAmount))),x.maxAmount&&(t=t.filter(a=>parseFloat(a.finalPrice||0)<=parseFloat(x.maxAmount))),t.sort((a,l)=>{const u=new Date(a.bookingDate||0),w=new Date(l.bookingDate||0),q=parseFloat(a.finalPrice||0),J=parseFloat(l.finalPrice||0),H=(a.fullName||"").toLowerCase(),le=(l.fullName||"").toLowerCase();switch(V){case"newest":return l._id.localeCompare(a._id);case"date_asc":return u-w||l._id.localeCompare(a._id);case"date_desc":return w-u||l._id.localeCompare(a._id);case"price_high":return J-q||l._id.localeCompare(a._id);case"price_low":return q-J||l._id.localeCompare(a._id);case"name_asc":return H.localeCompare(le)||l._id.localeCompare(a._id);case"name_desc":return le.localeCompare(H)||l._id.localeCompare(a._id);default:return l._id.localeCompare(a._id)}}),t},[C,R,N,V,T,b,x]),$=h.useMemo(()=>{const t=C.length,s=C.filter(u=>String(u.status).toLowerCase()==="pending").length,a=C.filter(u=>["accepted","confirmed","approved"].includes(String(u.status).toLowerCase())).length,l=C.reduce((u,w)=>u+parseFloat(w.finalPrice||0),0);return{total:t,pending:s,confirmed:a,revenue:l}},[C]),ae=async(t,s,a)=>{a&&a.stopPropagation();try{let l="";if(s==="accepted"?l=`${_}/api/bookings/${t}/accept`:s==="rejected"&&(l=`${_}/api/bookings/${t}/reject`),!l)return;await oe.patch(l),z(u=>u.map(w=>w._id===t?{...w,status:s}:w)),alert(`Booking ${s==="accepted"?"Confirmed":"Rejected"}`)}catch(l){console.error("Status update error:",l),alert("Failed to update status")}},ne=t=>{const s=String(t||"").toLowerCase();return["accepted","confirmed","approve","approved"].includes(s)?"#22c55e":s==="pending"?"#f59e0b":["cancelled","rejected"].includes(s)?"#ef4444":s==="completed"?"#3b82f6":"#64748b"},ie=t=>{if(!t)return null;if(t.startsWith("http"))return t;const s=t.toLowerCase();if(s.startsWith("/uploads/"))return`${_}${t}`;if(s.startsWith("uploads/"))return`${_}/${t}`;const l={transport:"vehicles",vehicle:"vehicles",cake:"cakes",photography:"photography",catering:"catering",makeup:"makeup",venue:"venues",venues:"venues",package:"packages"}[String(i).toLowerCase()]||i,u=t.split("/").pop();return`${_}/uploads/${l}/${u}`};return e.jsxs(o,{sx:{minHeight:"100vh",bgcolor:"#f8fafc",pb:6},children:[e.jsxs(o,{sx:{px:4,py:2,display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#fff",borderBottom:"1px solid #e2e8f0"},children:[e.jsxs(n,{variant:"h6",fontWeight:700,color:"text.primary",children:[T[R].label," ",r]}),e.jsxs(d,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(n,{variant:"caption",color:"text.secondary",children:"Bookings"}),e.jsx(n,{variant:"caption",color:"text.secondary",sx:{mb:.5},children:">"}),e.jsx(n,{variant:"caption",fontWeight:600,color:"#6366f1",children:T[R].label})]})]}),e.jsxs(o,{sx:{p:{xs:2,md:4}},children:[!b&&e.jsxs(D,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(G,{label:"Total Bookings",value:$.total,color:j,icon:e.jsx(Ee,{})}),e.jsx(G,{label:"Pending Orders",value:$.pending,color:"#f59e0b",icon:e.jsx(xe,{})}),e.jsx(G,{label:"Confirmed",value:$.confirmed,color:"#22c55e",icon:e.jsx(pe,{})}),e.jsx(G,{label:"Total Revenue",value:`₹${$.revenue.toLocaleString()}`,color:he,icon:e.jsx(Ne,{})})]}),e.jsxs(de,{elevation:0,sx:{borderRadius:"16px",border:"1px solid #e2e8f0",overflow:"hidden",bgcolor:"#fff"},children:[e.jsxs(o,{sx:{p:3,borderBottom:"1px solid #f1f5f9"},children:[e.jsxs(d,{direction:{xs:"column",md:"row"},spacing:2,justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},children:[e.jsxs(n,{variant:"h6",fontWeight:800,sx:{color:"#1e293b"},children:[r," Bookings"]}),e.jsxs(d,{direction:{xs:"column",sm:"row"},spacing:2,flex:1,maxWidth:{md:700},children:[e.jsx(O,{placeholder:"Search by ID, Name...",size:"small",fullWidth:!0,value:N,onChange:t=>ee(t.target.value),InputProps:{startAdornment:e.jsx(Ae,{position:"start",children:e.jsx(qe,{fontSize:"small"})}),sx:{borderRadius:"12px",bgcolor:"#f8fafc"}}}),e.jsx(E,{variant:"outlined",size:"small",onClick:t=>Y(t.currentTarget),startIcon:e.jsx($e,{}),sx:{borderRadius:"12px",minWidth:100,borderColor:"#e2e8f0",color:"#64748b"},children:"Sort"}),e.jsx(Ie,{badgeContent:Object.values(x).filter(t=>t&&t!=="all").length,color:"error",children:e.jsx(E,{variant:k?"contained":"outlined",size:"small",onClick:()=>be(!k),startIcon:e.jsx(He,{}),sx:{borderRadius:"12px",minWidth:100,borderColor:"#e2e8f0",color:k?"#fff":"#64748b",bgcolor:k?j:"transparent"},children:"Filters"})})]})]}),e.jsx(De,{in:k,children:e.jsxs(o,{sx:{mt:3,p:3,borderRadius:"16px",bgcolor:m(j,.03),border:`1px solid ${m(j,.1)}`},children:[e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsx(n,{variant:"subtitle2",fontWeight:700,color:j,children:"Advanced Filters"}),e.jsx(E,{size:"small",startIcon:e.jsx(Ge,{}),onClick:()=>{L({dateFrom:"",dateTo:"",paymentStatus:"all",minAmount:"",maxAmount:""}),ee("")},sx:{color:"#64748b"},children:"Clear All"})]}),e.jsxs(D,{container:!0,spacing:2,children:[e.jsx(D,{item:!0,xs:12,sm:6,md:3,children:e.jsx(O,{fullWidth:!0,size:"small",label:"From Date",type:"date",value:x.dateFrom,onChange:t=>L(s=>({...s,dateFrom:t.target.value})),InputLabelProps:{shrink:!0}})}),e.jsx(D,{item:!0,xs:12,sm:6,md:3,children:e.jsx(O,{fullWidth:!0,size:"small",label:"To Date",type:"date",value:x.dateTo,onChange:t=>L(s=>({...s,dateTo:t.target.value})),InputLabelProps:{shrink:!0}})}),e.jsx(D,{item:!0,xs:12,sm:6,md:2,children:e.jsxs(We,{fullWidth:!0,size:"small",children:[e.jsx(Pe,{children:"Payment"}),e.jsxs(Te,{value:x.paymentStatus,label:"Payment",onChange:t=>L(s=>({...s,paymentStatus:t.target.value})),children:[e.jsx(M,{value:"all",children:"All"}),e.jsx(M,{value:"initiated",children:"Initiated"}),e.jsx(M,{value:"completed",children:"Completed"}),e.jsx(M,{value:"failed",children:"Failed"})]})]})}),e.jsx(D,{item:!0,xs:12,sm:6,md:2,children:e.jsx(O,{fullWidth:!0,size:"small",label:"Min ₹",type:"number",value:x.minAmount,onChange:t=>L(s=>({...s,minAmount:t.target.value}))})}),e.jsx(D,{item:!0,xs:12,sm:6,md:2,children:e.jsx(O,{fullWidth:!0,size:"small",label:"Max ₹",type:"number",value:x.maxAmount,onChange:t=>L(s=>({...s,maxAmount:t.target.value}))})})]})]})})]}),!b&&e.jsx(o,{sx:{px:3,borderBottom:"1px solid #f1f5f9"},children:e.jsx(Ke,{value:R,onChange:(t,s)=>me(s),sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:700,minWidth:100},"& .Mui-selected":{color:g+" !important"},"& .MuiTabs-indicator":{bgcolor:g}},children:T.map(t=>e.jsx(Ue,{label:t.label},t.key))})}),!f&&e.jsxs(o,{sx:{px:3,py:2,bgcolor:"#f8fafc",borderBottom:"1px solid #f1f5f9",display:"flex",gap:2,alignItems:"center"},children:[e.jsx(y,{flex:.5,label:"SI#"}),e.jsx(y,{flex:1.5,label:"Booking ID"}),e.jsx(y,{flex:2.5,label:r}),e.jsx(y,{flex:2,label:"Customer"}),e.jsx(y,{flex:2.5,label:"Email"}),e.jsx(y,{flex:1.5,label:"Booking Date"}),e.jsx(y,{flex:1.2,label:"Paid"}),e.jsx(y,{flex:1.3,label:"Total"}),e.jsx(y,{flex:1.5,label:"Status"}),e.jsx(y,{flex:1.2,label:"Payment"}),e.jsx(y,{flex:1.8,label:"Action",textAlign:"center"})]}),e.jsx(o,{sx:{minHeight:400},children:P?e.jsx(d,{alignItems:"center",justifyContent:"center",sx:{py:10},children:e.jsx(Fe,{size:32})}):re.length===0?e.jsx(d,{alignItems:"center",justifyContent:"center",sx:{py:10,opacity:.5},children:e.jsx(n,{fontWeight:600,children:"No bookings found"})}):re.map((t,s)=>e.jsx(Ve,{index:s+1,booking:t,isMobile:f,onUpdateStatus:ae,onView:a=>{ve(a),te(!0)},statusColor:ne(t.status),getDataFn:I,getImageUrl:ie,ModuleIcon:W,moduleLabel:r},t._id))})]})]}),e.jsx(Je,{open:ye,onClose:()=>te(!1),booking:ge,onUpdateStatus:ae,getStatusColor:ne,getDataFn:I,getImageUrl:ie,moduleLabel:r,primaryColor:g}),e.jsxs(Le,{anchorEl:se,open:!!se,onClose:()=>Y(null),children:[e.jsx(o,{sx:{px:2,py:1},children:e.jsx(n,{variant:"caption",fontWeight:700,children:"SORT BY"})}),[{v:"newest",l:"Latest First",i:e.jsx(Q,{fontSize:"small"})},{v:"date_desc",l:"Event Date (New)",i:e.jsx(Q,{fontSize:"small"})},{v:"date_asc",l:"Event Date (Old)",i:e.jsx(ce,{fontSize:"small"})},{v:"price_high",l:"Price (High)",i:e.jsx(Q,{fontSize:"small"})},{v:"price_low",l:"Price (Low)",i:e.jsx(ce,{fontSize:"small"})}].map(t=>e.jsxs(M,{onClick:()=>{je(t.v),Y(null)},selected:V===t.v,sx:{gap:1.5},children:[t.i," ",e.jsx(n,{variant:"body2",children:t.l})]},t.v))]})]})},X=(c,i)=>{const r=["Cake","Boutique","Boutiques","Ornament","Ornaments","boutique","ornament"],g=["completed","paid","success"].includes(String(c.paymentStatus||"").toLowerCase());return r.includes(i)&&g?c.finalPrice||0:c.advanceAmount||0},G=({label:c,value:i,color:r,icon:g})=>e.jsx(D,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(de,{elevation:0,sx:{p:3,borderRadius:"24px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:2.5,transition:"0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 24px rgba(0,0,0,0.05)"}},children:[e.jsx(K,{sx:{bgcolor:m(r,.1),color:r,width:48,height:48,borderRadius:"14px"},children:g}),e.jsxs(o,{children:[e.jsx(n,{variant:"caption",fontWeight:700,color:"text.secondary",sx:{textTransform:"uppercase",fontSize:"0.65rem"},children:c}),e.jsx(n,{variant:"h5",fontWeight:900,sx:{color:r},children:i})]})]})}),y=({label:c,flex:i,textAlign:r="left"})=>e.jsx(n,{variant:"caption",fontWeight:800,color:"#64748b",sx:{flex:i,textAlign:r,fontSize:"0.7rem",textTransform:"uppercase"},children:c}),Ve=({index:c,booking:i,isMobile:r,onUpdateStatus:g,onView:W,statusColor:A,getDataFn:b,getImageUrl:I,ModuleIcon:p,moduleLabel:f})=>{var C,z;const F=String(i.status).toLowerCase()==="pending",v=b(i);return r?e.jsx(o,{sx:{p:2,borderBottom:"1px solid #f1f5f9"},onClick:()=>W(i),children:e.jsxs(d,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(K,{src:I(v.thumbnail),variant:"rounded",sx:{width:50,height:50,border:`1px solid ${m(j,.2)}`}}),e.jsxs(o,{flex:1,children:[e.jsxs(d,{direction:"row",justifyContent:"space-between",children:[e.jsxs(n,{variant:"caption",fontWeight:800,color:j,children:["#",(C=i._id)==null?void 0:C.slice(-6)]}),e.jsx(B,{label:i.status,size:"small",sx:{height:18,fontSize:"0.6rem",bgcolor:m(A,.1),color:A}})]}),e.jsx(n,{variant:"subtitle2",fontWeight:800,noWrap:!0,children:v.name}),e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(n,{variant:"caption",color:"text.secondary",children:i.fullName}),e.jsxs(o,{sx:{textAlign:"right"},children:[e.jsxs(n,{variant:"caption",sx:{display:"block",fontWeight:600,color:"#10b981"},children:["Paid: ₹",X(i,f).toLocaleString()]}),e.jsxs(n,{variant:"caption",sx:{display:"block",fontWeight:800},children:["Total: ₹",(i.finalPrice||0).toLocaleString()]})]})]})]})]})}):e.jsxs(o,{onClick:()=>W(i),sx:{px:3,py:2,borderBottom:"1px solid #f1f5f9",display:"flex",alignItems:"center",gap:2,cursor:"pointer","&:hover":{bgcolor:m(j,.05)}},children:[e.jsx(n,{variant:"body2",sx:{flex:.5,fontWeight:600},children:c}),e.jsxs(n,{variant:"body2",sx:{flex:1.5,fontWeight:700,color:j},children:["#",(z=i._id)==null?void 0:z.slice(-6)]}),e.jsxs(o,{sx:{flex:2.5,display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(K,{src:I(v.thumbnail),variant:"rounded",sx:{width:44,height:44,border:`1px solid ${m(j,.2)}`},children:p&&e.jsx(p,{sx:{fontSize:20}})}),e.jsxs(o,{children:[e.jsx(n,{variant:"body2",fontWeight:700,noWrap:!0,sx:{maxWidth:150},children:v.name}),e.jsx(n,{variant:"caption",color:"text.secondary",children:v.category})]})]}),e.jsx(n,{variant:"body2",sx:{flex:2,fontWeight:700},children:i.fullName}),e.jsx(n,{variant:"body2",sx:{flex:2.5,color:"text.secondary",fontSize:"0.8rem"},noWrap:!0,children:i.emailAddress}),e.jsx(n,{variant:"body2",sx:{flex:1.5},children:new Date(i.bookingDate).toLocaleDateString()}),e.jsxs(n,{variant:"body2",sx:{flex:1.2,fontWeight:700,color:"#10b981"},children:["₹",X(i,f).toLocaleString()]}),e.jsxs(n,{variant:"body2",sx:{flex:1.3,fontWeight:800},children:["₹",(i.finalPrice||0).toLocaleString()]}),e.jsx(o,{sx:{flex:1.5},children:e.jsx(B,{label:i.status,size:"small",sx:{fontWeight:800,bgcolor:m(A,.1),color:A}})}),e.jsx(o,{sx:{flex:1.2},children:e.jsx(n,{variant:"caption",fontWeight:700,sx:{textTransform:"capitalize"},children:i.paymentStatus||"Pending"})}),e.jsx(d,{direction:"row",spacing:1,sx:{flex:1.8},justifyContent:"center",children:F?e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:"small",color:"success",onClick:P=>g(i._id,"accepted",P),children:e.jsx(pe,{fontSize:"small"})}),e.jsx(Z,{size:"small",color:"error",onClick:P=>g(i._id,"rejected",P),children:e.jsx(ue,{fontSize:"small"})})]}):e.jsx(E,{onClick:P=>W(i,P),size:"small",variant:"outlined",children:"View"})})]})},Ye=c=>c?typeof c=="string"?c:Array.isArray(c)?c.map(i=>typeof i=="object"?i.label||i.time:i).join(", "):typeof c=="object"?c.label||c.time||"N/A":null:null,Je=({open:c,onClose:i,booking:r,getStatusColor:g,getDataFn:W,getImageUrl:A,moduleLabel:b,primaryColor:I})=>{if(!r)return null;const p=g(r.status),f=W(r);return e.jsxs(_e,{anchor:"right",open:c,onClose:i,PaperProps:{sx:{width:{xs:"100%",sm:500},borderRadius:"24px 0 0 24px",p:4}},children:[e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:4,children:[e.jsx(n,{variant:"h5",fontWeight:800,children:"Booking Details"}),e.jsx(Z,{onClick:i,children:e.jsx(ue,{})})]}),e.jsxs(d,{spacing:4,children:[e.jsx(o,{sx:{p:3,borderRadius:"20px",bgcolor:m(p,.05),border:"1px solid",borderColor:m(p,.1)},children:e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(o,{children:[e.jsx(n,{variant:"caption",fontWeight:700,color:"text.secondary",sx:{textTransform:"uppercase"},children:"Current Status"}),e.jsx(n,{variant:"h6",fontWeight:800,color:p,sx:{textTransform:"capitalize"},children:r.status})]}),e.jsx(B,{label:r.bookingType||r.packageType||r.moduleType||b,sx:{fontWeight:700,bgcolor:"#fff",textTransform:"capitalize"}})]})}),e.jsxs(o,{sx:{p:3,borderRadius:"24px",bgcolor:m(j,.03),border:"1px solid",borderColor:m(j,.1)},children:[e.jsx(n,{variant:"caption",fontWeight:800,children:"PACKAGE INFO"}),e.jsxs(d,{direction:"row",spacing:3,mt:2,alignItems:"center",children:[e.jsx(K,{src:A(f.thumbnail),variant:"rounded",sx:{width:80,height:80,borderRadius:"16px"}}),e.jsxs(o,{flex:1,children:[e.jsx(n,{variant:"h6",fontWeight:800,children:f.name}),e.jsx(n,{variant:"body2",color:"text.secondary",children:f.category})]})]}),f.sizes&&f.sizes.length>0&&e.jsxs(o,{mt:2,children:[e.jsx(n,{variant:"caption",color:"text.secondary",fontWeight:700,children:"AVAILABLE SIZES"}),e.jsx(d,{direction:"row",spacing:.5,mt:.5,flexWrap:"wrap",children:f.sizes.map((F,v)=>e.jsx(B,{label:F,size:"small",sx:{height:20,fontSize:"0.65rem"}},v))})]}),f.colors&&f.colors.length>0&&e.jsxs(o,{mt:2,children:[e.jsx(n,{variant:"caption",color:"text.secondary",fontWeight:700,children:"AVAILABLE COLORS"}),e.jsx(d,{direction:"row",spacing:.5,mt:.5,flexWrap:"wrap",children:f.colors.map((F,v)=>e.jsx(B,{label:F,size:"small",sx:{height:20,fontSize:"0.65rem"}},v))})]})]}),r.transportDetails&&e.jsxs(o,{sx:{p:3,borderRadius:"24px",bgcolor:m(I,.03),border:"1px solid",borderColor:m(I,.1)},children:[e.jsx(n,{variant:"caption",fontWeight:800,children:"TRIP DETAILS"}),e.jsxs(d,{spacing:2,sx:{mt:2},children:[r.transportDetails.tripType&&e.jsx(S,{label:"Trip Type",value:r.transportDetails.tripType}),r.transportDetails.hours>0&&e.jsx(S,{label:"Duration (Hours)",value:r.transportDetails.hours}),r.transportDetails.days>0&&e.jsx(S,{label:"Duration (Days)",value:r.transportDetails.days}),r.transportDetails.distanceKm>0&&e.jsx(S,{label:"Distance (KM)",value:r.transportDetails.distanceKm}),r.transportDetails.decorationIncluded&&e.jsx(S,{label:"Decoration",value:`Included (+₹${r.transportDetails.decorationPrice})`})]})]}),e.jsxs(o,{children:[e.jsx(n,{variant:"caption",fontWeight:800,children:"CUSTOMER INFO"}),e.jsxs(d,{spacing:2,sx:{mt:2},children:[e.jsx(S,{icon:e.jsx(Be,{}),label:"Full Name",value:r.fullName}),e.jsx(S,{icon:e.jsx(ze,{}),label:"Email",value:r.emailAddress}),e.jsx(S,{icon:e.jsx(Re,{}),label:"Phone",value:r.contactNumber}),e.jsx(S,{icon:e.jsx(ke,{}),label:"Event Date",value:new Date(r.bookingDate).toLocaleDateString()}),r.timeSlot&&e.jsx(S,{icon:e.jsx(xe,{}),label:"Time Slot",value:Ye(r.timeSlot)})]})]}),e.jsxs(o,{sx:{p:3,borderRadius:"24px",background:he,color:"#fff"},children:[e.jsx(n,{variant:"caption",sx:{opacity:.7,fontWeight:700,textTransform:"uppercase",letterSpacing:1},children:"Payment Breakdown"}),e.jsxs(d,{spacing:2,mt:2,children:[e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(n,{variant:"body2",color:"rgba(255,255,255,0.7)",children:"Paid Amount"}),e.jsxs(n,{variant:"body1",sx:{fontWeight:700,color:"#10b981"},children:["₹",X(r,b).toLocaleString()]})]}),e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(n,{variant:"body2",color:"rgba(255,255,255,0.7)",children:"Remaining Amount"}),e.jsxs(n,{variant:"subtitle1",fontWeight:700,sx:{color:"#f59e0b"},children:["₹",(["Cake","Boutique","Boutiques","Ornament","Ornaments"].includes(b)&&["completed","paid","success"].includes(String(r.paymentStatus||"").toLowerCase())?0:Math.max(0,(r.finalPrice||0)-(r.advanceAmount||0))).toLocaleString()]})]}),e.jsx(Oe,{sx:{borderColor:"rgba(255,255,255,0.1)"}}),e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(o,{children:[e.jsx(n,{variant:"caption",sx:{opacity:.7},children:"GRAND TOTAL"}),e.jsxs(n,{variant:"h5",fontWeight:900,color:j,children:["₹",(r.finalPrice||0).toLocaleString()]})]}),e.jsx(B,{label:r.paymentStatus||"Pending",color:"primary",sx:{fontWeight:800,textTransform:"capitalize"}})]})]})]}),e.jsx(d,{direction:"row",spacing:2,children:e.jsx(E,{fullWidth:!0,variant:"soft",startIcon:e.jsx(Me,{}),sx:{bgcolor:m("#25d366",.1),color:"#25d366"},onClick:()=>window.open(`https://wa.me/${r.contactNumber}`,"_blank"),children:"Chat"})})]})]})},S=({icon:c,label:i,value:r})=>e.jsxs(d,{direction:"row",spacing:1.5,alignItems:"flex-start",children:[e.jsx(o,{sx:{color:"text.secondary",mt:.3},children:c}),e.jsxs(o,{children:[e.jsx(n,{variant:"caption",color:"text.secondary",children:i}),e.jsx(n,{variant:"body2",fontWeight:600,children:r||"N/A"})]})]});export{ot as P};
