import{t as u,r as d,g as p,j as a,B as g,s as m,T as I}from"./index-qwNWiGpQ.js";const f="http://localhost:5000";function h(){const[l]=u(),o=l.get("orderId"),e=JSON.parse(localStorage.getItem("user")||"{}"),s=e==null?void 0:e._id,r=localStorage.getItem("moduleId");return d.useEffect(()=>{if(!o||!s||!r)return;const i=setInterval(async()=>{var c,n;try{const t=await p.get(`${f}/api/subscription/status/${s}?moduleId=${r}`);((n=(c=t.data)==null?void 0:c.subscription)==null?void 0:n.status)==="active"&&(clearInterval(i),localStorage.setItem("upgrade",JSON.stringify({isSubscribed:!0,status:"active",plan:t.data.subscription.planId,module:t.data.subscription.moduleId,access:{canAccess:!0,isExpired:!1}})),window.location.href="/makeupartist/portfolio")}catch(t){console.error("Polling error:",t)}},3e3);return()=>clearInterval(i)},[o,s,r]),a.jsxs(g,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2},children:[a.jsx(m,{}),a.jsx(I,{fontWeight:600,children:"Activating your subscription, please waitâ€¦"})]})}export{h as default};
