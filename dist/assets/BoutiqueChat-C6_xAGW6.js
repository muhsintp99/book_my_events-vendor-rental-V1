import{c as f,j as e,w as re,u as oe,i as ie,r as i,B as n,S as x,b as l,am as ne,q as H,T as a,bj as P,a3 as p,a8 as v,s as ae,D as Y,bk as le,G as V,U as ce,at as de,W as w,a1 as xe,bl as he,bg as me,a2 as pe,a4 as ue}from"./index-4okDMdnD.js";import{S}from"./Search-D-saeKmI.js";import{C as ge}from"./Close-N5aJrrGi.js";import{C as fe}from"./Chat-AOUUF5oE.js";import{C as je}from"./CheckCircle-DG_S0K7I.js";import{A as be}from"./Add-DR2uXg4F.js";import{S as ye}from"./Send-c1-KBsq2.js";import{D as Ce}from"./DeleteOutline-CpLIzWc-.js";import{F as ve}from"./FilterList-C_W1L1m4.js";import{L as we}from"./ListItem-DgdZHE6U.js";import{L as Se}from"./ListItemAvatar-CJQ7G7Nk.js";const Ie=f(e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8M12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4m3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),Me=f(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),Ee=f(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m0-15.5c2.49 0 4 2.02 4 4.5v.1l2 2V11c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.24.06-.47.15-.69.23l1.64 1.64c.18-.02.36-.05.55-.05M5.41 3.35 4 4.76l2.81 2.81C6.29 8.57 6 9.74 6 11v5l-2 2v1h14.24l1.74 1.74 1.41-1.41zM16 17H8v-6c0-.68.12-1.32.34-1.9L16 16.76z"})),We=f(e.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"})),r={primary:"#9C27B0",secondary:"#E91E63",dark:"#1A1A2E"},ke=["ðŸ˜Š","ðŸ˜‚","ðŸ˜","ðŸ‘","ðŸ™","ðŸ”¥","âœ¨","â¤ï¸","ðŸŽ‰","ðŸ‘—","ðŸ‘œ","ðŸ“","ðŸ’¯","ðŸ‘","ðŸ™Œ","â­"],Ae=[{id:1,name:"Sarah Johnson",avatar:"SJ",email:"sarah.j@example.com",phone:"+1 (555) 012-3456",online:!0,lastMessage:"That's great! I'll send over some references soon.",time:"09:25 AM",unreadCount:2,messages:[{id:1,sender:"customer",text:"Hello, I'm interested in working with your boutique for some upcoming designs. How do we get started?",time:"09:15 AM",type:"text"},{id:2,sender:"vendor",text:"Hi there! Welcome to our boutique. We'd love to help you. You can share your ideas here, and we can discuss the specifics!",time:"09:20 AM",type:"text"},{id:3,sender:"customer",text:"That's great! I'll send over some references soon.",time:"09:25 AM",type:"text"}]},{id:2,name:"Michael Chen",avatar:"MC",email:"m.chen@outlook.com",phone:"+1 (555) 098-7654",online:!1,lastMessage:"Do you offer international shipping?",time:"Yesterday",unreadCount:0,messages:[{id:1,sender:"customer",text:"Hi, I saw your new collection. It looks amazing!",time:"Yesterday",type:"text"},{id:2,sender:"customer",text:"Do you offer international shipping?",time:"Yesterday",type:"text"}]},{id:3,name:"Elena Rodriguez",avatar:"ER",email:"elena.rd@gmail.com",phone:"+1 (555) 456-7890",online:!0,lastMessage:"I loved the fabric quality!",time:"10:45 AM",unreadCount:0,messages:[{id:1,sender:"customer",text:"The sample arrived today.",time:"10:40 AM",type:"text"},{id:2,sender:"customer",text:"I loved the fabric quality!",time:"10:45 AM",type:"text"}]}],Ve=()=>{re();const q=oe(),o=ie(q.breakpoints.down("md")),[d,I]=i.useState(Ae),[h,G]=i.useState(1),[j,N]=i.useState(""),[M,b]=i.useState(""),[E,W]=i.useState(null),[k,A]=i.useState(null),[B,z]=i.useState(!1),[J,F]=i.useState(""),[R,T]=i.useState(!1),D=i.useRef(null),L=i.useRef(null),c=i.useMemo(()=>d.find(s=>s.id===h)||d[0],[d,h]),Q=i.useMemo(()=>d.filter(s=>s.name.toLowerCase().includes(j.toLowerCase())),[d,j]),U=()=>{var s;(s=L.current)==null||s.scrollIntoView({behavior:"smooth"})};i.useEffect(()=>{U()},[c.messages]);const y=(s=M,t="text")=>{if(t==="text"&&!s.trim())return;const m={id:c.messages.length+1,sender:"vendor",text:t==="text"?s:null,file:t==="image"?s:null,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:t},C=d.map(g=>g.id===h?{...g,messages:[...g.messages,m],lastMessage:t==="text"?s:"Sent an image",time:m.time}:g);I(C),t==="text"&&b("")},_=()=>{var s;return(s=D.current)==null?void 0:s.click()},$=s=>{const t=s.target.files[0];if(t){const m=new FileReader;m.onload=C=>y(C.target.result,"image"),m.readAsDataURL(t)}},K=s=>W(s.currentTarget),O=()=>W(null),X=s=>{b(t=>t+s),O()},Z=s=>A(s.currentTarget),u=()=>A(null),ee=()=>{I(d.map(s=>s.id===h?{...s,messages:[]}:s)),u()},se=s=>{G(s),o&&T(!0)},te=()=>e.jsxs(n,{sx:{width:{xs:"100%",md:350},height:"100%",borderRight:"1px solid #E0E4EC",display:"flex",flexDirection:"column",bgcolor:"white"},children:[e.jsxs(n,{sx:{p:2,bgcolor:"white"},children:[e.jsxs(x,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[e.jsx(a,{variant:"h5",fontWeight:800,color:r.primary,children:"Chats"}),e.jsx(x,{direction:"row",spacing:1,children:e.jsx(l,{size:"small",sx:{bgcolor:p(r.primary,.05)},children:e.jsx(ve,{fontSize:"small"})})})]}),e.jsxs(v,{sx:{p:"2px 8px",display:"flex",alignItems:"center",bgcolor:"#F1F5F9",borderRadius:"12px",boxShadow:"none"},children:[e.jsx(S,{sx:{color:"#64748B",ml:1}}),e.jsx(P,{sx:{ml:1,flex:1,p:1,fontWeight:500},placeholder:"Search customers...",value:j,onChange:s=>N(s.target.value)})]})]}),e.jsx(xe,{sx:{flexGrow:1,overflowY:"auto",py:0},children:Q.map(s=>e.jsx(we,{disablePadding:!0,children:e.jsxs(he,{selected:h===s.id,onClick:()=>se(s.id),sx:{py:2,px:2,borderLeft:`4px solid ${h===s.id?r.primary:"transparent"}`,"&.Mui-selected":{bgcolor:p(r.primary,.05)}},children:[e.jsx(Se,{children:e.jsx(me,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",color:s.online?"success":"default",sx:{"& .MuiBadge-badge":{border:"2px solid white"}},children:e.jsx(H,{sx:{bgcolor:p(r.primary,.1),color:r.primary,fontWeight:700},children:s.avatar})})}),e.jsx(pe,{primary:e.jsxs(x,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(a,{variant:"subtitle1",fontWeight:700,children:s.name}),e.jsx(a,{variant:"caption",color:"text.secondary",children:s.time})]}),secondary:e.jsxs(x,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(a,{variant:"body2",noWrap:!0,sx:{maxWidth:"180px",color:s.unreadCount>0?"#1E293B":"#64748B",fontWeight:s.unreadCount>0?600:400},children:s.lastMessage}),s.unreadCount>0&&e.jsx(ue,{label:s.unreadCount,size:"small",sx:{height:18,minWidth:18,bgcolor:r.primary,color:"white",fontWeight:800,fontSize:"0.65rem"}})]})})]})},s.id))})]});return e.jsxs(n,{sx:{height:"calc(100vh - 120px)",display:"flex",bgcolor:"white",borderRadius:"24px",overflow:"hidden",boxShadow:"0 20px 50px rgba(0,0,0,0.1)",border:"1px solid rgba(224, 228, 236, 0.5)",m:{xs:1,md:3}},children:[(!o||!R)&&e.jsx(te,{}),(!o||R)&&e.jsxs(n,{sx:{flexGrow:1,display:"flex",flexDirection:"column",bgcolor:"#F8FAFC"},children:[e.jsx("input",{type:"file",hidden:!0,ref:D,onChange:$,accept:"image/*"}),e.jsxs(n,{sx:{p:o?1.5:2,bgcolor:"white",borderBottom:"1px solid #E0E4EC",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:10},children:[e.jsxs(x,{direction:"row",spacing:2,alignItems:"center",sx:{flexGrow:1},children:[o&&e.jsx(l,{onClick:()=>T(!1),children:e.jsx(ne,{})}),B?e.jsxs(n,{sx:{flex:1,bgcolor:"#f1f5f9",borderRadius:"12px",px:2,py:1,display:"flex",alignItems:"center",animation:"fadeIn 0.3s ease-in-out"},children:[e.jsx(S,{sx:{color:"#64748B",mr:1}}),e.jsx(P,{fullWidth:!0,placeholder:"Search messages...",value:J,onChange:s=>F(s.target.value),sx:{fontWeight:500}}),e.jsx(l,{size:"small",onClick:()=>{z(!1),F("")},children:e.jsx(ge,{fontSize:"small"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{sx:{width:o?40:50,height:o?40:50,bgcolor:r.primary,fontWeight:800,fontSize:o?"1rem":"1.2rem"},children:c.avatar}),e.jsxs(n,{children:[e.jsx(a,{variant:o?"subtitle1":"h6",fontWeight:800,sx:{lineHeight:1.2},children:c.name}),e.jsxs(x,{direction:o?"column":"row",spacing:o?0:1.5,alignItems:o?"flex-start":"center",children:[e.jsx(a,{variant:"caption",sx:{color:r.secondary,fontWeight:700},children:c.email}),!o&&e.jsx(n,{sx:{width:4,height:4,borderRadius:"50%",bgcolor:"#CBD5E1"}}),e.jsx(a,{variant:"caption",sx:{color:"#64748B",fontWeight:600},children:c.phone})]})]})]})]}),e.jsxs(x,{direction:"row",spacing:1,children:[!B&&e.jsx(l,{onClick:()=>z(!0),sx:{bgcolor:p(r.primary,.05)},children:e.jsx(S,{fontSize:"small"})}),e.jsx(l,{onClick:Z,sx:{bgcolor:p(r.primary,.05)},children:e.jsx(Me,{fontSize:"small"})})]})]}),e.jsxs(n,{sx:{flexGrow:1,overflowY:"auto",p:o?2:3,display:"flex",flexDirection:"column",gap:2,backgroundImage:"radial-gradient(#9C27B010 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[c.messages.length===0?e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",opacity:.3},children:[e.jsx(fe,{sx:{fontSize:60,color:r.primary,mb:1}}),e.jsx(a,{variant:"h6",fontWeight:600,children:"No messages yet"})]}):c.messages.map(s=>{const t=s.sender==="vendor";return e.jsxs(n,{sx:{alignSelf:t?"flex-end":"flex-start",maxWidth:{xs:"90%",md:"70%"},display:"flex",flexDirection:"column",alignItems:t?"flex-end":"flex-start"},children:[e.jsx(v,{sx:{p:s.type==="image"?.5:2,borderRadius:t?"20px 20px 4px 20px":"20px 20px 20px 4px",bgcolor:t?r.primary:"white",color:t?"white":r.dark,boxShadow:t?"0 8px 16px rgba(156, 39, 176, 0.2)":"0 4px 12px rgba(0,0,0,0.05)",border:t?"none":"1px solid rgba(224, 228, 236, 0.5)",overflow:"hidden"},children:s.type==="image"?e.jsx(n,{sx:{width:"100%",borderRadius:"16px",overflow:"hidden",display:"flex"},children:e.jsx("img",{src:s.file,alt:"sent",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"cover"}})}):e.jsx(a,{variant:"body1",sx:{fontWeight:500,lineHeight:1.5},children:s.text})}),e.jsxs(a,{variant:"caption",sx:{mt:.5,px:1,color:"#94A3B8",fontWeight:600},children:[s.time," ",t&&e.jsx(je,{sx:{fontSize:12,ml:.5,verticalAlign:"middle",color:r.primary}})]})]},s.id)}),e.jsx("div",{ref:L})]}),e.jsx(n,{sx:{p:o?1.5:2.5,bgcolor:"white",borderTop:"1px solid #E0E4EC"},children:e.jsxs(v,{component:"form",onSubmit:s=>{s.preventDefault(),y()},sx:{p:"4px 8px",display:"flex",alignItems:"center",borderRadius:"16px",bgcolor:"#F8FAFC",border:"1px solid #E2E8F0",boxShadow:"none"},children:[e.jsx(l,{onClick:_,sx:{color:"#64748B"},children:e.jsx(be,{})}),e.jsx(ae,{fullWidth:!0,placeholder:"Type a message...",variant:"standard",value:M,onChange:s=>b(s.target.value),InputProps:{disableUnderline:!0},sx:{ml:1,flex:1,"& .MuiInputBase-input":{fontWeight:500}}}),e.jsx(l,{onClick:K,sx:{color:"#64748B"},children:e.jsx(Ie,{})}),e.jsx(Y,{sx:{height:28,mx:1},orientation:"vertical"}),e.jsx(l,{onClick:()=>y(),sx:{p:1.2,color:"white",bgcolor:r.primary,"&:hover":{bgcolor:r.secondary}},children:e.jsx(ye,{sx:{fontSize:20}})})]})})]}),e.jsx(le,{open:!!E,anchorEl:E,onClose:O,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{p:1,borderRadius:"16px"}},children:e.jsx(V,{container:!0,spacing:1,sx:{width:"200px",p:1},children:ke.map(s=>e.jsx(V,{item:!0,xs:3,children:e.jsx(l,{onClick:()=>X(s),size:"small",sx:{fontSize:"1.2rem"},children:s})},s))})}),e.jsxs(ce,{anchorEl:k,open:!!k,onClose:u,TransitionComponent:de,PaperProps:{sx:{borderRadius:"16px",minWidth:180,mt:1.5}},children:[e.jsxs(w,{onClick:u,children:[e.jsx(We,{sx:{mr:1.5,color:r.primary}}),e.jsx(a,{variant:"body2",fontWeight:600,children:"View Profile"})]}),e.jsxs(w,{onClick:u,children:[e.jsx(Ee,{sx:{mr:1.5,color:"#64748B"}}),e.jsx(a,{variant:"body2",fontWeight:600,children:"Mute Chat"})]}),e.jsx(Y,{}),e.jsxs(w,{onClick:ee,sx:{color:"#F44336"},children:[e.jsx(Ce,{sx:{mr:1.5}}),e.jsx(a,{variant:"body2",fontWeight:600,children:"Clear History"})]})]}),e.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }"})]})};export{Ve as default};
