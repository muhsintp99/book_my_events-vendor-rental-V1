import{r as o,j as e,B as g,T as p,a8 as k,S as x,s as C,g as t,h as w}from"./index-0_6MWcuR.js";import{T as B}from"./TableContainer-BPhMEGpU.js";import{T,a as l,b as s,c as S}from"./TableRow-BXjfAcxh.js";import{T as y}from"./TableHead-Zp9ofcP7.js";const L=()=>{const[h,j]=o.useState([]),[n,m]=o.useState(""),u=async()=>{try{const a=((await w.get("https://api.bookmyevent.ae/api/bookings")).data.bookings||[]).filter(f=>{var d;return((d=f.status)==null?void 0:d.toLowerCase())==="accepted"});j(a)}catch(r){console.error("Error loading confirmed bookings:",r)}};o.useEffect(()=>{u()},[]);const c=h.filter(r=>{var i,a;return r._id.includes(n)||((i=r.fullName)==null?void 0:i.toLowerCase().includes(n.toLowerCase()))||((a=r.emailAddress)==null?void 0:a.toLowerCase().includes(n.toLowerCase()))});return e.jsxs(g,{p:2,children:[e.jsx(p,{variant:"h4",gutterBottom:!0,children:"Confirmed Bookings"}),e.jsxs(k,{sx:{mt:2},children:[e.jsxs(x,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"space-between",p:2,children:[e.jsx(C,{label:"Search Booking ID, Name, Email",value:n,onChange:r=>m(r.target.value),size:"small",sx:{maxWidth:300}}),e.jsx(t,{variant:"contained",color:"primary",children:"Export"})]}),e.jsx(B,{children:e.jsxs(T,{stickyHeader:!0,children:[e.jsx(y,{children:e.jsxs(l,{children:[e.jsx(s,{children:"S#"}),e.jsx(s,{children:"Booking ID"}),e.jsx(s,{children:"Name"}),e.jsx(s,{children:"Email"}),e.jsx(s,{children:"Guests"}),e.jsx(s,{children:"Booking Date"}),e.jsx(s,{children:"Amount"}),e.jsx(s,{children:"Status"}),e.jsx(s,{children:"Action"})]})}),e.jsxs(S,{children:[c.map((r,i)=>e.jsxs(l,{children:[e.jsx(s,{children:i+1}),e.jsx(s,{children:r._id}),e.jsx(s,{children:r.fullName}),e.jsx(s,{children:r.emailAddress}),e.jsx(s,{children:r.numberOfGuests}),e.jsx(s,{children:new Date(r.bookingDate).toLocaleDateString()}),e.jsxs(s,{children:["â‚¹",r.finalPrice]}),e.jsx(s,{children:r.status}),e.jsx(s,{children:e.jsxs(x,{direction:"row",spacing:1,children:[e.jsx(t,{variant:"outlined",size:"small",children:"View"}),e.jsx(t,{variant:"outlined",size:"small",children:"Download"})]})})]},r._id)),c.length===0&&e.jsx(l,{children:e.jsx(s,{colSpan:9,align:"center",children:"No Confirmed Bookings Found"})})]})]})})]})]})};export{L as default};
