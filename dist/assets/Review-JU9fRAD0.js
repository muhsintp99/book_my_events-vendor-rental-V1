import{c as I,j as e,r as a,B as t,T as i,s as k,g as x,Z as N,_ as u,ad as z,aW as O}from"./index-BFQzDa3Y.js";import{C as V}from"./Close-CPmwHfUz.js";import{T as Y,a as W,b as m,c as n,d as P}from"./TableRow-DVbm0JT_.js";const _=I(e.jsx("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"})),E=I(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),Z=()=>{const[o,w]=a.useState([{id:100031,vehicle:"Mercedes-B... Trip ID #100031",reviewer:"Jonathan Jack +8************",rating:5,review:"Booked a luxury car for a business event, and it was top-notch. The car was cle...",date:"06 Feb 2025 05:23:pm",replyDate:"Not replied Yet"}]),[y,B]=a.useState(""),[L,g]=a.useState(!1),[s,b]=a.useState(null),[f,h]=a.useState(""),[C,v]=a.useState(""),[S,R]=a.useState(null),T=o.filter(l=>l.vehicle.toLowerCase().includes(y.toLowerCase())),M=l=>{b(l),h(l.replyDate!=="Not replied Yet"?"Reply updated on "+l.replyDate:""),g(!0)},p=()=>{g(!1),b(null),h("")},F=()=>{if(s&&f){const l=o.map(r=>r.id===s.id?{...r,replyDate:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}:r);w(l),v("Review reply updated"),setTimeout(()=>v(""),3e3),p()}},U=l=>{R(l.currentTarget)},c=l=>{if(l){const r=o.map(A=>Object.values(A).join(",")).join(`
`),D=new Blob([r],{type:l==="CSV"?"text/csv":l==="Excel"?"application/vnd.ms-excel":"application/pdf"}),d=window.URL.createObjectURL(D),j=document.createElement("a");j.href=d,j.download=`reviews.${l.toLowerCase()}`,j.click(),window.URL.revokeObjectURL(d)}R(null)};return e.jsxs(t,{sx:{p:3},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsxs(i,{variant:"h6",sx:{mr:1},children:[e.jsx("span",{role:"img","aria-label":"star",children:"⭐"})," Customers Reviews"]}),e.jsxs(i,{variant:"subtitle1",color:"textSecondary",children:["Reviews ",o.length]})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(k,{placeholder:"Ex: Search by vehicle name",variant:"outlined",size:"small",value:y,onChange:l=>B(l.target.value),sx:{mr:2}}),e.jsxs("div",{children:[e.jsxs(x,{variant:"outlined",color:"#E15B65",size:"small",sx:{textTransform:"none",color:"#E15B65"},onClick:U,children:["Export",e.jsx("span",{style:{marginLeft:"5px"},children:"▼"})]}),e.jsxs(N,{anchorEl:S,open:!!S,onClose:()=>c(null),children:[e.jsx(u,{onClick:()=>c("PDF"),children:"PDF"}),e.jsx(u,{onClick:()=>c("Excel"),children:"Excel"}),e.jsx(u,{onClick:()=>c("CSV"),children:"CSV"})]})]})]}),C&&e.jsx(t,{sx:{position:"fixed",top:10,left:0,right:0,zIndex:1e3,mb:2,p:1,backgroundColor:"#2196F3",color:"white",borderRadius:1,textAlign:"center"},children:C}),e.jsx(z,{sx:{width:"100%",overflow:"hidden"},children:e.jsxs(Y,{sx:{minWidth:650},"aria-label":"customer reviews table",children:[e.jsx(W,{children:e.jsxs(m,{children:[e.jsx(n,{children:"#"}),e.jsx(n,{children:"Review Id"}),e.jsx(n,{children:"Vehicle"}),e.jsx(n,{children:"Reviewer"}),e.jsx(n,{children:"Review"}),e.jsx(n,{children:"Date"}),e.jsx(n,{children:"Reply Date"}),e.jsx(n,{children:"Action"})]})}),e.jsx(P,{children:T.length===0?e.jsx(m,{children:e.jsx(n,{colSpan:8,align:"center",children:e.jsx(i,{color:"error",children:"No Data Found"})})}):T.map((l,r)=>e.jsxs(m,{children:[e.jsx(n,{children:r+1}),e.jsx(n,{children:l.id}),e.jsxs(n,{children:[e.jsx("img",{src:"https://via.placeholder.com/50",alt:l.vehicle,style:{marginRight:"10px",verticalAlign:"middle"}}),l.vehicle]}),e.jsx(n,{children:l.reviewer}),e.jsx(n,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[[...Array(l.rating)].map((D,d)=>e.jsx(E,{sx:{color:"#FFD700",fontSize:18}},d)),e.jsx(i,{sx:{ml:1},children:l.review})]})}),e.jsx(n,{children:l.date}),e.jsx(n,{children:l.replyDate}),e.jsx(n,{children:e.jsx(x,{variant:"contained",color:"primary",startIcon:e.jsx(_,{}),sx:{textTransform:"none",bgcolor:"#E15B65"},onClick:()=>M(l),children:l.replyDate!=="Not replied Yet"?"View Reply":"Give Reply"})})]},l.id))})]})}),e.jsx(O,{open:L,onClose:p,children:e.jsxs(t,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:2,display:"flex",flexDirection:"column"},children:[e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(x,{onClick:p,sx:{minWidth:"auto"},children:e.jsx(V,{})})}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center"},children:[e.jsx("img",{src:"https://via.placeholder.com/50",alt:s==null?void 0:s.vehicle,style:{marginRight:"10px",verticalAlign:"middle"}}),e.jsx(i,{variant:"h6",children:s==null?void 0:s.vehicle})]}),e.jsx(t,{sx:{mb:2,display:"flex",alignItems:"center"},children:e.jsx(t,{sx:{display:"flex"},children:[...Array(s==null?void 0:s.rating)].map((l,r)=>e.jsx(E,{sx:{color:"#FFD700",fontSize:18}},r))})}),e.jsx(i,{sx:{mb:2},children:s==null?void 0:s.review}),e.jsx(k,{fullWidth:!0,multiline:!0,rows:4,value:f,onChange:l=>h(l.target.value),sx:{mb:2},InputProps:{readOnly:(s==null?void 0:s.replyDate)!=="Not replied Yet"},placeholder:(s==null?void 0:s.replyDate)!=="Not replied Yet"?"":"Write your reply here"}),(s==null?void 0:s.replyDate)==="Not replied Yet"&&e.jsx(x,{variant:"contained",color:"primary",onClick:F,sx:{alignSelf:"flex-end",textTransform:"none",backgroundColor:"#E15B65"},children:"Update Reply"})]})})]})};export{Z as default};
