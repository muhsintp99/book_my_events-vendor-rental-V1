import{c as He,j as e,u as ms,i as bs,aj as js,w as ys,ai as Cs,r as a,h as G,B as r,b as gt,ak as Ss,T as s,t as Ma,p as L,W as Ce,s as p,am as vs,S as K,F as C,I as P,ag as B,$ as d,at as ge,f as x,an as T,C as M,G as v,al as ws,g as Se,ao as ks,x as As}from"./index-DyiINH7F.js";import{D as ga}from"./DirectionsCar-GDL2lD19.js";import{C as fa}from"./CloudUpload-lSA5NqxZ.js";import{S as ft,W as xa}from"./Wifi-CacSuqJD.js";import{S as Is}from"./Settings-Cve__lQy.js";const ha=He(e.jsx("path",{d:"M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2z"})),pa=He(e.jsx("path",{d:"M17 6h-2V3c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v3H7c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2 0 .55.45 1 1 1s1-.45 1-1h6c0 .55.45 1 1 1s1-.45 1-1c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M9.5 18H8V9h1.5zm3.25 0h-1.5V9h1.5zm.75-12h-3V3.5h3zM16 18h-1.5V9H16z"})),Es=He(e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"})),Fa=He(e.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2m0 14H3V5h18z"})),Da=He(e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"})),ma=vs(r)(({theme:f})=>({border:"2px dashed #e0e0e0",borderRadius:f.shape.borderRadius,padding:f.spacing(3),textAlign:"center",backgroundColor:f.palette.grey[50],cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px","&:hover":{borderColor:f.palette.primary.main},'& input[type="file"]':{display:"none"}})),rr=()=>{const f=ms(),q=bs(f.breakpoints.down("md")),fe=js(),xt=ys(),{id:ve}=Cs(),ht=a.useRef(null),W=a.useRef(null),pt=a.useRef(null),[ba,Ha]=a.useState(""),[we,Ve]=a.useState(""),[_e,mt]=a.useState(""),[$e,bt]=a.useState(""),[jt,yt]=a.useState(""),[Ct,St]=a.useState(""),[Ke,vt]=a.useState(""),[ke,Ae]=a.useState("normal"),[Ne,Oe]=a.useState(""),[wt,kt]=a.useState("no"),[At,ja]=a.useState("no"),[Ps,Va]=a.useState(""),[Ie,It]=a.useState(""),[Et,Pt]=a.useState(""),[Bt,Wt]=a.useState(""),[Rt,Tt]=a.useState(""),[zt,Lt]=a.useState(""),[Ee,Mt]=a.useState(""),[_a,ya]=a.useState(""),[Ft,Dt]=a.useState(""),[b,Z]=a.useState({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),[j,J]=a.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[w,Q]=a.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[oe,Pe]=a.useState({helmet:!1,storageBox:!1,abs:!1,mobileHolder:!1,rearRack:!1,windshield:!1}),k="https://api.bookmyevent.ae/api",Ht="AIzaSyAfLUm1kPmeMkHh1Hr5nbgNpQJOsNa7B78",Be=localStorage.getItem("moduleId");a.useMemo(()=>{var t;return(t=fe.state)==null?void 0:t.vehicle},[fe.state]);const $a=a.useMemo(()=>{var t,i;return(i=(t=fe.state)==null?void 0:t.vehicle)==null?void 0:i._id},[fe.state]),We=a.useMemo(()=>{var t,i;return ve||((i=(t=fe.state)==null?void 0:t.vehicle)==null?void 0:i._id)||""},[ve,$a]),Ka=a.useMemo(()=>We?"edit":"create",[We]),[Re,Vt]=a.useState(Ka),[Ue,_t]=a.useState(""),[$t,Kt]=a.useState(""),[le,Nt]=a.useState(null),[ee,Ge]=a.useState([]),[qe,Ot]=a.useState(""),[Ze,Ut]=a.useState(""),[Bs,Na]=a.useState(""),[Je,Gt]=a.useState(""),[Te,qt]=a.useState(""),[Ye,Zt]=a.useState(""),[xe,he]=a.useState("yes"),[Xe,Jt]=a.useState(""),[Ca,Sa]=a.useState(""),[Ws,Oa]=a.useState("hourly"),[Rs,Ua]=a.useState(""),[Ts,Ga]=a.useState(""),[zs,qa]=a.useState(""),[Qe,Yt]=a.useState(""),[N,pe]=a.useState({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),[ze,Xt]=a.useState(""),[F,Y]=a.useState([{heading:"",points:[""]}]),[Qt,et]=a.useState([]),[tt,ea]=a.useState(""),[Za,S]=a.useState(!1),[Ja,A]=a.useState(""),[va,I]=a.useState("success"),[ta,aa]=a.useState([]),[Ya,Ls]=a.useState([]),[Ms,Xa]=a.useState([]),[Fs,Ds]=a.useState({}),[Hs,Vs]=a.useState(""),[_s,$s]=a.useState(""),[Ks,Ns]=a.useState(""),[Os,Us]=a.useState(""),[Gs,qs]=a.useState(""),[Zs,Js]=a.useState(""),[Ys,Qa]=a.useState({}),[wa,sa]=a.useState([]),[E,ra]=a.useState([]),[es,de]=a.useState([]),[m,at]=a.useState(""),[st,me]=a.useState(""),Le=!!m,[ce,ia]=a.useState([]),[ka,Aa]=a.useState(!1),[rt,D]=a.useState(!1),[it,nt]=a.useState(""),[Me,ot]=a.useState([]),[lt,be]=a.useState(""),[H,je]=a.useState(""),[V,ye]=a.useState(""),[Xs,ts]=a.useState(""),[X,Ia]=a.useState(!1),[y,Ea]=a.useState(null),_=a.useMemo(()=>{var i;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Bus):",t==null?void 0:t.title),(i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("bus")},[m,E]),ue=a.useMemo(()=>{var i,o;if(!m||!E.length)return!1;const t=E.find(n=>n._id===m);return console.log("Category check (Car):",t==null?void 0:t.title),((i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("car"))||((o=t==null?void 0:t.title)==null?void 0:o.toLowerCase().includes("vehicle"))},[m,E]),te=a.useMemo(()=>{var i;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Van):",t==null?void 0:t.title),(i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("van")},[m,E]),dt=a.useMemo(()=>{var i;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Bike):",t==null?void 0:t.title),(i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("bike")},[m,E]),as=t=>{const i=Array.from(t.target.files);sa(o=>[...o,...i])},ss=t=>{t.preventDefault();const i=Array.from(t.dataTransfer.files);sa(o=>[...o,...i])};a.useEffect(()=>{if(window.google&&window.google.maps){Ia(!0);return}const t=document.createElement("script");return t.src=`https://maps.googleapis.com/maps/api/js?key=${Ht}&libraries=places`,t.async=!0,t.defer=!0,t.onload=()=>{Ia(!0)},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[Ht]),a.useEffect(()=>{X&&window.google&&window.google.maps&&rs()},[X]);const rs=a.useCallback(()=>{if(!window.google||!ht.current||!X)return;const t=H&&V?parseFloat(H):20.5937,i=H&&V?parseFloat(V):78.9629,o={lat:t,lng:i},n=new window.google.maps.Map(ht.current,{zoom:12,center:o});n.addListener("click",c=>{const h=c.latLng.lat(),g=c.latLng.lng();je(h.toString()),ye(g.toString()),W.current&&W.current.setMap(null),W.current=new window.google.maps.Marker({position:{lat:h,lng:g},map:n}),new window.google.maps.Geocoder().geocode({location:{lat:h,lng:g}},($,O)=>{O==="OK"&&$[0]?(be($[0].formatted_address),A("Location set and address auto-filled!"),I("success"),S(!0)):(A("Location set, but could not determine address."),I("info"),S(!0))})}),Ea(n)},[X,H,V]);a.useEffect(()=>{if(!X||!y||!pt.current||!window.google)return;const t=new window.google.maps.places.Autocomplete(pt.current,{fields:["place_id","geometry","name","formatted_address"]}),i=t.addListener("place_changed",()=>{const o=t.getPlace();if(!o.geometry||!o.geometry.location)return;const n=o.geometry.location;o.geometry.viewport?y.fitBounds(o.geometry.viewport):(y.setCenter(n),y.setZoom(17)),W.current&&W.current.setMap(null),W.current=new window.google.maps.Marker({position:n,map:y}),je(n.lat().toString()),ye(n.lng().toString()),be(o.formatted_address||o.name),A("Location selected!"),I("success"),S(!0)});return()=>{window.google&&window.google.maps.event&&window.google.maps.event.removeListener(i)}},[X,y]),a.useEffect(()=>{if(!y||!H||!V)return;const t={lat:parseFloat(H),lng:parseFloat(V)};y.setCenter(t),y.setZoom(12),W.current?W.current.setPosition(t):W.current=new window.google.maps.Marker({position:t,map:y})},[H,V,y]),a.useEffect(()=>{if(!Te||!X||!window.google||!window.google.maps)return;new window.google.maps.Geocoder().geocode({address:Te},(i,o)=>{if(o==="OK"&&i[0]){const n=i[0].geometry.location,c=n.lat().toString(),h=n.lng().toString();je(c),ye(h),be(i[0].formatted_address),y&&(y.setCenter({lat:n.lat(),lng:n.lng()}),y.setZoom(12),W.current&&W.current.setMap(null),W.current=new window.google.maps.Marker({position:{lat:n.lat(),lng:n.lng()},map:y})),A(`Location set for ${Te}!`),I("success"),S(!0)}else A(`Could not find location for ${Te}`),I("warning"),S(!0)})},[Te,X,y]);const na=a.useCallback(t=>{var n,c,h,g,R,$,O,se,re,ie,ne,U,u,z,ut,Ra,Ta,za,La;console.log("Setting vehicle data:",t),t.brand&&t.brand._id&&!ta.some(l=>l._id===t.brand._id)&&aa(l=>[...l,{_id:t.brand._id,title:t.brand.title||t.brand.name||"Unknown Brand"}]),t.featuredImage&&nt(t.featuredImage),t.galleryImages&&Array.isArray(t.galleryImages)&&ot(t.galleryImages),(n=t.category)!=null&&n._id&&(at(t.category._id),G.get(`${k}/categories/parents/${t.category._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(l=>de(l.data.data||[])).catch(()=>de([]))),t.subCategory&&(typeof t.subCategory=="object"&&t.subCategory._id?me(t.subCategory._id):typeof t.subCategory=="string"&&me(t.subCategory)),t.zone&&t.zone._id&&!ce.some(l=>l._id===t.zone._id)&&ia(l=>[...l,{_id:t.zone._id,name:t.zone.name||"Unknown Zone"}]);const i=((c=t.zone)==null?void 0:c._id)||"";Gt(i);const o=ce.find(l=>l._id===i)||t.zone&&{name:t.zone.name};if(qt(o?o.name:""),_t(t.name||""),Kt(t.description||""),Ot(((h=t.brand)==null?void 0:h._id)||""),Ut(t.model||""),Jt(t.licensePlateNumber||""),t.capacityAndComfort&&(Zt(((g=t.capacityAndComfort.seatingCapacity)==null?void 0:g.toString())||""),kt(t.capacityAndComfort.pushbackSeats?"yes":"no"),ja(t.capacityAndComfort.reclinerSeats?"yes":"no")),t.engineCharacteristics&&(Ve(((R=t.engineCharacteristics.transmissionType)==null?void 0:R.value)||""),mt((($=t.engineCharacteristics.powerBHP)==null?void 0:$.toString())||""),bt(((O=t.engineCharacteristics.engineCapacityCC)==null?void 0:O.toString())||""),yt(t.engineCharacteristics.torque||""),St(t.engineCharacteristics.mileage||""),Oe(t.engineCharacteristics.fuelType||""),he(t.engineCharacteristics.airConditioning?"yes":"no")),t.location&&(be(t.location.address||""),je(((se=t.location.latitude)==null?void 0:se.toString())||""),ye(((re=t.location.longitude)==null?void 0:re.toString())||"")),t.availability&&(pe(l=>({...l,driverIncluded:t.availability.driverIncluded??!1,sunroof:t.availability.sunroof??!1})),t.availability.acAvailable!==void 0&&he(t.availability.acAvailable?"yes":"no")),t.features&&(t.features.interiorFeatures&&J(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&J(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,microphone:t.features.entertainment.microphone??!1,ledDisplay:t.features.entertainment.lcdDisplay??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&J(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,ledEmergencyExit:t.features.safetyAndCompliance.emergencyExit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&J(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.interiorComfort&&Z(l=>({...l,leatherSeats:t.features.interiorComfort.leatherSeats??!1,adjustableSeats:t.features.interiorComfort.adjustableSeats??!1,armrest:t.features.interiorComfort.armrest??!1})),t.features.entertainment&&Z(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,bluetooth:t.features.entertainment.bluetooth??!1,usbAux:t.features.entertainment.usbAux??!1})),t.features.safety&&Z(l=>({...l,airbags:t.features.safety.airbags??!1,abs:t.features.safety.abs??!1,rearCamera:t.features.safety.rearCamera??!1,parkingSensors:t.features.safety.parkingSensors??!1})),t.features.convenience&&Z(l=>({...l,powerWindows:t.features.convenience.powerWindows??!1,centralLock:t.features.convenience.centralLock??!1,keylessEntry:t.features.convenience.keylessEntry??!1})),t.features.interiorFeatures&&Q(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&Q(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&Q(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&Q(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.safetyAccessories&&Pe(l=>({...l,helmet:t.features.safetyAccessories.helmet??!1,abs:t.features.safetyAccessories.abs??!1,mobileHolder:t.features.safetyAccessories.mobileHolder??!1})),t.features.utilityStorage&&Pe(l=>({...l,storageBox:t.features.utilityStorage.storageBox??!1,rearRack:t.features.utilityStorage.rearRack??!1,windshield:t.features.utilityStorage.windshield??!1}))),t.extraAddons){const l=((ne=(ie=t.category)==null?void 0:ie.title)==null?void 0:ne.toLowerCase())||"";l.includes("bus")?J(De=>({...De,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):l.includes("van")?Q(De=>({...De,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):(l.includes("car")||l.includes("vehicle"))&&Z(De=>({...De,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})),Ae(t.extraAddons.interiorLighting?"premium":"normal")}t.pricing&&(t.pricing.basicPackage&&(It(((U=t.pricing.basicPackage.price)==null?void 0:U.toString())||""),Pt(((u=t.pricing.basicPackage.includedHours)==null?void 0:u.toString())||""),Wt(((z=t.pricing.basicPackage.includedKilometers)==null?void 0:z.toString())||"")),t.pricing.extraKmPrice&&(Tt(((ut=t.pricing.extraKmPrice.price)==null?void 0:ut.toString())||""),Lt(((Ra=t.pricing.extraKmPrice.km)==null?void 0:Ra.toString())||"")),t.pricing.discount&&(Mt(t.pricing.discount.type==="flat_rate"?"flat":"percentage"),Yt(((Ta=t.pricing.discount.value)==null?void 0:Ta.toString())||"")),t.pricing.decoration&&(pe(l=>({...l,decorationAvailable:t.pricing.decoration.available??!1})),Xt(((za=t.pricing.decoration.price)==null?void 0:za.toString())||""))),Dt(((La=t.advanceBookingAmount)==null?void 0:La.toString())||""),t.vehicleType&&vt(t.vehicleType),t.termsAndConditions&&Array.isArray(t.termsAndConditions)&&t.termsAndConditions.length>0?Y(t.termsAndConditions.map(l=>({heading:l.heading||"",points:Array.isArray(l.points)&&l.points.length>0?l.points:[""]}))):typeof t.termsAndConditions=="string"?Y([{heading:"Terms & Conditions",points:[t.termsAndConditions]}]):Y([{heading:"",points:[""]}]),et(t.searchTags||[]),console.log("âœ… Vehicle data populated successfully")},[ta,Ya,ce,k,J,Q,Z,Pe]);a.useEffect(()=>()=>{ee.forEach(t=>URL.revokeObjectURL(t))},[ee]),a.useEffect(()=>{(async()=>{var i,o,n,c,h;try{if(!Be)throw new Error("Module ID is not defined. Please log in or set moduleId in localStorage.");const g=localStorage.getItem("token"),[R,$,O]=await Promise.all([G.get(`${k}/brands/module/${Be}`,{headers:{Authorization:`Bearer ${g}`}}),G.get(`${k}/categories/parents/${Be}`,{headers:{Authorization:`Bearer ${g}`}}),G.get(`${k}/zones`,{headers:{Authorization:`Bearer ${g}`,Accept:"application/json"}})]);ra(((i=$.data)==null?void 0:i.data)||[]);const se=Array.isArray(R.data)?R.data:R.data.data||[];aa(se);const re=((o=$.data)==null?void 0:o.data)||[];ra(re);const ie=O.data.data||O.data||[],ne=Array.isArray(ie)?ie.filter(U=>U.isActive).map(U=>({_id:U._id,name:U.name})):[];ia(ne),console.log("Module ID:",Be),console.log("Brands:",se),console.log("Parent Categories:",re),console.log("Zones:",ne),Aa(!0)}catch(g){console.error("Error fetching brands/categories/zones:",((n=g.response)==null?void 0:n.data)||g),aa([]),ra([]),ia([]),Aa(!0),A(((h=(c=g.response)==null?void 0:c.data)==null?void 0:h.message)||"Failed to fetch brands, categories, or zones"),I("error"),S(!0)}})()},[Be,k]),a.useEffect(()=>{if(E.length>0&&!m&&Re==="create"){const t=E[0];at(t._id),G.get(`${k}/categories/parents/${t._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(i=>{const o=i.data.data||[];de(o),o.length>0&&me(o[0]._id)}).catch(i=>{console.error("Failed to fetch subcategories:",i),de([])})}},[E,m,Re,k]),a.useEffect(()=>{(async()=>{var i;try{const c=(((i=(await G.get(`${k}/vehicle-attributes`)).data)==null?void 0:i.data)||[]).filter(g=>g.status),h={};c.forEach(g=>{h[g.title.toLowerCase()]=g.values||[]}),Xa(c),Qa(h),console.log("âœ… Vehicle Attributes Loaded:",c)}catch(o){console.error("âŒ Failed to load vehicle attributes",o)}})()},[k]),a.useEffect(()=>{var i;if(!ka)return;const t=(i=fe.state)==null?void 0:i.vehicle;t?(na(t),nt(t.thumbnail||""),ot(t.images||[]),Vt("edit")):ve&&(async()=>{var n,c,h;D(!0);try{const g=await G.get(`${k}/vehicles/${ve}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),R=g.data.data||g.data;console.log("Vehicle data fetched for edit:",R),na(R),nt(R.thumbnail||""),ot(R.images||[]),Vt("edit")}catch(g){A(((c=(n=g.response)==null?void 0:n.data)==null?void 0:c.message)||"Failed to fetch vehicle data"),I("error"),S(!0),console.error("Error fetching vehicle:",((h=g.response)==null?void 0:h.data)||g)}finally{D(!1)}})()},[ka,ve,na]);const is=async t=>{const i=t.target.value;if(at(i),me(""),de([]),!!i)try{const o=await G.get(`${k}/categories/parents/${i}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});de(o.data.data||[])}catch(o){console.error("Failed to fetch sub categories",o),de([])}},ns=a.useCallback(t=>{const i=t.target.files[0];i&&Nt(i)},[]),Pa=a.useCallback(t=>{t.preventDefault()},[]),os=a.useCallback(t=>{t.preventDefault();const i=t.dataTransfer.files[0];i&&Nt(i)},[]),ls=a.useCallback(t=>{const i=Array.from(t.target.files);Ge(o=>[...o,...i])},[]),ds=a.useCallback(t=>{t.preventDefault();const i=Array.from(t.dataTransfer.files);Ge(o=>[...o,...i])},[]),cs=a.useCallback(t=>{ea(t.target.value)},[]),us=a.useCallback(t=>{t.key==="Enter"&&tt.trim()&&(et(i=>[...i,tt.trim()]),ea(""),t.preventDefault())},[tt]),gs=a.useCallback(t=>{et(i=>i.filter(o=>o!==t))},[]),oa=()=>(Sa(""),!0),la=a.useCallback(()=>{_t(""),Kt(""),be(""),Ot(""),Ut(""),Na(""),Gt(""),qt(""),at(""),me(""),Nt(null),Ge([]),nt(""),ot([]),Zt(""),he("yes"),Jt(""),Sa(""),Ve(""),mt(""),bt(""),yt(""),St(""),vt(""),Oe(""),kt("no"),Va(""),pe({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),Z({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),J({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),It(""),Pt(""),Wt(""),Tt(""),Lt(""),Mt(""),ya(""),Dt(""),Ae("normal"),Oa("hourly"),Ua(""),Ga(""),qa(""),Yt(""),Xt(""),et([]),ea(""),je(""),ye(""),ts(""),Vt("create"),W.current&&(W.current.setMap(null),W.current=null),y&&Ea(null)},[y]),fs=a.useCallback(async t=>{var R,$,O,se,re,ie,ne,U;t.preventDefault();const i=Re==="edit";if(D(!0),!Ue||!qe||!Ze||!m||!st||!Je||!Ye||!Xe||!lt||!H||!V){A("Please fill all required fields."),I("error"),S(!0),D(!1);return}if(N.decorationAvailable&&(!ze||parseFloat(ze)<=0)){A("Please provide a valid decoration price when decoration is available."),I("error"),S(!0),D(!1);return}if((_||ue)&&!Ie){A("Please provide a basic package price."),I("error"),S(!0),D(!1);return}if(!le&&!it&&!i){A("Please upload a featured image."),I("error"),S(!0),D(!1);return}if(ee.length===0&&Me.length===0&&!i){A("Please upload at least one gallery image."),I("error"),S(!0),D(!1);return}if(oa(),!F.length||!F[0].heading){A("Please add at least one Terms & Conditions section."),I("error"),S(!0),D(!1);return}const o=localStorage.getItem("token");if(!o){A("No authentication token found. Please log in."),I("error"),S(!0),D(!1);return}const n=new FormData;if(n.append("name",Ue),n.append("description",$t),n.append("brand",qe),n.append("category",m),n.append("subCategory",st),n.append("model",Ze),n.append("capacityAndComfort[seatingCapacity]",parseInt(Ye)||0),n.append("capacityAndComfort[legroomType]",ba||""),n.append("capacityAndComfort[pushbackSeats]",wt==="yes"),n.append("capacityAndComfort[reclinerSeats]",At==="yes"),n.append("engineCharacteristics[transmissionType][value]",we||""),n.append("engineCharacteristics[transmissionType][available]",!!we),n.append("engineCharacteristics[powerBHP]",_e?parseInt(_e):0),n.append("engineCharacteristics[engineCapacityCC]",$e?parseInt($e):0),n.append("engineCharacteristics[torque]",jt||""),n.append("engineCharacteristics[mileage]",Ct||""),n.append("engineCharacteristics[fuelType]",Ne||""),n.append("engineCharacteristics[airConditioning]",xe==="yes"),n.append("location[address]",lt),n.append("location[latitude]",parseFloat(H)||0),n.append("location[longitude]",parseFloat(V)||0),n.append("zone",Je),n.append("availability[driverIncluded]",N.driverIncluded||!1),n.append("availability[sunroof]",N.sunroof||!1),n.append("availability[acAvailable]",xe==="yes"),_){const u={interiorFeatures:{curtains:j.curtains||!1,readingLights:j.readingLights||!1,footRest:j.footRest||!1,mirror:!1},entertainment:{musicSystem:j.musicSystem||!1,microphone:j.microphone||!1,lcdDisplay:j.ledDisplay||!1,tvScreen:j.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:j.fireExtinguisher||!1,firstAidKit:j.firstAidKit||!1,emergencyExit:j.ledEmergencyExit||!1,cctv:j.cctv||!1},storage:{luggageCarrier:j.luggageCarrier||!1,overheadStorage:j.overheadStorage||!1}};n.append("features",JSON.stringify(u))}if(ue){const u={interiorComfort:{leatherSeats:b.leatherSeats||!1,adjustableSeats:b.adjustableSeats||!1,armrest:b.armrest||!1},entertainment:{musicSystem:b.musicSystem||!1,bluetooth:b.bluetooth||!1,usbAux:b.usbAux||!1},safety:{airbags:b.airbags||!1,abs:b.abs||!1,rearCamera:b.rearCamera||!1,parkingSensors:b.parkingSensors||!1},convenience:{powerWindows:b.powerWindows||!1,centralLock:b.centralLock||!1,keylessEntry:b.keylessEntry||!1}};n.append("features",JSON.stringify(u))}if(te){const u={interiorFeatures:{curtains:w.curtains||!1,readingLights:w.readingLights||!1,footRest:w.footRest||!1,bottleHolder:w.bottleHolder||!1},entertainment:{musicSystem:w.musicSystem||!1,tvScreen:w.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:w.fireExtinguisher||!1,firstAidKit:w.firstAidKit||!1,cctv:w.cctv||!1},storage:{luggageCarrier:w.luggageCarrier||!1,overheadStorage:w.overheadStorage||!1}};n.append("features",JSON.stringify(u))}if(dt){const u={safetyAccessories:{helmet:oe.helmet||!1,abs:oe.abs||!1,mobileHolder:oe.mobileHolder||!1},utilityStorage:{storageBox:oe.storageBox||!1,rearRack:oe.rearRack||!1,windshield:oe.windshield||!1}};n.append("features",JSON.stringify(u))}let c=!1,h=!1;_?(c=j.wifi,h=j.chargingPoints):te?(c=w.wifi,h=w.chargingPoints):ue&&(c=b.wifi,h=b.chargingPoints),n.append("extraAddons[wifi]",c),n.append("extraAddons[chargingPorts]",h),n.append("extraAddons[interiorLighting]",ke==="premium"),n.append("pricing[basicPackage][price]",parseFloat(Ie)||0),n.append("pricing[basicPackage][includedKilometers]",parseFloat(Bt)||0),n.append("pricing[basicPackage][includedHours]",parseFloat(Et)||0),n.append("pricing[extraKmPrice][km]",parseFloat(zt)||0),n.append("pricing[extraKmPrice][price]",parseFloat(Rt)||0),n.append("pricing[discount][type]",Ee==="flat"?"flat_rate":"percentage"),n.append("pricing[discount][value]",parseFloat(Qe)||0),n.append("pricing[decoration][available]",N.decorationAvailable||!1),n.append("pricing[decoration][price]",parseFloat(ze)||0),n.append("advanceBookingAmount",parseFloat(Ft)||0),n.append("licensePlateNumber",Xe),ue&&Ke&&n.append("vehicleType",Ke),n.append("termsAndConditions",JSON.stringify(F)),Qt.forEach(u=>n.append("searchTags[]",u)),le&&n.append("featuredImage",le),ee.forEach(u=>{n.append("galleryImages",u)});const g={};for(let[u,z]of n.entries())g[u]=z instanceof File?z.name:z;console.log("ðŸ“¤ FormData being sent:",g);try{let u,z;if(i){if(!We)throw new Error("Invalid vehicle ID for update");u=await G.put(`${k}/vehicles/${We}`,n,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),z=u.data.data||u.data}else u=await G.post(`${k}/vehicles`,n,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),z=u.data.data||u.data;console.log("âœ… API Response:",u.data),A(i?"Vehicle updated successfully!":"Vehicle added successfully!"),I("success"),S(!0),la(),i&&xt("/vehicle-setup/lists",{state:{vehicle:z}})}catch(u){console.error("âŒ API Error:",{status:(R=u.response)==null?void 0:R.status,statusText:($=u.response)==null?void 0:$.statusText,data:(O=u.response)==null?void 0:O.data,headers:(se=u.response)==null?void 0:se.headers,message:u.message});let z=((ie=(re=u.response)==null?void 0:re.data)==null?void 0:ie.message)||"Failed to save vehicle";(U=(ne=u.response)==null?void 0:ne.data)!=null&&U.errors&&(z=u.response.data.errors.map(ut=>ut.msg).join(", ")),A(z),I("error"),S(!0)}finally{D(!1)}},[Re,We,Ue,$t,qe,Ze,m,st,Je,Ye,xe,N,ze,Xe,lt,H,V,we,_e,$e,jt,Ct,Ke,ke,Ne,wt,At,b,j,Ie,Et,Bt,Rt,zt,Ee,Qe,Ft,F,Qt,le,ee,it,Me,oa,la,xt,k,Z,J,Q,Pe,_,ue,te,dt,k,ce]),Ba=a.useCallback((t,i)=>{i!=="clickaway"&&S(!1)},[]),ct=Re==="edit",xs=a.useCallback(t=>{const i=t.target.value;Gt(i);const o=ce.find(n=>n._id===i);qt(o?o.name:"")},[ce]),da=t=>i=>{Z(o=>({...o,[t]:i.target.checked}))},ca=t=>i=>{J(o=>({...o,[t]:i.target.checked}))},ua=t=>i=>{Q(o=>({...o,[t]:i.target.checked}))},hs=t=>i=>{Pe(o=>({...o,[t]:i.target.checked}))},Fe=Number(Ie)||0,Wa=Number(Qe)||0;let ae=0;Ee==="percentage"&&(ae=Fe*Wa/100),Ee==="flat"&&(ae=Wa),ae>Fe&&(ae=Fe);const ps=Math.max(Fe-ae,0);return e.jsxs(r,{sx:{p:q?2:3,backgroundColor:f.palette.grey[100],minHeight:"100vh",width:"100%"},children:[e.jsxs(r,{sx:{maxWidth:"lg",margin:"auto",backgroundColor:"white",borderRadius:f.shape.borderRadius,boxShadow:f.shadows[1],p:q?2:3,overflowX:"hidden"},children:[e.jsx(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[ct&&e.jsx(gt,{onClick:()=>xt("/vehicle-setup/lists"),color:"primary",children:e.jsx(Ss,{})}),e.jsx(ga,{sx:{fontSize:24,mr:1}}),e.jsx(s,{variant:"h5",component:"h1",children:ct?"Edit Vehicle":"Add New Vehicle"})]})}),e.jsx(s,{variant:"subtitle1",color:"text.secondary",sx:{mb:4},children:"Insert the basic information of the vehicle"}),rt&&e.jsx(r,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx(Ma,{})}),e.jsxs(r,{component:"form",onSubmit:fs,children:[e.jsxs(r,{sx:{display:"flex",flexDirection:q?"column":"row",gap:3,mb:4},children:[e.jsx(L,{sx:{flex:q?"auto":2,p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ce,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"General Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the basic information of the vehicle"}),e.jsx(p,{fullWidth:!0,label:"Vehicle Name*",variant:"outlined",value:Ue,onChange:t=>_t(t.target.value),placeholder:"Type vehicle name",sx:{mb:2},required:!0}),e.jsx(p,{fullWidth:!0,label:"Short Description",variant:"outlined",multiline:!0,rows:4,value:$t,onChange:t=>Kt(t.target.value),placeholder:"Type short description",sx:{mb:2}})]})}),e.jsx(L,{sx:{flex:q?"auto":1,p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ce,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Featured Image*"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"JPG, JPEG, PNG Less Than 1MB (Ratio 2:1)"}),e.jsxs(ma,{onDragOver:Pa,onDrop:os,onClick:()=>document.getElementById("thumbnail-upload").click(),children:[le?e.jsxs(r,{children:[e.jsx("img",{src:URL.createObjectURL(le),alt:"Featured image preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:f.spacing(1)}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:le.name})]}):it?e.jsxs(r,{children:[e.jsx("img",{src:it,alt:"Existing featured image",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:f.spacing(1),borderColor:"#E15B65"}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Existing featured image. Upload to replace."})]}):e.jsxs(r,{children:[e.jsx(fa,{sx:{fontSize:40,color:"#E15B65",mb:1}}),e.jsx(s,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),e.jsx(s,{variant:"body2",color:"#E15B65",children:"Or drag and drop"})]}),e.jsx("input",{type:"file",id:"thumbnail-upload",name:"featuredImage",hidden:!0,accept:"image/jpeg,image/png,image/jpg",onChange:ns})]})]})})]}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ce,{sx:{"&:last-child":{pb:2}},children:[e.jsxs(s,{variant:"h6",gutterBottom:!0,children:["Gallery Images",e.jsx("span",{style:{color:"#E15B65"},children:"*"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload high quality images (JPG, JPEG, PNG â€¢ Max 1MB â€¢ Ratio 2:1)"}),e.jsxs(ma,{onDragOver:Pa,onDrop:ds,onClick:()=>document.getElementById("images-upload").click(),sx:{backgroundColor:"#fafafa",border:"2px dashed #E15B65",borderRadius:2,p:3,transition:"0.3s","&:hover":{backgroundColor:"#fff1f2"}},children:[Me.length>0||ee.length>0?e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:2,width:"100%"},children:[Me.map((t,i)=>e.jsxs(r,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:t,alt:`Existing ${i}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(r,{sx:{position:"absolute",top:6,left:6,backgroundColor:"#000",color:"#fff",fontSize:10,px:.8,py:.2,borderRadius:1,opacity:.75},children:"Existing"})]},`existing-${i}`)),ee.map((t,i)=>e.jsxs(r,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`New ${i}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(gt,{size:"small",onClick:()=>Ge(o=>o.filter((n,c)=>c!==i)),sx:{position:"absolute",top:4,right:4,backgroundColor:"#fff",boxShadow:1,"&:hover":{backgroundColor:"#fee2e2"}},children:"âœ•"})]},`new-${i}`))]}):e.jsxs(r,{sx:{textAlign:"center"},children:[e.jsx(fa,{sx:{fontSize:46,color:"#E15B65",mb:1}}),e.jsx(s,{fontWeight:600,color:"#E15B65",children:"Click to upload images"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"or drag & drop files here"})]}),e.jsxs(s,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block",textAlign:"center"},children:[Me.length+ee.length," image(s) selected"]}),e.jsx("input",{type:"file",id:"images-upload",name:"galleryImages",hidden:!0,accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:ls})]})]})})}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ce,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Insert the vehicle's general information"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3),mb:4},children:[e.jsxs(K,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Basic Info"}),e.jsxs(C,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(P,{id:"brand-label",children:"Select Brand / Manufacturer"}),e.jsxs(B,{labelId:"brand-label",id:"brand-select",value:qe,label:"Select Brand / Manufacturer",onChange:t=>Ot(t.target.value),children:[e.jsx(d,{value:"",children:"Select vehicle brand"}),ta.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsx(p,{fullWidth:!0,label:"Enter Model Name",variant:"outlined",value:Ze,onChange:t=>Ut(t.target.value),placeholder:"e.g. Camry, Bus X",required:!0}),!_&&e.jsx(p,{fullWidth:!0,label:"Year of Manufacture",variant:"outlined",placeholder:"e.g. 2023"})]}),e.jsxs(K,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Capacity & Comfort"}),e.jsx(p,{fullWidth:!0,label:"Seating Capacity",variant:"outlined",value:Ye,onChange:t=>Zt(t.target.value),placeholder:"Number of seats",type:"number",inputProps:{min:1},required:!0}),(_||te)&&e.jsxs(C,{fullWidth:!0,variant:"outlined",children:[e.jsx(P,{id:"legroom-label",children:"Select Legroom Type"}),e.jsxs(B,{labelId:"legroom-label",value:ba,label:"Select Legroom Type",onChange:t=>Ha(t.target.value),children:[e.jsx(d,{value:"",children:"Select Legroom"}),e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"extra",children:"Extra"}),e.jsx(d,{value:"premium",children:"Premium"})]})]}),(_||te)&&e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Pushback seats"}),e.jsxs(ge,{row:!0,value:wt,onChange:t=>kt(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]}),e.jsxs(r,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Recliner Seats"}),e.jsxs(ge,{row:!0,value:At,onChange:t=>ja(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}),!_&&e.jsxs(C,{component:"fieldset",fullWidth:!0,sx:{mt:1},children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(ge,{row:!0,value:xe,onChange:t=>he(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}),e.jsxs(K,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Zone & Location"}),e.jsxs(C,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(P,{id:"zone-label",children:"Zone*"}),e.jsxs(B,{labelId:"zone-label",value:Je,label:"Zone",onChange:xs,children:[e.jsx(d,{value:"",children:"Select zone"}),ce.map(t=>e.jsx(d,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(C,{fullWidth:!0,required:!0,children:[e.jsx(P,{children:"Parent Category"}),e.jsxs(B,{value:m,label:"Parent Category",onChange:is,children:[e.jsx(d,{value:"",children:"Select Parent Category"}),E.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsxs(C,{fullWidth:!0,required:!0,disabled:!m,children:[e.jsx(P,{children:"Sub Category"}),e.jsxs(B,{value:st,label:"Sub Category",onChange:t=>me(t.target.value),children:[e.jsx(d,{value:"",children:"Select Sub Category"}),es.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]})]})]}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:3},children:"Engine & Performance"}),_||te?e.jsxs(K,{spacing:3,children:[e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3)},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Select Fuel Type"}),e.jsxs(B,{value:Ne,label:"Select Fuel Type",onChange:t=>Oe(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Transmission"}),e.jsxs(B,{value:we,label:"Transmission",onChange:t=>Ve(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Climate Control"}),e.jsxs(B,{value:xe,label:"Climate Control",onChange:t=>he(t.target.value),children:[e.jsx(d,{value:"yes",children:"AC"}),e.jsx(d,{value:"no",children:"Non-AC"})]})]})]}),e.jsxs(C,{component:"fieldset",fullWidth:!0,children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(ge,{row:!0,value:xe,onChange:t=>he(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}):e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3)},children:[e.jsxs(C,{fullWidth:!0,children:[e.jsx(P,{children:"Select Fuel Type"}),e.jsxs(B,{value:Ne,label:"Select Fuel Type",onChange:t=>Oe(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(C,{fullWidth:!0,required:!0,children:[e.jsx(P,{children:"Transmission"}),e.jsxs(B,{value:we,label:"Transmission",onChange:t=>Ve(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(C,{fullWidth:!0,children:[e.jsx(P,{children:"Vehicle Class"}),e.jsxs(B,{value:Ke,label:"Vehicle Class",onChange:t=>vt(t.target.value),children:[e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"luxury",children:"Luxury"}),e.jsx(d,{value:"vintage",children:"Vintage"})]})]}),e.jsx(p,{fullWidth:!0,label:"Engine Capacity (CC)",variant:"outlined",type:"number",value:$e,onChange:t=>bt(t.target.value),placeholder:"e.g. 2000",inputProps:{min:0}}),e.jsx(p,{fullWidth:!0,label:"Engine Power (HP)",variant:"outlined",type:"number",value:_e,onChange:t=>mt(t.target.value),placeholder:"e.g. 180",inputProps:{min:0}}),e.jsx(p,{fullWidth:!0,label:"Torque",variant:"outlined",value:jt,onChange:t=>yt(t.target.value),placeholder:"e.g. 250 Nm"}),e.jsx(p,{fullWidth:!0,label:"Mileage",variant:"outlined",value:Ct,onChange:t=>St(t.target.value),placeholder:"e.g. 15 km/l"})]})]}),e.jsx(r,{sx:{mt:3},children:e.jsx(p,{fullWidth:!0,label:"Vihicles Address*",variant:"outlined",value:lt,onChange:t=>be(t.target.value),placeholder:"Enter venue address",required:!0})}),e.jsxs(r,{sx:{mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Location and Operating Hours"}),e.jsx(p,{fullWidth:!0,label:"Search Location",inputRef:pt,variant:"outlined",placeholder:"Enter a location",sx:{mb:2}}),e.jsxs(r,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(p,{sx:{flex:1},label:"Latitude*",variant:"outlined",value:H,onChange:t=>je(t.target.value),placeholder:"e.g., 25.2048",required:!0}),e.jsx(p,{sx:{flex:1},label:"Longitude*",variant:"outlined",value:V,onChange:t=>ye(t.target.value),placeholder:"e.g., 55.2708",required:!0})]}),X&&Ht?e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click on the map below to select a location"}),e.jsx(r,{ref:ht,sx:{height:300,width:"100%",borderRadius:f.shape.borderRadius,border:`1px solid ${f.palette.grey[300]}`,mb:2}})]}):e.jsx(r,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${f.palette.grey[300]}`,borderRadius:f.shape.borderRadius,mb:2},children:e.jsx(s,{variant:"body2",color:"text.secondary",children:"Map loading..."})})]})]})})}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ce,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Identity"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the vehicle number and driver availability"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"2fr 1fr",gap:3,alignItems:"center"},children:[e.jsx(p,{fullWidth:!0,label:"Vehicle Number*",variant:"outlined",value:Xe,onChange:t=>{Jt(t.target.value),oa(t.target.value)},placeholder:"Enter vehicle number",required:!0,error:!!Ca,helperText:Ca}),e.jsxs(r,{children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{mb:1},children:"Driver Included"}),e.jsxs(r,{sx:{display:"flex",gap:3},children:[e.jsx(x,{control:e.jsx(M,{checked:N.driverIncluded===!0,onChange:()=>pe(t=>({...t,driverIncluded:!0}))}),label:"Yes"}),e.jsx(x,{control:e.jsx(M,{checked:N.driverIncluded===!1,onChange:()=>pe(t=>({...t,driverIncluded:!1}))}),label:"No"})]})]})]})]})})}),Le&&ue&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Vehicle Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Customize the luxury and comfort options for your vehicle"})]}),e.jsx(ga,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(r,{sx:{p:4},children:[e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ha,{}),number:"01",items:[["Leather Seats","leatherSeats"],["Adjustable Seats","adjustableSeats"],["Armrest","armrest"]]},{title:"Entertainment",icon:e.jsx(Es,{}),number:"02",items:[["Music System","musicSystem"],["Bluetooth","bluetooth"],["USB / AUX","usbAux"]]},{title:"Safety & Compliance",icon:e.jsx(ft,{}),number:"03",items:[["Airbags","airbags"],["ABS","abs"],["Rear Camera","rearCamera"],["Parking Sensors","parkingSensors"]]},{title:"Convenience",icon:e.jsx(Is,{}),number:"04",items:[["Power Windows","powerWindows"],["Central Lock","centralLock"],["Keyless Entry","keylessEntry"]]}].map((t,i)=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([o,n])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:b[n],onChange:da(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:o})},n))})]})},t.title))}),e.jsxs(r,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #fff5f5 0%, #fff0f0 100%)",border:"1px solid #fee2e2"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(225, 91, 101, 0.3)"},children:e.jsx(xa,{fontSize:"small"})}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#991b1b"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#b91c1c",opacity:.8},children:"Special features to enhance the premium feel"})]})]}),e.jsxs(v,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(M,{checked:b.wifi,onChange:da("wifi"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"High-Speed Wifi"})}),e.jsx(x,{control:e.jsx(M,{checked:b.chargingPoints,onChange:da("chargingPoints"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Charging Points"})})]})}),e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #fee2e2",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#991b1b",minWidth:120},children:"Interior Lighting"}),e.jsxs(ge,{row:!0,value:ke,onChange:t=>Ae(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",children:"Standard"})}),e.jsx(x,{value:"premium",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",children:"Premium RGB"})})]})]})})]})]})]})]}),Le&&_&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bus Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the bus"})]}),e.jsx(Da,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(r,{sx:{p:4},children:[e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ha,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx(Fa,{}),number:"02",items:[["Music System","musicSystem"],["Microphone","microphone"],["LED Display","ledDisplay"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(ft,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["LED Emergency Exit","ledEmergencyExit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(pa,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([i,o])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:j[o],onChange:ca(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:i})},o))})]})},t.title))}),e.jsxs(r,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(xa,{fontSize:"small"})}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(v,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(M,{checked:j.wifi,onChange:ca("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(x,{control:e.jsx(M,{checked:j.chargingPoints,onChange:ca("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(ge,{row:!0,value:ke,onChange:t=>Ae(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Normal"})}),e.jsx(x,{value:"premium",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),Le&&te&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Van Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the van"})]}),e.jsx(Da,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(r,{sx:{p:4},children:[e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ha,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx(Fa,{}),number:"02",items:[["Music System","musicSystem"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(ft,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(pa,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([i,o])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:w[o],onChange:ua(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:i})},o))})]})},t.title))}),e.jsxs(r,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(xa,{fontSize:"small"})}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(v,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(M,{checked:w.wifi,onChange:ua("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(x,{control:e.jsx(M,{checked:w.chargingPoints,onChange:ua("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(ge,{row:!0,value:ke,onChange:t=>Ae(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Normal"})}),e.jsx(x,{value:"premium",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),Le&&dt&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bike Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Customize safety and utility options for your bike"})]}),e.jsx(ga,{sx:{fontSize:40,opacity:.2}})]}),e.jsx(r,{sx:{p:4},children:e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Safety & Accessories",icon:e.jsx(ft,{}),number:"01",items:[["Helmet Included","helmet"],["ABS","abs"],["Mobile Holder","mobileHolder"]]},{title:"Utility & Storage",icon:e.jsx(pa,{}),number:"02",items:[["Storage Box (Top Box)","storageBox"],["Rear Rack","rearRack"],["Windshield","windshield"]]}].map((t,i)=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([o,n])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:oe[n],onChange:hs(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:o})},n))})]})},t.title))})})]}),Le&&(ue||_||te||dt)&&e.jsx(r,{sx:{mb:4},children:e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:3,border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #f5efef 0%, #efdfe1 100%)",color:"white"},children:[e.jsx(s,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Package Pricing"}),e.jsx(s,{variant:"body2",sx:{opacity:.95},children:"Set base price, discount & advance booking options"})]}),e.jsx(r,{sx:{p:4,backgroundColor:"#fafbfc"},children:e.jsxs(K,{spacing:3,children:[e.jsxs(r,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(s,{sx:{color:"white",fontSize:20,fontWeight:700},children:"â‚¹"})}),e.jsx(s,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Package Details"})]}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fef3f2",border:"1px solid #fecaca",display:"flex",flexDirection:"column"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#991b1b",mb:2},children:"Basic Package"}),e.jsxs(K,{spacing:2,sx:{flexGrow:1},children:[e.jsx(p,{fullWidth:!0,label:"Base Package Price",type:"number",value:Ie,onChange:t=>It(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"#E15B65",fontWeight:600},children:"â‚¹"})},size:"small"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:5,mt:3},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Hours Included"}),e.jsxs(B,{value:Et,label:"Hours Included",onChange:t=>Pt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"4",children:"4 Hrs"}),e.jsx(d,{value:"6",children:"6 Hrs"}),e.jsx(d,{value:"8",children:"8 Hrs"}),e.jsx(d,{value:"10",children:"10 Hrs"}),e.jsx(d,{value:"12",children:"12 Hrs"})]})]}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"KM Included"}),e.jsxs(B,{value:Bt,label:"KM Included",onChange:t=>Wt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"50",children:"50 KM"}),e.jsx(d,{value:"100",children:"100 KM"}),e.jsx(d,{value:"150",children:"150 KM"})]})]})]})]})]}),e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",display:"flex",flexDirection:"column"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#15803d",mb:2},children:"Apply Discount"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,mb:3},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Type"}),e.jsxs(B,{value:Ee,label:"Type",onChange:t=>Mt(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat Rate (â‚¹)"})]})]}),e.jsx(p,{fullWidth:!0,label:"Value",type:"number",value:Qe,onChange:t=>Yt(t.target.value),size:"small"})]}),e.jsxs(r,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #e3dedf 0%, #ceaaad 100%)",textAlign:"center",boxShadow:"0 4px 14px rgba(225, 91, 101, 0.25)",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:160},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5},children:[e.jsx(r,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.35)",display:"flex",alignItems:"center",justifyContent:"center",mr:1},children:e.jsx(s,{sx:{fontSize:13,fontWeight:700,color:"#000"},children:"Î£"})}),e.jsx(s,{variant:"caption",sx:{fontWeight:700,color:"#000"},children:"GRAND TOTAL"})]}),e.jsxs(s,{sx:{fontWeight:800,fontSize:"1.6rem",lineHeight:1.2,mb:.5,color:"#000"},children:["â‚¹ ",ps]}),ae>0&&e.jsxs(s,{variant:"caption",sx:{textDecoration:"line-through",color:"#6b7280",fontSize:"0.75rem"},children:["Original: â‚¹ ",Fe]}),e.jsx(s,{variant:"caption",sx:{fontSize:"0.7rem",fontWeight:600,color:"#000"},children:ae>0?`Discount Applied: â‚¹ ${ae}`:"Base Price"}),e.jsxs(r,{sx:{mt:2,pt:1.5,borderTop:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[e.jsx(s,{sx:{fontSize:"0.9rem"},children:"ðŸ’¡"}),e.jsx(s,{variant:"caption",sx:{fontSize:"0.7rem",lineHeight:1.3},children:"Final amount based on base price and discounts"})]})]})]})]})]}),e.jsxs(r,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(s,{sx:{color:"white",fontSize:20,fontWeight:700},children:"%"})}),e.jsx(s,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Offers & Advance"})]}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:3},children:[e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fff7ed",border:"1px solid #fed7aa",height:"100%"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#9a3412",mb:2},children:"Extra Charges"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsx(p,{fullWidth:!0,label:"Price/KM",type:"number",value:Rt,onChange:t=>Tt(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"After KM"}),e.jsxs(B,{value:zt,label:"After KM",onChange:t=>Lt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"1",children:"Per KM"})]})]})]})]}),e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",height:"100%"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#1e40af",mb:2},children:"Advance Booking"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Type"}),e.jsxs(B,{value:_a,label:"Type",onChange:t=>ya(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat (â‚¹)"})]})]}),e.jsx(p,{fullWidth:!0,label:"Amount",type:"number",value:Ft,onChange:t=>Dt(t.target.value),InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"})]})]})]})]})]})})]})}),e.jsxs(r,{sx:{mt:3,p:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Vehicle Features"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:N.decorationAvailable?{xs:"1fr",md:"1fr 1fr"}:"max-content",gap:3,alignItems:"center"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:3,px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",width:"fit-content",minWidth:260},children:[e.jsx(s,{fontSize:14,fontWeight:500,children:"Decoration Available"}),e.jsx(ws,{checked:N.decorationAvailable,onChange:t=>pe(i=>({...i,decorationAvailable:t.target.checked})),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#E15B65"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#E15B65"}}})]}),N.decorationAvailable&&e.jsx(r,{sx:{px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",minWidth:260},children:e.jsx(p,{fullWidth:!0,label:"Decoration Price (â‚¹)",type:"number",value:ze,onChange:t=>Xt(t.target.value),inputProps:{min:0},placeholder:"e.g. 5000"})})]})]}),e.jsxs(r,{sx:{mt:4,p:3,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Upload Vehicle Documents"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Upload RC, Insurance, Permit or any supporting vehicle documents"}),e.jsxs(ma,{onDragOver:t=>t.preventDefault(),onDrop:ss,onClick:()=>document.getElementById("vehicle-documents-upload").click(),sx:{minHeight:160},children:[wa.length>0?e.jsx(K,{spacing:1,sx:{width:"100%"},children:wa.map((t,i)=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,border:"1px solid #e5e7eb",borderRadius:1,backgroundColor:"#ffffff"},children:[e.jsxs(s,{variant:"body2",noWrap:!0,children:["ðŸ“„ ",t.name]}),e.jsx(gt,{size:"small",onClick:()=>sa(o=>o.filter((n,c)=>c!==i)),children:"âœ•"})]},i))}):e.jsxs(e.Fragment,{children:[e.jsx(fa,{sx:{fontSize:42,color:"#E15B65",mb:1}}),e.jsx(s,{fontWeight:600,color:"#E15B65",children:"Click to upload documents"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Or drag & drop files here (PDF, JPG, PNG)"})]}),e.jsx("input",{id:"vehicle-documents-upload",type:"file",hidden:!0,multiple:!0,accept:".pdf,image/png,image/jpeg,image/jpg",onChange:as})]})]}),e.jsx(r,{sx:{mb:4},children:e.jsxs(L,{sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #ffffff, #fafafa)",border:"1px solid #eee"},children:[e.jsx(s,{variant:"h6",fontWeight:600,sx:{mb:.5},children:"Terms & Conditions"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Define rules & policies shown to customers during booking"}),F.map((t,i)=>e.jsxs(r,{sx:{mb:3,p:2,borderRadius:2,border:"1px solid #e5e7eb",backgroundColor:"#fff"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(p,{fullWidth:!0,label:"Section Heading",placeholder:"e.g. Booking & Confirmation",value:t.heading,onChange:o=>{const n=[...F];n[i].heading=o.target.value,Y(n)}}),F.length>1&&e.jsx(Se,{onClick:()=>Y(o=>o.filter((n,c)=>c!==i)),sx:{ml:1,color:"error.main"},children:"âœ•"})]}),t.points.map((o,n)=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(p,{fullWidth:!0,label:`Point ${n+1}`,placeholder:"Enter policy detail",value:o,onChange:c=>{const h=[...F];h[i].points[n]=c.target.value,Y(h)}}),t.points.length>1&&e.jsx(Se,{onClick:()=>{const c=[...F];c[i].points.splice(n,1),Y(c)},sx:{ml:1,color:"error.main"},children:"âœ•"})]},n)),e.jsx(Se,{size:"small",onClick:()=>{const o=[...F];o[i].points.push(""),Y(o)},sx:{mt:1,color:"#E15B65"},children:"+ Add Point"})]},i)),e.jsx(Se,{variant:"outlined",onClick:()=>Y([...F,{heading:"",points:[""]}]),sx:{mt:2,borderRadius:2,borderColor:"#E15B65",color:"#E15B65"},children:"+ Add Section"})]})}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ce,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Search Tags"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert tags for appearing in user search results"}),e.jsx(p,{fullWidth:!0,label:"Type and press Enter",variant:"outlined",value:tt,onChange:cs,onKeyPress:us,placeholder:"Type and press Enter",sx:{mb:2}}),e.jsx(r,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Qt.map((t,i)=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",backgroundColor:f.palette.grey[200],borderRadius:f.shape.borderRadius,px:1,py:.5},children:[e.jsx(s,{variant:"body2",children:t}),e.jsx(gt,{size:"small",onClick:()=>gs(t),children:e.jsx(s,{sx:{fontSize:14},children:"Ã—"})})]},i))})]})})}),e.jsxs(r,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(Se,{variant:"outlined",color:"#E15B65",size:"large",onClick:la,sx:{color:"#E15B65"},children:ct?"Cancel":"Reset"}),e.jsx(Se,{variant:"contained",type:"submit",size:"large",disabled:rt,startIcon:rt?e.jsx(Ma,{size:20,color:"inherit"}):null,sx:{color:"white",bgcolor:"#E15B65"},children:rt?"Submitting...":ct?"Update":"Submit"})]})]})]}),e.jsx(ks,{open:Za,autoHideDuration:6e3,onClose:Ba,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{minWidth:"600px",maxWidth:"600px",width:"auto"}},children:e.jsx(As,{onClose:Ba,severity:va,sx:{width:"100%",backgroundColor:va==="success"?"#1976d2":"#d32f2f",color:"white","& .MuiAlert-message":{whiteSpace:"pre-line",wordBreak:"break-word",fontSize:"1rem",lineHeight:1.5}},children:Ja})})]})};export{rr as default};
