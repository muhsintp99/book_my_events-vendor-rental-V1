import{u as Ht,i as Nt,ac as Ot,a as qt,ab as Ut,r as a,h as G,j as e,B as o,c as ht,ad as Zt,T as s,t as kt,p as D,K as H,s as b,af as Gt,S as xt,F as z,I as K,a9 as J,Q as c,am as Kt,f as re,ag as ne,g as Et,ah as Jt,ai as Qt}from"./index-a1HedzDv.js";import{D as Yt}from"./DirectionsCar-CA3340N_.js";import{C as It}from"./CloudUpload-CDU6MwQs.js";const Tt=Gt(o)(({theme:l})=>({border:"2px dashed #e0e0e0",borderRadius:l.shape.borderRadius,padding:l.spacing(3),textAlign:"center",backgroundColor:l.palette.grey[50],cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px","&:hover":{borderColor:l.palette.primary.main},'& input[type="file"]':{display:"none"}})),aa=()=>{const l=Ht(),R=Nt(l.breakpoints.down("md")),N=Ot(),Be=qt(),{id:Q}=Ut(),De=a.useRef(null),f=a.useRef(null),We=a.useRef(null),A="https://api.bookmyevent.ae/api",Le="AIzaSyAfLUm1kPmeMkHh1Hr5nbgNpQJOsNa7B78",O=localStorage.getItem("moduleId");a.useMemo(()=>{var t;return(t=N.state)==null?void 0:t.vehicle},[N.state]);const mt=a.useMemo(()=>{var t,r;return(r=(t=N.state)==null?void 0:t.vehicle)==null?void 0:r._id},[N.state]),Y=a.useMemo(()=>{var t,r;return Q||((r=(t=N.state)==null?void 0:t.vehicle)==null?void 0:r._id)||""},[Q,mt]),Pt=a.useMemo(()=>Y?"edit":"create",[Y]),[Ae,Me]=a.useState(Pt),[se,_e]=a.useState(""),[bt,ze]=a.useState(""),[F,Re]=a.useState(null),[W,oe]=a.useState([]),[ie,Fe]=a.useState(""),[le,$e]=a.useState(""),[de,Ve]=a.useState(""),[ce,He]=a.useState(""),[X,Ne]=a.useState(""),[ue,Oe]=a.useState(""),[pe,qe]=a.useState(""),[ge,Ue]=a.useState(""),[he,Ze]=a.useState(""),[Ge,Ke]=a.useState("yes"),[xe,Je]=a.useState(""),[me,Qe]=a.useState(""),[ee,Ye]=a.useState(""),[yt,Xe]=a.useState(""),[u,M]=a.useState("hourly"),[be,et]=a.useState(""),[ye,tt]=a.useState(""),[fe,at]=a.useState(""),[je,rt]=a.useState(""),[nt,ve]=a.useState([]),[Ce,st]=a.useState(""),[Bt,y]=a.useState(!1),[Dt,j]=a.useState(""),[ft,v]=a.useState("success"),[ot,it]=a.useState([]),[te,ae]=a.useState([]),[$,we]=a.useState([]),[lt,jt]=a.useState(!1),[Se,P]=a.useState(!1),[ke,dt]=a.useState(""),[V,ct]=a.useState([]),[Ee,q]=a.useState(""),[k,U]=a.useState(""),[E,Z]=a.useState(""),[Ie,ut]=a.useState(""),[L,vt]=a.useState(!1),[m,Ct]=a.useState(null);a.useEffect(()=>{if(window.google&&window.google.maps){vt(!0);return}const t=document.createElement("script");return t.src=`https://maps.googleapis.com/maps/api/js?key=${Le}&libraries=places`,t.async=!0,t.defer=!0,t.onload=()=>{vt(!0)},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[Le]),a.useEffect(()=>{L&&window.google&&window.google.maps&&Wt()},[L]);const Wt=a.useCallback(()=>{if(!window.google||!De.current||!L)return;const t=k&&E?parseFloat(k):20.5937,r=k&&E?parseFloat(E):78.9629,i={lat:t,lng:r},n=new window.google.maps.Map(De.current,{zoom:12,center:i});n.addListener("click",p=>{const g=p.latLng.lat(),h=p.latLng.lng();U(g.toString()),Z(h.toString()),f.current&&f.current.setMap(null),f.current=new window.google.maps.Marker({position:{lat:g,lng:h},map:n}),new window.google.maps.Geocoder().geocode({location:{lat:g,lng:h}},(S,I)=>{I==="OK"&&S[0]?(q(S[0].formatted_address),j("Location set and address auto-filled!"),v("success"),y(!0)):(j("Location set, but could not determine address."),v("info"),y(!0))})}),Ct(n)},[L,k,E]);a.useEffect(()=>{if(!L||!m||!We.current||!window.google)return;const t=new window.google.maps.places.Autocomplete(We.current,{fields:["place_id","geometry","name","formatted_address"]}),r=t.addListener("place_changed",()=>{const i=t.getPlace();if(!i.geometry||!i.geometry.location)return;const n=i.geometry.location;i.geometry.viewport?m.fitBounds(i.geometry.viewport):(m.setCenter(n),m.setZoom(17)),f.current&&f.current.setMap(null),f.current=new window.google.maps.Marker({position:n,map:m}),U(n.lat().toString()),Z(n.lng().toString()),q(i.formatted_address||i.name),j("Location selected!"),v("success"),y(!0)});return()=>{window.google&&window.google.maps.event&&window.google.maps.event.removeListener(r)}},[L,m]),a.useEffect(()=>{if(!m||!k||!E)return;const t={lat:parseFloat(k),lng:parseFloat(E)};m.setCenter(t),m.setZoom(12),f.current?f.current.setPosition(t):f.current=new window.google.maps.Marker({position:t,map:m})},[k,E,m]),a.useEffect(()=>{if(!X||!L||!window.google||!window.google.maps)return;new window.google.maps.Geocoder().geocode({address:X},(r,i)=>{if(i==="OK"&&r[0]){const n=r[0].geometry.location,p=n.lat().toString(),g=n.lng().toString();U(p),Z(g),q(r[0].formatted_address),m&&(m.setCenter({lat:n.lat(),lng:n.lng()}),m.setZoom(12),f.current&&f.current.setMap(null),f.current=new window.google.maps.Marker({position:{lat:n.lat(),lng:n.lng()},map:m})),j(`Location set for ${X}!`),v("success"),y(!0)}else j(`Could not find location for ${X}`),v("warning"),y(!0)})},[X,L,m]);const Te=a.useCallback(t=>{var p,g,h,C,S,I,_,T,B,d,w;console.log("Setting vehicle data:",t),t.brand&&t.brand._id&&!ot.some(x=>x._id===t.brand._id)&&it(x=>[...x,{_id:t.brand._id,title:t.brand.title||t.brand.name||"Unknown Brand"}]);let r="";Array.isArray(t.category)&&t.category.length>0?(r=t.category[0]._id,te.some(x=>x._id===r)||ae(x=>[...x,{_id:r,title:t.category[0].title||"Unknown Category"}])):t.category&&typeof t.category=="object"&&t.category._id?(r=t.category._id,te.some(x=>x._id===r)||ae(x=>[...x,{_id:r,title:t.category.title||"Unknown Category"}])):typeof t.category=="string"&&(r=t.category),t.zone&&t.zone._id&&!$.some(x=>x._id===t.zone._id)&&we(x=>[...x,{_id:t.zone._id,name:t.zone.name||"Unknown Zone"}]),_e(t.name||""),ze(t.description||""),Fe(((p=t.brand)==null?void 0:p._id)||""),Ve(r),console.log("Category ID being set:",r);const i=((g=t.zone)==null?void 0:g._id)||"";He(i);const n=$.find(x=>x._id===i)||t.zone&&{name:t.zone.name};Ne(n?n.name:""),$e(t.model||""),Oe(t.type||""),qe(((h=t.engineCapacity)==null?void 0:h.toString())||""),Ue(((C=t.enginePower)==null?void 0:C.toString())||""),Ze(((S=t.seatingCapacity)==null?void 0:S.toString())||""),Ke(t.airCondition?"yes":"no"),Je(t.fuelType||""),Qe(t.transmissionType||""),Ye(t.licensePlateNumber||""),ve(t.searchTags||[]),q(t.venueAddress||""),U(((I=t.latitude)==null?void 0:I.toString())||""),Z(((_=t.longitude)==null?void 0:_.toString())||""),ut(t.operatingHours||""),console.log("Operating hours being set:",t.operatingHours),t.pricing&&(M(t.pricing.type||"hourly"),et(((T=t.pricing.hourly)==null?void 0:T.toString())||""),tt(((B=t.pricing.perDay)==null?void 0:B.toString())||""),at(((d=t.pricing.distanceWise)==null?void 0:d.toString())||"")),rt(((w=t.discount)==null?void 0:w.toString())||"")},[ot,te,$]);a.useEffect(()=>()=>{W.forEach(t=>URL.revokeObjectURL(t))},[W]),a.useEffect(()=>{(async()=>{var r,i,n;try{if(!O)throw new Error("Module ID is not defined. Please log in or set moduleId in localStorage.");const[p,g,h]=await Promise.all([G.get(`${A}/brands/module/${O}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),G.get(`${A}/vehicle-categories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}}),G.get(`${A}/zones`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})]),C=Array.isArray(p.data)?p.data:[];let S=[];g.data.success&&Array.isArray(g.data.data)?(S=g.data.data.filter(B=>{var d;return((d=B.module)==null?void 0:d._id)===O}).map(B=>({_id:B._id,title:B.title})),ae(S)):ae([]);let I=[];const _=h.data.data||h.data||[];Array.isArray(_)?(I=_.filter(T=>T.isActive).map(T=>({_id:T._id,name:T.name})),we(I)):we([]),it(C),console.log("Module ID:",O),console.log("Raw categories:",g.data.data),console.log("Brands fetched:",C),console.log("Categories fetched:",S),console.log("Zones fetched:",I),jt(!0)}catch(p){console.error("Error fetching brands/categories/zones:",((r=p.response)==null?void 0:r.data)||p),it([]),ae([]),we([]),jt(!0),j(((n=(i=p.response)==null?void 0:i.data)==null?void 0:n.message)||"Failed to fetch brands, categories, or zones"),v("error"),y(!0)}})()},[O,A]),a.useEffect(()=>{var r;if(!lt)return;const t=(r=N.state)==null?void 0:r.vehicle;t?(Te(t),dt(t.thumbnail||""),ct(t.images||[]),Me("edit")):Q&&(async()=>{var n,p,g;P(!0);try{const h=await G.get(`${A}/vehicles/${Q}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),C=h.data.data||h.data;console.log("Vehicle data fetched for edit:",C),Te(C),dt(C.thumbnail||""),ct(C.images||[]),Me("edit")}catch(h){j(((p=(n=h.response)==null?void 0:n.data)==null?void 0:p.message)||"Failed to fetch vehicle data"),v("error"),y(!0),console.error("Error fetching vehicle:",((g=h.response)==null?void 0:g.data)||h)}finally{P(!1)}})()},[lt,Q,Te]);const Lt=a.useCallback(t=>{const r=t.target.files[0];r&&Re(r)},[]),wt=a.useCallback(t=>{t.preventDefault()},[]),At=a.useCallback(t=>{t.preventDefault();const r=t.dataTransfer.files[0];r&&Re(r)},[]),Mt=a.useCallback(t=>{const r=Array.from(t.target.files);oe(i=>[...i,...r])},[]),_t=a.useCallback(t=>{t.preventDefault();const r=Array.from(t.dataTransfer.files);oe(i=>[...i,...r])},[]),zt=a.useCallback(t=>{st(t.target.value)},[]),Rt=a.useCallback(t=>{t.key==="Enter"&&Ce.trim()&&(ve(r=>[...r,Ce.trim()]),st(""),t.preventDefault())},[Ce]),Ft=a.useCallback(t=>{ve(r=>r.filter(i=>i!==t))},[]),pt=a.useCallback(t=>/^[A-Z0-9]{6,8}$/.test(t)?(Xe(""),!0):(Xe("License plate must be 6-8 alphanumeric characters"),!1),[]),gt=a.useCallback(()=>{_e(""),ze(""),q(""),Re(null),oe([]),Fe(""),$e(""),Ve(""),He(""),Ne(""),Oe(""),qe(""),Ue(""),Ze(""),Ke("yes"),Je(""),Qe(""),Ye(""),Xe(""),M("hourly"),et(""),tt(""),at(""),rt(""),ve([]),st(""),dt(""),ct([]),U(""),Z(""),ut(""),Me("create"),f.current&&(f.current.setMap(null),f.current=null),m&&Ct(null)},[]),$t=a.useCallback(async t=>{var g,h,C,S,I,_,T,B;t.preventDefault();const r=Ae==="edit";if(P(!0),!se||!ie||!le||!de||!ce||!ue||!pe||!ge||!he||!xe||!me||!ee||!u||!Ee||!k||!E){j("Please fill all required fields."),v("error"),y(!0),P(!1);return}if(u==="hourly"&&!be||u==="perDay"&&!ye||u==="distanceWise"&&!fe){j(`Please provide a price for ${u} trip type.`),v("error"),y(!0),P(!1);return}if(!F&&!ke&&!r){j("Please upload a thumbnail image."),v("error"),y(!0),P(!1);return}if(W.length===0&&V.length===0&&!r){j("Please upload at least one vehicle image."),v("error"),y(!0),P(!1);return}if(!pt(ee)){j("Invalid license plate number."),v("error"),y(!0),P(!1);return}const i=localStorage.getItem("token");if(!i){j("No authentication token found. Please log in."),v("error"),y(!0),P(!1);return}const n=new FormData;n.append("name",se),n.append("description",bt),n.append("brand",ie),n.append("category",de),n.append("zone",ce),n.append("model",le),n.append("type",ue.toLowerCase()),n.append("engineCapacity",parseInt(pe)),n.append("enginePower",parseInt(ge)),n.append("seatingCapacity",parseInt(he)),n.append("airCondition",Ge==="yes"),n.append("fuelType",xe.toLowerCase()),n.append("transmissionType",me.toLowerCase()),n.append("licensePlateNumber",ee),n.append("venueAddress",Ee),n.append("latitude",parseFloat(k)),n.append("longitude",parseFloat(E)),Ie&&n.append("operatingHours",Ie),n.append("pricing[type]",u),n.append("pricing[hourly]",u==="hourly"&&parseFloat(be)||0),n.append("pricing[perDay]",u==="perDay"&&parseFloat(ye)||0),n.append("pricing[distanceWise]",u==="distanceWise"&&parseFloat(fe)||0),je&&n.append("discount",parseFloat(je)),nt.forEach(d=>n.append("searchTags[]",d)),F&&n.append("thumbnail",F),W.forEach(d=>n.append("images",d));const p={};for(let[d,w]of n.entries())p[d]=w instanceof File?w.name:w;console.log("FormData:",p);try{let d,w;if(r){if(!Y)throw new Error("Invalid vehicle ID for update");d=await G.put(`${A}/vehicles/${Y}`,n,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}}),w=d.data.data||d.data}else d=await G.post(`${A}/vehicles`,n,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}}),w=d.data.data||d.data;console.log("API Response:",d.data),j(r?"Vehicle updated successfully!":"Vehicle added successfully!"),v("success"),y(!0),gt(),r&&Be("/vehicle-setup/lists",{state:{vehicle:w}})}catch(d){console.error("API Error:",{status:(g=d.response)==null?void 0:g.status,statusText:(h=d.response)==null?void 0:h.statusText,data:(C=d.response)==null?void 0:C.data,headers:(S=d.response)==null?void 0:S.headers,message:d.message});let w=((_=(I=d.response)==null?void 0:I.data)==null?void 0:_.message)||"Failed to save vehicle";(B=(T=d.response)==null?void 0:T.data)!=null&&B.errors&&(w=d.response.data.errors.map(x=>x.msg).join(", ")),j(w),v("error"),y(!0)}finally{P(!1)}},[Ae,Y,se,ie,le,de,ce,ue,pe,ge,he,Ge,xe,me,ee,u,be,ye,fe,je,nt,F,W,ke,V,pt,gt,Be,A,O,lt,mt,Te,Ee,k,E,Ie]),St=a.useCallback((t,r)=>{r!=="clickaway"&&y(!1)},[]),Pe=Ae==="edit",Vt=a.useCallback(t=>{const r=t.target.value;He(r);const i=$.find(n=>n._id===r);Ne(i?i.name:"")},[$]);return e.jsxs(o,{sx:{p:R?2:3,backgroundColor:l.palette.grey[100],minHeight:"100vh",width:"100%"},children:[e.jsxs(o,{sx:{maxWidth:"lg",margin:"auto",backgroundColor:"white",borderRadius:l.shape.borderRadius,boxShadow:l.shadows[1],p:R?2:3,overflowX:"hidden"},children:[e.jsx(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2},children:[Pe&&e.jsx(ht,{onClick:()=>Be("/vehicle-setup/lists"),color:"primary",children:e.jsx(Zt,{})}),e.jsx(Yt,{sx:{fontSize:24,mr:1}}),e.jsx(s,{variant:"h5",component:"h1",children:Pe?"Edit Vehicle":"Add New Vehicle"})]})}),e.jsx(s,{variant:"subtitle1",color:"text.secondary",sx:{mb:4},children:"Insert the basic information of the vehicle"}),Se&&e.jsx(o,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx(kt,{})}),e.jsxs(o,{component:"form",onSubmit:$t,children:[e.jsxs(o,{sx:{display:"flex",flexDirection:R?"column":"row",gap:3,mb:4},children:[e.jsx(D,{sx:{flex:R?"auto":2,p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(H,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"General Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the basic information of the vehicle"}),e.jsx(b,{fullWidth:!0,label:"Vehicle Name*",variant:"outlined",value:se,onChange:t=>_e(t.target.value),placeholder:"Type vehicle name",sx:{mb:2},required:!0}),e.jsx(b,{fullWidth:!0,label:"Short Description",variant:"outlined",multiline:!0,rows:4,value:bt,onChange:t=>ze(t.target.value),placeholder:"Type short description",sx:{mb:2}})]})}),e.jsx(D,{sx:{flex:R?"auto":1,p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(H,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Thumbnail*"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"JPG, JPEG, PNG Less Than 1MB (Ratio 2:1)"}),e.jsxs(Tt,{onDragOver:wt,onDrop:At,onClick:()=>document.getElementById("thumbnail-upload").click(),children:[F?e.jsxs(o,{children:[e.jsx("img",{src:URL.createObjectURL(F),alt:"Thumbnail preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:l.spacing(1)}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:F.name})]}):ke?e.jsxs(o,{children:[e.jsx("img",{src:ke,alt:"Existing thumbnail",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:l.spacing(1),borderColor:"#E15B65"}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Existing thumbnail. Upload to replace."})]}):e.jsxs(o,{children:[e.jsx(It,{sx:{fontSize:40,color:"#E15B65",mb:1}}),e.jsx(s,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),e.jsx(s,{variant:"body2",color:"#E15B65",children:"Or drag and drop"})]}),e.jsx("input",{type:"file",id:"thumbnail-upload",hidden:!0,accept:"image/jpeg,image/png,image/jpg",onChange:Lt})]})]})})]}),e.jsx(o,{sx:{mb:4},children:e.jsx(D,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(H,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Images*"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"JPG, JPEG, PNG Less Than 1MB (Ratio 2:1)"}),e.jsxs(Tt,{onDragOver:wt,onDrop:_t,onClick:()=>document.getElementById("images-upload").click(),children:[e.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center",width:"100%"},children:[V.length>0&&e.jsx(e.Fragment,{children:V.map((t,r)=>e.jsxs(o,{sx:{position:"relative"},children:[e.jsx("img",{src:t,alt:`Existing vehicle image ${r+1}`,style:{maxWidth:80,maxHeight:80,objectFit:"cover",borderRadius:l.shape.borderRadius}}),e.jsx(s,{variant:"caption",sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(0,0,0,0.5)",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:"Existing"})]},`existing-${r}`))}),W.length>0&&e.jsx(e.Fragment,{children:W.map((t,r)=>e.jsxs(o,{sx:{position:"relative"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`New vehicle image ${r+1}`,style:{maxWidth:80,maxHeight:80,objectFit:"cover",borderRadius:l.shape.borderRadius}}),e.jsx(ht,{size:"small",onClick:()=>oe(i=>i.filter((n,p)=>p!==r)),sx:{position:"absolute",top:-4,right:-4,backgroundColor:"white",width:24,height:24},children:e.jsx(s,{sx:{fontSize:14,color:"red"},children:"×"})})]},`new-${r}`))}),V.length===0&&W.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(It,{sx:{fontSize:40,color:"#E15B65",mb:1}}),e.jsx(s,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium",borderColor:"#E15B65"},children:"Click to upload"}),e.jsx(s,{variant:"body2",color:"#E15B65",children:"Or drag and drop"})]})]}),e.jsxs(s,{variant:"body2",color:"text.secondary",sx:{mt:1,width:"100%",textAlign:"center"},children:[V.length+W.length," image(s) ",V.length>0?"(including existing)":"",". Upload to add more."]}),e.jsx("input",{type:"file",id:"images-upload",hidden:!0,accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:Mt})]})]})})}),e.jsx(o,{sx:{mb:4},children:e.jsx(D,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(H,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the vehicle's general information"}),e.jsxs(o,{sx:{display:"grid",gridTemplateColumns:R?"1fr":"repeat(3, 1fr)",gap:l.spacing(3)},children:[e.jsxs(xt,{spacing:2,children:[e.jsxs(z,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(K,{id:"brand-label",children:"Brand*"}),e.jsxs(J,{labelId:"brand-label",id:"brand-select",value:ie,label:"Brand",onChange:t=>Fe(t.target.value),children:[e.jsx(c,{value:"",children:"Select vehicle brand"}),ot.map(t=>e.jsx(c,{value:t._id,children:t.title},t._id))]})]}),e.jsxs(z,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(K,{id:"type-label",children:"Type*"}),e.jsxs(J,{labelId:"type-label",id:"type-select",value:ue,label:"Type",onChange:t=>Oe(t.target.value),children:[e.jsx(c,{value:"",children:"Select vehicle type"}),e.jsx(c,{value:"sedan",children:"Sedan"}),e.jsx(c,{value:"suv",children:"SUV"}),e.jsx(c,{value:"hatchback",children:"Hatchback"}),e.jsx(c,{value:"coupe",children:"Coupe"}),e.jsx(c,{value:"convertible",children:"Convertible"}),e.jsx(c,{value:"truck",children:"Truck"}),e.jsx(c,{value:"van",children:"Van"}),e.jsx(c,{value:"motorcycle",children:"Motorcycle"})]})]}),e.jsx(z,{fullWidth:!0,variant:"outlined",required:!0,children:e.jsx(b,{id:"seating-capacity-input",label:"Seating Capacity*",variant:"outlined",value:he,onChange:t=>Ze(t.target.value),placeholder:"Input how many persons can seat",type:"number",inputProps:{min:1}})}),e.jsxs(z,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(K,{id:"transmission-type-label",children:"Transmission Type*"}),e.jsxs(J,{labelId:"transmission-type-label",id:"transmission-type-select",value:me,label:"Transmission Type",onChange:t=>Qe(t.target.value),children:[e.jsx(c,{value:"",children:"Select transmission type"}),e.jsx(c,{value:"automatic",children:"Automatic"}),e.jsx(c,{value:"manual",children:"Manual"})]})]})]}),e.jsxs(xt,{spacing:2,children:[e.jsx(b,{fullWidth:!0,label:"Model*",variant:"outlined",value:le,onChange:t=>$e(t.target.value),placeholder:"Model Name",required:!0}),e.jsx(b,{fullWidth:!0,label:"Engine Capacity (cc)*",variant:"outlined",value:pe,onChange:t=>qe(t.target.value),placeholder:"Ex: 2000",type:"number",inputProps:{min:0},required:!0}),e.jsxs(z,{component:"fieldset",fullWidth:!0,children:[e.jsx(s,{variant:"body1",color:"text.secondary",sx:{mb:1},children:"Air Condition"}),e.jsxs(Kt,{row:!0,value:Ge,onChange:t=>Ke(t.target.value),children:[e.jsx(re,{value:"yes",control:e.jsx(ne,{}),label:"Yes"}),e.jsx(re,{value:"no",control:e.jsx(ne,{}),label:"No"})]})]})]}),e.jsxs(xt,{spacing:2,children:[e.jsxs(z,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(K,{id:"category-label",children:"Category*"}),e.jsxs(J,{labelId:"category-label",id:"category-select",value:de,label:"Category",onChange:t=>Ve(t.target.value),children:[e.jsx(c,{value:"",children:"Select vehicle category"}),te.length>0?te.map(t=>e.jsx(c,{value:t._id,children:t.title},t._id)):e.jsx(c,{disabled:!0,children:"No categories available"})]})]}),e.jsx(b,{fullWidth:!0,label:"Engine Power (hp)*",variant:"outlined",value:ge,onChange:t=>Ue(t.target.value),placeholder:"Ex: 150",type:"number",inputProps:{min:0},required:!0}),e.jsxs(z,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(K,{id:"fuel-type-label",children:"Fuel Type*"}),e.jsxs(J,{labelId:"fuel-type-label",id:"fuel-type-select",value:xe,label:"Fuel Type",onChange:t=>Je(t.target.value),children:[e.jsx(c,{value:"",children:"Select fuel type"}),e.jsx(c,{value:"petrol",children:"Petrol"}),e.jsx(c,{value:"diesel",children:"Diesel"}),e.jsx(c,{value:"electric",children:"Electric"}),e.jsx(c,{value:"hybrid",children:"Hybrid"})]})]})]})]}),e.jsx(o,{sx:{mt:3},children:e.jsxs(z,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(K,{id:"zone-label",children:"Zone*"}),e.jsxs(J,{labelId:"zone-label",id:"zone-select",value:ce,label:"Zone",onChange:Vt,children:[e.jsx(c,{value:"",children:"Select zone"}),$.length>0?$.map(t=>e.jsx(c,{value:t._id,children:t.name},t._id)):e.jsx(c,{disabled:!0,children:"No zones available"})]})]})}),e.jsx(o,{sx:{mt:3},children:e.jsx(b,{fullWidth:!0,label:"Venue Address*",variant:"outlined",value:Ee,onChange:t=>q(t.target.value),placeholder:"Enter venue address",required:!0})}),e.jsxs(o,{sx:{mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Location and Operating Hours"}),e.jsx(b,{fullWidth:!0,label:"Search Location",inputRef:We,variant:"outlined",placeholder:"Enter a location",sx:{mb:2}}),e.jsxs(o,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(b,{sx:{flex:1},label:"Latitude*",variant:"outlined",value:k,onChange:t=>U(t.target.value),placeholder:"e.g., 25.2048",required:!0}),e.jsx(b,{sx:{flex:1},label:"Longitude*",variant:"outlined",value:E,onChange:t=>Z(t.target.value),placeholder:"e.g., 55.2708",required:!0})]}),L&&Le?e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click on the map below to select a location"}),e.jsx(o,{ref:De,sx:{height:300,width:"100%",borderRadius:l.shape.borderRadius,border:`1px solid ${l.palette.grey[300]}`,mb:2}})]}):e.jsx(o,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${l.palette.grey[300]}`,borderRadius:l.shape.borderRadius,mb:2},children:e.jsx(s,{variant:"body2",color:"text.secondary",children:"Map loading..."})}),e.jsx(b,{fullWidth:!0,label:"Operating Hours",variant:"outlined",value:Ie,onChange:t=>ut(t.target.value),placeholder:"e.g., 9:00 AM - 6:00 PM",multiline:!0,rows:2})]})]})})}),e.jsx(o,{sx:{mb:4},children:e.jsx(D,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(H,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Identity"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the vehicle's license plate number"}),e.jsx(b,{fullWidth:!0,label:"License Plate Number*",variant:"outlined",value:ee,onChange:t=>{Ye(t.target.value),pt(t.target.value)},placeholder:"Type license plate number (6-8 alphanumeric)",required:!0,error:!!yt,helperText:yt})]})})}),e.jsx(o,{sx:{mb:4},children:e.jsx(D,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(H,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Pricing & Discounts"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert pricing and discount information"}),e.jsxs(o,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Trip Type"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose the trip type you prefer"}),e.jsxs(o,{sx:{display:"grid",gridTemplateColumns:R?"1fr":"repeat(3, 1fr)",gap:l.spacing(2)},children:[e.jsxs(D,{variant:"outlined",sx:{p:2,cursor:"pointer",borderColor:u==="hourly"?"#E15B65":void 0,borderWidth:u==="hourly"?2:1},onClick:()=>M("hourly"),children:[e.jsx(re,{control:e.jsx(ne,{checked:u==="hourly",onChange:()=>M("hourly"),sx:{color:"#E15B65","&.Mui-checked":{color:"#E15B65"}}}),label:"Hourly",labelPlacement:"start",sx:{m:0,".MuiFormControlLabel-label":{ml:"auto"}}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Set your hourly rental price"})]}),e.jsxs(D,{variant:"outlined",sx:{p:2,cursor:"pointer",borderColor:u==="perDay"?"#E15B65":void 0,borderWidth:u==="perDay"?2:1},onClick:()=>M("perDay"),children:[e.jsx(re,{control:e.jsx(ne,{checked:u==="perDay",onChange:()=>M("perDay"),sx:{color:"#E15B65","&.Mui-checked":{color:"#E15B65"}}}),label:"Per Day",labelPlacement:"start",sx:{m:0,".MuiFormControlLabel-label":{ml:"auto"}}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Set your per day rental price"})]}),e.jsxs(D,{variant:"outlined",sx:{p:2,cursor:"pointer",borderColor:u==="distanceWise"?"#E15B65":void 0,borderWidth:u==="distanceWise"?2:1},onClick:()=>M("distanceWise"),children:[e.jsx(re,{control:e.jsx(ne,{checked:u==="distanceWise",onChange:()=>M("distanceWise"),sx:{color:"#E15B65","&.Mui-checked":{color:"#E15B65"}}}),label:"DistanceWise",labelPlacement:"start",sx:{m:0,".MuiFormControlLabel-label":{ml:"auto"}}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Set your distance wise rental price"})]})]})]}),u==="hourly"&&e.jsx(o,{sx:{mb:3},children:e.jsx(b,{fullWidth:!0,label:"Hourly Price (₹/per hour)*",variant:"outlined",value:be,onChange:t=>et(t.target.value),placeholder:"Ex: 2500.00",type:"number",inputProps:{step:"0.01",min:0},required:!0})}),u==="perDay"&&e.jsx(o,{sx:{mb:3},children:e.jsx(b,{fullWidth:!0,label:"Per Day Price (₹/per day)*",variant:"outlined",value:ye,onChange:t=>tt(t.target.value),placeholder:"Ex: 15000.00",type:"number",inputProps:{step:"0.01",min:0},required:!0})}),u==="distanceWise"&&e.jsx(o,{sx:{mb:3},children:e.jsx(b,{fullWidth:!0,label:"Distance Price (₹/per km)*",variant:"outlined",value:fe,onChange:t=>at(t.target.value),placeholder:"Ex: 100.00",type:"number",inputProps:{step:"0.01",min:0},required:!0})}),e.jsxs(o,{children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Discount"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set a discount amount (e.g., 10 for 10%)"}),e.jsx(b,{fullWidth:!0,label:"Discount (%)",variant:"outlined",value:je,onChange:t=>rt(t.target.value),placeholder:"Ex: 10",type:"number",inputProps:{step:"any",min:0,max:100}})]})]})})}),e.jsx(o,{sx:{mb:4},children:e.jsx(D,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(H,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Search Tags"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert tags for appearing in user search results"}),e.jsx(b,{fullWidth:!0,label:"Type and press Enter",variant:"outlined",value:Ce,onChange:zt,onKeyPress:Rt,placeholder:"Type and press Enter",sx:{mb:2}}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:nt.map((t,r)=>e.jsxs(o,{sx:{display:"flex",alignItems:"center",backgroundColor:l.palette.grey[200],borderRadius:l.shape.borderRadius,px:1,py:.5},children:[e.jsx(s,{variant:"body2",children:t}),e.jsx(ht,{size:"small",onClick:()=>Ft(t),children:e.jsx(s,{sx:{fontSize:14},children:"×"})})]},r))})]})})}),e.jsxs(o,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(Et,{variant:"outlined",color:"#E15B65",size:"large",onClick:gt,sx:{color:"#E15B65"},children:Pe?"Cancel":"Reset"}),e.jsx(Et,{variant:"contained",type:"submit",size:"large",disabled:Se,startIcon:Se?e.jsx(kt,{size:20,color:"inherit"}):null,sx:{color:"white",bgcolor:"#E15B65"},children:Se?"Submitting...":Pe?"Update":"Submit"})]})]})]}),e.jsx(Jt,{open:Bt,autoHideDuration:6e3,onClose:St,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{minWidth:"600px",maxWidth:"600px",width:"auto"}},children:e.jsx(Qt,{onClose:St,severity:ft,sx:{width:"100%",backgroundColor:ft==="success"?"#1976d2":"#d32f2f",color:"white","& .MuiAlert-message":{whiteSpace:"pre-line",wordBreak:"break-word",fontSize:"1rem",lineHeight:1.5}},children:Dt})})]})};export{aa as default};
