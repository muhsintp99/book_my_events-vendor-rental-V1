import{r as o,u as A,i as P,j as e,B as z,T as H,ae as L,S as p,g as i,s as d,a6 as U,a7 as F,a8 as V,F as R,I as M,af as N,W as c}from"./index-BPHwo8FW.js";import{T as O}from"./TableContainer-FysWcYmj.js";import{T as K,a as Q,b as v,c as l,d as X}from"./TableRow-CNexw9_r.js";import{D as q}from"./DialogActions-DpWHBuUI.js";const _=()=>{const[S,h]=o.useState(!1),[u,C]=o.useState(""),[r,f]=o.useState(null),[g,x]=o.useState([{id:1,scheduleId:"SCH001",tripId:100036,scheduleDate:"2025-02-08T12:40",driverInfo:"Unassigned",vehicleInfo:"Unassigned",status:"Pending"},{id:2,scheduleId:"SCH002",tripId:100035,scheduleDate:"2025-02-06T17:56",driverInfo:"Ruth Kerry kuzo****@gmail.com",vehicleInfo:"1 Vehicle",status:"Assigned"},{id:3,scheduleId:"SCH003",tripId:100033,scheduleDate:"2025-02-06T17:43",driverInfo:"Unassigned",vehicleInfo:"Unassigned",status:"Completed"}]),[t,j]=o.useState({scheduleId:"",tripId:"",scheduleDate:"",driverInfo:"",vehicleInfo:"",status:"Pending"}),D=A(),b=P(D.breakpoints.down("sm")),T=()=>h(!0),m=()=>{h(!1),f(null),j({scheduleId:"",tripId:"",scheduleDate:"",driverInfo:"",vehicleInfo:"",status:"Pending"})},a=s=>{const{name:n,value:I}=s.target;j(y=>({...y,[n]:I}))},w=s=>{C(s.target.value)},E=()=>{if(r)x(s=>s.map(n=>n.id===r?{...t,id:r}:n));else{const s={...t,id:g.length+1};x(n=>[...n,s])}m()},B=s=>{j({...s}),f(s.id),h(!0)},k=s=>{x(n=>n.filter(I=>I.id!==s))},W=g.filter(s=>s.scheduleId.toLowerCase().includes(u.toLowerCase())||s.tripId.toString().includes(u));return e.jsxs(z,{p:2,children:[e.jsx(H,{variant:"h4",gutterBottom:!0,children:"Trip Schedules"}),e.jsxs(L,{sx:{mt:2,width:"100%"},children:[e.jsxs(p,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},p:2,children:[e.jsx(i,{variant:"contained",color:"#E15B65",onClick:T,sx:{color:"white",bgcolor:"#E15B65"},children:"Add New Schedule"}),e.jsx(d,{label:"Search by Schedule ID or Trip ID",variant:"outlined",size:"small",value:u,onChange:w,sx:{maxWidth:{sm:300}}}),e.jsx(i,{variant:"contained",color:"#E15B65",sx:{color:"white",bgcolor:"#E15B65"},children:"Export"})]}),e.jsx(O,{sx:{width:"100%",overflowX:"auto"},children:e.jsxs(K,{stickyHeader:!0,children:[e.jsx(Q,{children:e.jsxs(v,{children:[e.jsx(l,{children:"S#"}),e.jsx(l,{children:"Schedule ID"}),e.jsx(l,{children:"Trip ID"}),e.jsx(l,{children:"Schedule Date"}),e.jsx(l,{children:"Driver Info"}),e.jsx(l,{children:"Vehicle Info"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Action"})]})}),e.jsx(X,{children:W.map((s,n)=>e.jsxs(v,{children:[e.jsx(l,{children:n+1}),e.jsx(l,{children:s.scheduleId}),e.jsx(l,{children:s.tripId}),e.jsx(l,{children:new Date(s.scheduleDate).toLocaleString()}),e.jsx(l,{children:s.driverInfo}),e.jsx(l,{children:s.vehicleInfo}),e.jsx(l,{children:s.status}),e.jsx(l,{children:e.jsxs(p,{direction:"row",spacing:1,children:[e.jsx(i,{variant:"outlined",color:"#E15B65",size:"small",onClick:()=>B(s),sx:{color:"white",bgcolor:"#E15B65"},children:"Edit"}),e.jsx(i,{variant:"outlined",color:"#E15B65",size:"small",sx:{color:"#E15B65"},children:"View"}),e.jsx(i,{variant:"outlined",color:"error",size:"small",onClick:()=>k(s.id),children:"Delete"})]})})]},s.id))})]})})]}),e.jsxs(U,{open:S,onClose:m,maxWidth:"sm",fullWidth:!0,fullScreen:b,children:[e.jsx(F,{children:r?"Edit Schedule":"Add New Schedule"}),e.jsxs(V,{dividers:!0,children:[e.jsx(d,{fullWidth:!0,label:"Schedule ID",name:"scheduleId",value:t.scheduleId,onChange:a,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Trip ID",name:"tripId",value:t.tripId,onChange:a,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Schedule Date & Time",name:"scheduleDate",type:"datetime-local",InputLabelProps:{shrink:!0},value:t.scheduleDate,onChange:a,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Driver Info",name:"driverInfo",value:t.driverInfo,onChange:a,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Vehicle Info",name:"vehicleInfo",value:t.vehicleInfo,onChange:a,sx:{mb:2}}),e.jsxs(R,{fullWidth:!0,sx:{mb:2},children:[e.jsx(M,{children:"Status"}),e.jsxs(N,{name:"status",value:t.status,onChange:a,label:"Status",children:[e.jsx(c,{value:"Pending",children:"Pending"}),e.jsx(c,{value:"Assigned",children:"Assigned"}),e.jsx(c,{value:"Completed",children:"Completed"}),e.jsx(c,{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs(q,{children:[e.jsx(i,{sx:{color:"#E15B65"},onClick:m,children:"Cancel"}),e.jsx(i,{variant:"contained",color:"#E15B65",onClick:E,sx:{color:"white",bgcolor:"#E15B65"},children:r?"Update":"Save"})]})]})]})};export{_ as default};
