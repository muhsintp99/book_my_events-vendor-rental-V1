import{r as l,j as e,B as i,T as s,p as F,W as N,s as n,F as P,ag as H,$ as v,g as O,ao as Q,x as V,a as X,al as Y}from"./index-ClBsW6WP.js";const _=()=>{const[u,S]=l.useState(""),[p,y]=l.useState("Default"),[g,C]=l.useState("9uHNozDS"),[D,T]=l.useState(""),[r,W]=l.useState(""),[o,A]=l.useState(""),[j,E]=l.useState("0"),[m,I]=l.useState("Amount ($)"),[f,B]=l.useState(""),[b,L]=l.useState("0"),[U,a]=l.useState(!1),[$,c]=l.useState(""),[R,x]=l.useState("success"),[h,M]=l.useState([]),[w,q]=l.useState(""),G=t=>{t.preventDefault();const d=new Date().toISOString().split("T")[0];if(r&&r<d){c("Start date cannot be in the past"),x("error"),a(!0);return}if(o&&o<d){c("Expire date cannot be in the past"),x("error"),a(!0);return}if(o&&r&&o<r){c("Expire date cannot be before start date"),x("error"),a(!0);return}if(!u.trim()){c("Title is required"),x("error"),a(!0);return}const K={sl:h.length+1,title:u,code:g,couponType:p,totalUses:0,minTripAmount:j,maxDiscount:b,discount:f,discountType:m,startDate:r,expireDate:o,status:"Active",action:"Edit"};M([...h,K]),console.log({title:u,couponType:p,code:g,limitForUser:D,startDate:r,expireDate:o,minTripAmount:j,discountType:m,discount:f,maxDiscount:b}),c("Coupon submitted successfully!"),x("success"),a(!0),k()},k=()=>{S(""),y("Default"),C("9uHNozDS"),T(""),W(""),A(""),E("0"),I("Amount ($)"),B(""),L("0")},J=t=>{M(h.map(d=>d.sl===t?{...d,status:d.status==="Active"?"Inactive":"Active"}:d))},z=h.filter(t=>t.title.toLowerCase().includes(w.toLowerCase())||t.code.toLowerCase().includes(w.toLowerCase()));return e.jsx(i,{sx:{p:3,backgroundColor:"white",minHeight:"100vh",width:"100%"},children:e.jsxs(i,{sx:{maxWidth:"lg",margin:"auto"},children:[e.jsx(i,{sx:{display:"flex",alignItems:"center",mb:3},children:e.jsx(s,{variant:"h5",component:"h1",children:"Add New Coupon"})}),e.jsxs(i,{component:"form",onSubmit:G,children:[e.jsx(F,{sx:{p:2,boxShadow:"none",border:"1px solid #e0e0e0"},children:e.jsxs(N,{sx:{"&:last-child":{pb:2}},children:[e.jsx(n,{fullWidth:!0,label:"Title (Default)",value:u,onChange:t=>S(t.target.value),placeholder:"New coupon",sx:{mb:2}}),e.jsxs(i,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(P,{fullWidth:!0,children:e.jsx(H,{value:p,onChange:t=>y(t.target.value),displayEmpty:!0,children:e.jsx(v,{value:"Default",children:"Default"})})}),e.jsx(n,{fullWidth:!0,label:"Code",value:g,onChange:t=>C(t.target.value),placeholder:"Ex: 9uHNozDS"}),e.jsx(n,{fullWidth:!0,label:"Limit for same user",value:D,onChange:t=>T(t.target.value),placeholder:"Ex: 10"}),e.jsx(n,{fullWidth:!0,label:"Start date",type:"date",value:r,onChange:t=>W(t.target.value),InputLabelProps:{shrink:!0},inputProps:{min:new Date().toISOString().split("T")[0]}})]}),e.jsxs(i,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(n,{fullWidth:!0,label:"Expire date",type:"date",value:o,onChange:t=>A(t.target.value),InputLabelProps:{shrink:!0},inputProps:{min:r||new Date().toISOString().split("T")[0]}}),e.jsx(n,{fullWidth:!0,label:"Min trip amount",value:j,onChange:t=>E(t.target.value),placeholder:"0"}),e.jsx(P,{fullWidth:!0,children:e.jsxs(H,{value:m,onChange:t=>I(t.target.value),displayEmpty:!0,children:[e.jsx(v,{value:"Amount ($)",children:"Amount ($)"}),e.jsx(v,{value:"Percentage (%)",children:"Percentage (%)"})]})}),e.jsx(n,{fullWidth:!0,label:"Discount",value:f,onChange:t=>B(t.target.value),placeholder:"Ex: 100"})]}),e.jsx(n,{fullWidth:!0,label:"Max discount",value:b,onChange:t=>L(t.target.value),placeholder:"0"})]})}),e.jsxs(i,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(O,{variant:"outlined",color:"#E15B65",onClick:k,size:"large",sx:{color:"#E15B65"},children:"Reset"}),e.jsx(O,{variant:"contained",type:"submit",size:"large",sx:{bgcolor:"#E15B65",color:"white","&:hover":{bgcolor:"#d63640ff"}},children:"Submit"})]})]}),e.jsx(Q,{open:U,autoHideDuration:6e3,onClose:()=>a(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(V,{onClose:()=>a(!1),severity:R,sx:{width:"100%"},children:$})}),e.jsxs(i,{sx:{mt:4},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(s,{variant:"h6",component:"h2",children:"Coupon List"}),e.jsx(s,{variant:"body2",sx:{ml:1,color:"text.secondary"},children:h.length}),e.jsx(i,{sx:{flexGrow:1}}),e.jsx(n,{variant:"outlined",placeholder:"Ex: Search by title or code",size:"small",sx:{width:200},value:w,onChange:t=>q(t.target.value),InputProps:{endAdornment:e.jsx(X,{position:"end",children:"ðŸ”"})}})]}),e.jsx(F,{sx:{p:2,boxShadow:"none",border:"1px solid #e0e0e0",borderRadius:1},children:e.jsxs(N,{children:[e.jsxs(i,{sx:{display:"flex",flexWrap:"nowrap",gap:1,mb:2,color:"text.secondary",borderBottom:"1px solid #e0e0e0",paddingBottom:1},children:[e.jsx(s,{sx:{width:50,fontWeight:"bold"},children:"Sl"}),e.jsx(s,{sx:{width:100,fontWeight:"bold"},children:"Title"}),e.jsx(s,{sx:{width:100,fontWeight:"bold"},children:"Code"}),e.jsx(s,{sx:{width:100,fontWeight:"bold"},children:"Type"}),e.jsx(s,{sx:{width:100,fontWeight:"bold"},children:"Total Uses"}),e.jsx(s,{sx:{width:120,fontWeight:"bold"},children:"Min Trip Amount"}),e.jsx(s,{sx:{width:120,fontWeight:"bold"},children:"Max Discount"}),e.jsx(s,{sx:{width:100,fontWeight:"bold"},children:"Discount"}),e.jsx(s,{sx:{width:120,fontWeight:"bold"},children:"Discount Type"}),e.jsx(s,{sx:{width:120,fontWeight:"bold"},children:"Start Date"}),e.jsx(s,{sx:{width:120,fontWeight:"bold"},children:"Expire Date"}),e.jsx(s,{sx:{width:100,fontWeight:"bold"},children:"Status"}),e.jsx(s,{sx:{width:100,fontWeight:"bold"},children:"Action"})]}),z.length>0?z.map(t=>e.jsxs(i,{sx:{display:"flex",flexWrap:"nowrap",gap:1,py:1,borderBottom:"1px solid #e0e0e0",alignItems:"center",backgroundColor:t.status==="Inactive"?"#f5f5f5":"inherit"},children:[e.jsx(s,{sx:{width:50,color:"#333"},children:t.sl}),e.jsx(s,{sx:{width:100,color:"#333"},children:t.title}),e.jsx(s,{sx:{width:100,color:"#333"},children:t.code}),e.jsx(s,{sx:{width:100,color:"#333"},children:t.couponType}),e.jsx(s,{sx:{width:100,color:"#333"},children:t.totalUses}),e.jsx(s,{sx:{width:120,color:"#333"},children:t.minTripAmount}),e.jsx(s,{sx:{width:120,color:"#333"},children:t.maxDiscount}),e.jsx(s,{sx:{width:100,color:"#333"},children:t.discount}),e.jsx(s,{sx:{width:120,color:"#333"},children:t.discountType}),e.jsx(s,{sx:{width:120,color:"#333"},children:t.startDate}),e.jsx(s,{sx:{width:120,color:"#333"},children:t.expireDate}),e.jsxs(i,{sx:{width:100,display:"flex",alignItems:"center"},children:[e.jsx(s,{sx:{color:"#333",mr:1},children:t.status}),e.jsx(Y,{checked:t.status==="Active",onChange:()=>J(t.sl),color:"primary"})]}),e.jsx(s,{sx:{width:100,color:"#333"},children:t.action})]},t.sl)):e.jsxs(i,{sx:{minHeight:"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[e.jsx(i,{component:"img",src:"https://via.placeholder.com/100",alt:"No Data Found",sx:{mb:2}}),e.jsx(s,{variant:"body1",children:"No Data Found"})]})]})})]})]})})};export{_ as default};
