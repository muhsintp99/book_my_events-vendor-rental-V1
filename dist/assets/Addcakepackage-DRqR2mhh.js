import{c as ut,j as e,w as Vt,r as d,B as o,t as ze,x as ct,H as y,S as A,T as n,G as f,F as re,X as j,C as se,a3 as $e,a5 as N,a4 as c,g as H,b as I,ap as ft,s as mt,D as Kt,aj as dt,ar as Ht,f as xt,al as ht,aa as Jt,ab as Yt,ai as pt,ac as qt,ae as Xt,h as B,a9 as Qt,ad as Zt,bb as er}from"./index-BAGMfAhD.js";import{S as gt}from"./Star-CYoXfFAw.js";import{C as Te}from"./CloudUpload-Dxz0MMMP.js";import{C as oe}from"./Close-D-pJi_r3.js";import{S as tr}from"./Settings-4DqF3CWL.js";import{T as rr,a as bt,b as X,c as sr}from"./TableRow-Bm8fXQl0.js";import{T as or}from"./TableHead-BeCaNvqA.js";import{L as ir}from"./Label-7-rUqGZc.js";import{T as nr}from"./TableContainer-DXk1VB7t.js";const ar=ut(e.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),lr=ut(e.jsx("path",{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2m-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m13-6v11c0 1.1-.9 2-2 2H4v-2h17V7z"})),s="#E91E63",v="https://api.bookmyevent.ae",De="68e5fc09651cc12c1fc0f9c9",L=y(Qt)(({theme:g})=>({borderRadius:"24px",padding:"40px",marginBottom:"40px",border:"1px solid rgba(0, 0, 0, 0.06)",boxShadow:"0px 15px 50px rgba(0, 0, 0, 0.02)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",backgroundColor:"#ffffff","&:hover":{boxShadow:"0px 25px 70px rgba(0, 0, 0, 0.05)"}}));y(o)(({theme:g})=>({width:80,height:80,borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #E5E7EB",backgroundColor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",transition:"0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 18px rgba(0,0,0,0.12)"}}));const J=y(n)(({theme:g})=>({fontSize:"26px",fontWeight:900,color:"#111827",marginBottom:"10px",letterSpacing:"-1px"})),Y=y(n)(({theme:g})=>({fontSize:"15px",color:"#6B7280",marginBottom:"40px",fontWeight:500,lineHeight:1.6})),R=y(mt)(({theme:g})=>({width:"100%","& .MuiOutlinedInput-root":{borderRadius:"16px",backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","& fieldset":{borderColor:"transparent"},"&:hover":{backgroundColor:"#f3f4f6",borderColor:"#D1D5DB"},"&.Mui-focused":{backgroundColor:"#ffffff",borderColor:s,boxShadow:`0px 0px 0px 4px ${c(s,.1)}`,"& fieldset":{borderColor:s,borderWidth:"2px"}}},"& .MuiInputBase-input":{padding:"18px 20px",fontSize:"15px",fontWeight:600,color:"#1F2937"}})),q=y(Zt)(({theme:g})=>({width:"100%",borderRadius:"16px",backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&:hover":{backgroundColor:"#f3f4f6",borderColor:"#D1D5DB"},"&.Mui-focused":{backgroundColor:"#ffffff",borderColor:s,boxShadow:`0px 0px 0px 4px ${c(s,.1)}`,"& .MuiOutlinedInput-notchedOutline":{borderColor:s,borderWidth:"2px"}},"& .MuiSelect-select":{padding:"18px 20px",fontSize:"15px",fontWeight:600,color:"#1F2937"}})),cr=y(o)(({theme:g,hasImage:S})=>({width:"100%",height:"380px",borderRadius:"28px",border:S?"none":`3px dashed ${c(s,.15)}`,backgroundColor:S?"transparent":"#FAFAFA",backgroundImage:S?"none":`linear-gradient(180deg, rgba(255,255,255,0) 0%, ${c(s,.02)} 100%)`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",boxShadow:S?"0 20px 40px rgba(0,0,0,0.1)":"none","&:hover":{borderColor:s,backgroundColor:c(s,.03),transform:"translateY(-4px)",boxShadow:"0 12px 28px rgba(233, 30, 99, 0.15)"}})),dr=y(o)(({theme:g})=>({width:"100%",minHeight:"200px",borderRadius:"24px",border:`2px dashed ${c(s,.3)}`,backgroundColor:"#FAFAFA",backgroundImage:`linear-gradient(135deg, ${c(s,.01)} 0%, rgba(255,255,255,1) 100%)`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{borderColor:s,backgroundColor:c(s,.04),boxShadow:`0 10px 40px ${c(s,.1)}`}}));y(o)(({theme:g})=>({width:"100%",aspectRatio:"1/1",borderRadius:"20px",overflow:"hidden",position:"relative",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",transition:"all 0.3s ease",group:"slot","&:hover":{transform:"translateY(-4px)",boxShadow:"0 15px 30px rgba(0,0,0,0.12)"}}));const xr=y(o)(({theme:g})=>({padding:"32px",borderRadius:"24px",backgroundColor:"#FFFFFF",border:"1px solid rgba(0, 0, 0, 0.06)",position:"relative",transition:"all 0.3s ease",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start","&:hover":{borderColor:s,boxShadow:"0px 10px 30px rgba(233, 30, 99, 0.05)"}}));y(o)(({theme:g})=>({position:"absolute",top:"20px",right:"25px",fontSize:"48px",fontWeight:900,opacity:.06,color:s,pointerEvents:"none"}));y(N)(({theme:g,selected:S})=>({borderRadius:"14px",fontWeight:800,fontSize:"14px",height:"46px",padding:"0 10px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",backgroundColor:S?s:"#F3F4F6",color:S?"#ffffff":"#4B5563",border:`2px solid ${S?s:"transparent"}`,"&:hover":{backgroundColor:S?"#D81B60":"#E5E7EB",transform:"translateY(-2px)"}}));const hr=y(nr)(({theme:g})=>({borderRadius:"24px",border:"1px solid rgba(0, 0, 0, 0.05)",backgroundColor:"#ffffff",marginTop:"32px",overflow:"hidden",boxShadow:"0px 10px 40px rgba(0,0,0,0.03)"})),pr=({variation:g,onChange:S,onImageUpload:z,onDelete:Q})=>e.jsxs(bt,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(X,{sx:{py:3,pl:4},children:e.jsx(n,{sx:{fontWeight:800,color:"#1F2937",fontSize:"15px"},children:g.name})}),e.jsx(X,{sx:{py:3},children:e.jsx(R,{size:"small",placeholder:"0.00",value:g.price,onChange:Z=>S("price",Z.target.value),sx:{maxWidth:"180px"},InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,fontWeight:700,color:"#9CA3AF"},children:"₹"})}})}),e.jsx(X,{sx:{py:3,pr:4},children:e.jsxs(A,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(I,{onClick:()=>document.getElementById(`var-img-${g.id}`).click(),sx:{bgcolor:c(s,.05),color:s,"&:hover":{bgcolor:s,color:"white"}},children:e.jsx(er,{fontSize:"small"})}),e.jsx("input",{id:`var-img-${g.id}`,type:"file",hidden:!0,onChange:Z=>z(Z.target.files[0])}),g.image&&e.jsx(o,{sx:{position:"relative",width:45,height:45,borderRadius:"10px",overflow:"hidden",border:`2px solid ${s}`},children:e.jsx("img",{src:typeof g.image=="string"?g.image:URL.createObjectURL(g.image),alt:"variant",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx(I,{onClick:Q,sx:{bgcolor:c("#EF4444",.1),color:"#EF4444","&:hover":{bgcolor:"#EF4444",color:"#fff"}},children:e.jsx(ft,{fontSize:"small"})})]})})]}),Fr=()=>{const g=Vt(),z=new URLSearchParams(window.location.search).get("id"),Q=!!z,Z=["Marriage","Engagement","Birthday","Anniversary","Promotion","Other"],pe=["Weight","Ingredient"],Pe={Weight:["0.5Kg","1 Kg","2 Kg","3 Kg","5 Kg+"],Ingredient:["Egg","Eggless"]},jt=["0.5Kg","1 Kg","2 Kg","3 Kg","5 Kg+"],[yt,St]=d.useState(!0),[_e,Me]=d.useState(!1),[Oe,Ct]=d.useState(""),[Le,ge]=d.useState(""),[Ne,vt]=d.useState([]),[Ge,Wt]=d.useState([]),[m,Ft]=d.useState(null),[$,Ue]=d.useState("product"),[E,T]=d.useState([]),[kt,D]=d.useState([]),[wt,ie]=d.useState(!1),[C,ne]=d.useState(null),[ue,fe]=d.useState(""),[Ve,me]=d.useState(""),[P,be]=d.useState(""),[je,ye]=d.useState([]),[Se,Ce]=d.useState([]),[It,Ke]=d.useState("Eggless"),[He,ve]=d.useState(""),[Et,gr]=d.useState(""),[Je,We]=d.useState("Kg"),[Ye,Fe]=d.useState(""),[qe,ke]=d.useState(!1),[we,ee]=d.useState([]),[Bt,ae]=d.useState(!1),[Xe,Qe]=d.useState(""),[Ze,et]=d.useState(Pe.Weight),[le,At]=d.useState(""),[G,Rt]=d.useState("no_discount"),[tt,zt]=d.useState(""),[k,ce]=d.useState({Weight:[],Ingredient:[]}),[Ie,w]=d.useState([]),[de,$t]=d.useState(["Weight","Ingredient"]),[rt,Ee]=d.useState([]),[W,xe]=d.useState({free:!1,flatRate:!0,price:""}),[_,Be]=d.useState(null),[he,st]=d.useState(""),[M,Ae]=d.useState([]),[U,ot]=d.useState([]),[it,Tt]=d.useState([]);d.useEffect(()=>{(async()=>{var r,i,a,h,l,x,p,b,O;try{const te=localStorage.getItem("vendor")||localStorage.getItem("user");te&&Ft(JSON.parse(te));const lt=localStorage.getItem("token"),Gt=await B.get(`${v}/api/categories/parents/${De}`,{headers:{Authorization:`Bearer ${lt}`}});if(vt(((r=Gt.data)==null?void 0:r.data)||[]),Q&&z){const u=(i=(await B.get(`${v}/api/cakes/${z}`,{headers:{Authorization:`Bearer ${lt}`}})).data)==null?void 0:i.data;u&&(fe(u.name||""),me(u.shortDescription||""),be(((a=u.category)==null?void 0:a._id)||u.category||""),ye((u.subCategories||[]).map(F=>F._id||F)),Ce(u.occasions||[]),Ke(u.itemType||"Eggless"),ve((u.searchTags||[]).join(", ")),st(u.thumbnail||""),ot(u.images||[]),xe({free:((h=u.shipping)==null?void 0:h.free)||!1,flatRate:((l=u.shipping)==null?void 0:l.flatRate)||!1,price:((x=u.shipping)==null?void 0:x.price)||""}),(p=u.variations)!=null&&p.length&&w(u.variations.map((F,Ut)=>({id:F._id||`old-${Ut}`,name:F.name,price:F.price,image:F.image}))),Ee(u.addons||[]),We(u.unit||"Kg"),Fe(u.weight||""),(O=(b=u.relatedItems)==null?void 0:b.items)!=null&&O.length&&(T(u.relatedItems.items.map(F=>F._id||F)),D(u.relatedItems.items),Ue(u.relatedItems.linkBy||"product")))}}catch{ge("Failed to load initial data")}finally{St(!1)}})()},[z,Q]),d.useEffect(()=>{(async()=>{const r=(m==null?void 0:m._id)||(m==null?void 0:m.id);if(r)try{const i=localStorage.getItem("token"),a=await B.get(`${v}/api/cake-addons/provider/${r}`,{headers:{Authorization:`Bearer ${i}`}});a.data.success&&Tt(a.data.data||[])}catch(i){console.error("Error fetching addons:",i)}})()},[m]),d.useEffect(()=>{(async()=>{var r;if(P)try{const i=localStorage.getItem("token"),a=await B.get(`${v}/api/categories/parents/${P}/subcategories`,{headers:{Authorization:`Bearer ${i}`}});Wt(((r=a.data)==null?void 0:r.data)||[])}catch(i){console.error(i)}})()},[P]);const Re=(t,r)=>{const i={...k,[t]:r};ce(i);const a=pe.filter(l=>{var x;return((x=i[l])==null?void 0:x.length)>0});if(!a.length){w([]);return}const h=a.reduce((l,x)=>l.length===0?i[x].map(p=>[p]):l.flatMap(p=>i[x].map(b=>[...p,b])),[]);w(h.map((l,x)=>({id:`new-${x}`,name:l.join(" - "),price:le||"",image:null})))},nt=async()=>{var t;try{ae(!0),ne(null);const r=localStorage.getItem("token"),i=(m==null?void 0:m._id)||(m==null?void 0:m.id);let a="";if($==="product"){if(!i){console.error("Provider ID missing");return}a=`${v}/api/cakes/provider/${i}`}else a=`${v}/api/categories/parents/${De}`;const l=((t=(await B.get(a,{headers:{Authorization:`Bearer ${r}`}})).data)==null?void 0:t.data)||[];ee(l),D(x=>{const p=[...x];return l.forEach(b=>{const O=p.findIndex(te=>te._id===b._id);O!==-1&&(p[O]=b)}),p})}catch(r){console.error("Failed to load related items",r),ee([])}finally{ae(!1)}},Dt=async t=>{var r;try{ae(!0),ne(t);const i=localStorage.getItem("token"),h=((r=(await B.get(`${v}/api/cakes/category/${t._id}?limit=100`,{headers:{Authorization:`Bearer ${i}`}})).data)==null?void 0:r.data)||[];ee(h),D(l=>{const x=[...l];return h.forEach(p=>{const b=x.findIndex(O=>O._id===p._id);b!==-1&&(x[b]=p)}),x})}catch(i){console.error("Failed to load cakes for category",i),ee([])}finally{ae(!1)}},Pt=()=>{ne(null),nt()},_t=t=>{et(r=>r.filter(i=>i!==t)),ce(r=>{const i={...r,Weight:r.Weight.filter(l=>l!==t)},a=pe.filter(l=>{var x;return((x=i[l])==null?void 0:x.length)>0});if(!a.length)return w([]),i;const h=a.reduce((l,x)=>l.length===0?i[x].map(p=>[p]):l.flatMap(p=>i[x].map(b=>[...p,b])),[]);return w(h.map((l,x)=>({id:`new-${x}`,name:l.join(" - "),price:le||"",image:null}))),i})},V=Number(le||0),at=Number(tt||0);let K=V;G==="percentage"&&(K=V-V*at/100),G==="flat"&&(K=V-at),K=Math.max(K,0);const Mt=t=>{Ee(r=>r.find(a=>a.addonId===t)?r.filter(a=>a.addonId!==t):[...r,{addonId:t,selectedItems:[]}])},Ot=(t,r)=>{Ee(i=>{const a=i.find(x=>x.addonId===t);if(!a)return[...i,{addonId:t,selectedItems:[r]}];let h;const l=a.selectedItems||[];return l.length===0?h=[r]:l.includes(r)?h=l.filter(x=>x!==r):h=[...l,r],i.map(x=>x.addonId===t?{...x,selectedItems:h}:x)})},Lt=()=>{fe(""),me(""),be(""),ye([]),Ce([]),We("Kg"),Fe(""),Ke("Eggless"),ve(""),Be(null),Ae([]),w([]),ce({Weight:[],Ingredient:[]}),T([]),D([]),ne(null),window.scrollTo({top:0,behavior:"smooth"})},Nt=async()=>{var a,h;const t=(m==null?void 0:m._id)||(m==null?void 0:m.id);if(!t||!ue||!P||!_&&!he){ge("Missing required fields");return}const r=new FormData;r.append("name",ue),r.append("shortDescription",Ve),r.append("category",P),r.append("module",De),r.append("uom",Je),r.append("weight",Ye),r.append("itemType",It),r.append("provider",t),r.append("subCategories",JSON.stringify(je)),r.append("occasions",JSON.stringify(Se)),r.append("searchTags",JSON.stringify(He.split(",").map(l=>l.trim()).filter(Boolean))),r.append("addons",JSON.stringify(rt)),r.append("shipping",JSON.stringify(W)),r.append("prepTime",Et),r.append("relatedItems",JSON.stringify({linkBy:$,items:E,linkByRef:$==="product"?"Cake":"Category"}));const i=Ie.filter(l=>l.price).map(l=>({name:l.name,price:Number(l.price)}));i.length&&r.append("variations",JSON.stringify(i)),_&&r.append("thumbnail",_),M.forEach(l=>r.append("images",l));try{Me(!0);const l=localStorage.getItem("token");(Q?await B.put(`${v}/api/cakes/${z}`,r,{headers:{Authorization:`Bearer ${l}`}}):await B.post(`${v}/api/cakes`,r,{headers:{Authorization:`Bearer ${l}`}})).data.success&&(Ct("Saved successfully!"),setTimeout(()=>g("/cake/packagelist"),2e3))}catch(l){ge(((h=(a=l.response)==null?void 0:a.data)==null?void 0:h.message)||"Error saving cake")}finally{Me(!1),window.scrollTo({top:0,behavior:"smooth"})}};return yt?e.jsx(o,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:e.jsx(ze,{color:"inherit",sx:{color:s}})}):e.jsxs(o,{sx:{bgcolor:"#FDFDFF",minHeight:"100vh",pb:10},children:[e.jsx(o,{children:e.jsx(o,{sx:{maxWidth:"1400px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"}})}),e.jsxs(o,{sx:{maxWidth:"1200px",margin:"48px auto",px:3},children:[Oe&&e.jsx(ct,{severity:"success",sx:{mb:4,borderRadius:"20px",fontWeight:800,border:"none",boxShadow:"0px 10px 30px rgba(76, 175, 80, 0.1)"},children:Oe}),Le&&e.jsx(ct,{severity:"error",sx:{mb:4,borderRadius:"20px",fontWeight:800,border:"none",boxShadow:"0px 10px 30px rgba(244, 67, 54, 0.1)"},children:Le}),e.jsxs(L,{children:[e.jsx(J,{children:"General Information"}),e.jsx(Y,{children:"Define the fundamental details that describe your cake creation."}),e.jsxs(A,{spacing:4,children:[e.jsxs(o,{children:[e.jsx(n,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Product Name"}),e.jsx(R,{fullWidth:!0,placeholder:"e.g. Midnight Chocolate Ganache Cake",value:ue,onChange:t=>fe(t.target.value)})]}),e.jsxs(o,{children:[e.jsx(n,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Full Description"}),e.jsx(R,{fullWidth:!0,multiline:!0,rows:4,placeholder:"Describe the rich textures, premium ingredients, and the flavor experience...",value:Ve,onChange:t=>me(t.target.value)})]}),e.jsx(o,{sx:{width:"100%"},children:e.jsxs(f,{container:!0,spacing:3,children:[e.jsxs(f,{item:!0,xs:12,md:3,children:[e.jsx(n,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Parent Category"}),e.jsx(re,{fullWidth:!0,children:e.jsxs(q,{fullWidth:!0,value:P,onChange:t=>be(t.target.value),displayEmpty:!0,children:[e.jsx(j,{disabled:!0,value:"",children:"Select the primary category"}),Ne.map(t=>e.jsx(j,{value:t._id,children:t.title},t._id))]})})]}),e.jsxs(f,{item:!0,xs:12,md:4,children:[e.jsx(n,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Subcategories"}),e.jsx(re,{fullWidth:!0,disabled:!P,children:e.jsxs(q,{fullWidth:!0,multiple:!0,value:je,onChange:t=>ye(t.target.value),renderValue:t=>t.length===0?e.jsx(n,{sx:{color:"#9CA3AF",fontWeight:600,fontSize:"15px"},children:"Choose related tags"}):e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:t.map(r=>{var i;return e.jsx(N,{label:((i=Ge.find(a=>a._id===r))==null?void 0:i.title)||r,size:"small",sx:{borderRadius:"10px",fontWeight:800,bgcolor:"white",border:"1px solid #E5E7EB",color:s}},r)})}),displayEmpty:!0,children:[e.jsx(j,{disabled:!0,value:"",children:"Choose related tags"}),Ge.map(t=>e.jsxs(j,{value:t._id,children:[e.jsx(se,{checked:je.includes(t._id),size:"small",sx:{color:s,"&.Mui-checked":{color:s}}}),e.jsx($e,{primary:t.title,primaryTypographyProps:{fontSize:"14px",fontWeight:700}})]},t._id))]})})]}),e.jsxs(f,{item:!0,xs:12,md:3,children:[e.jsx(n,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Select Unit"}),e.jsx(re,{fullWidth:!0,children:e.jsxs(q,{fullWidth:!0,value:Je,onChange:t=>We(t.target.value),displayEmpty:!0,renderValue:t=>t||e.jsx(n,{sx:{color:"#9CA3AF",fontWeight:600},children:"Select unit"}),children:[e.jsx(j,{disabled:!0,value:"",children:"Select unit"}),e.jsx(j,{value:"Kg",children:"Kg"}),e.jsx(j,{value:"Gm",children:"Gm"}),e.jsx(j,{value:"Piece",children:"Piece"}),e.jsx(j,{value:"Litre",children:"Litre"})]})})]}),e.jsxs(f,{item:!0,xs:12,md:4,children:[e.jsx(n,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:"Weight"}),e.jsx(R,{fullWidth:!0,placeholder:"e.g. 1.5",value:Ye,onChange:t=>Fe(t.target.value)})]})]})}),e.jsxs(o,{children:[e.jsx(n,{variant:"body2",sx:{mb:1.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Perfect for Occasions"}),e.jsx(re,{fullWidth:!0,children:e.jsxs(q,{multiple:!0,value:Se,onChange:t=>Ce(t.target.value),displayEmpty:!0,renderValue:t=>t.length===0?e.jsx(n,{sx:{color:"#9CA3AF",fontWeight:600,fontSize:"15px"},children:"Select one or many occasions"}):e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:t.map(r=>e.jsx(N,{label:r,size:"small",sx:{borderRadius:"10px",fontWeight:800,bgcolor:c(s,.05),color:s,border:`1px solid ${c(s,.1)}`}},r))}),children:[e.jsx(j,{disabled:!0,value:"",children:"Select one or many occasions"}),Z.map(t=>e.jsxs(j,{value:t,children:[e.jsx(se,{checked:Se.includes(t),size:"small",sx:{color:s,"&.Mui-checked":{color:s}}}),e.jsx($e,{primary:t,primaryTypographyProps:{fontSize:"14px",fontWeight:700}})]},t))]})})]})]})]}),e.jsxs(L,{children:[e.jsx(J,{children:"Media & Show Reels"}),e.jsx(Y,{children:"High-resolution captures significantly increase conversion rates."}),e.jsxs(A,{spacing:5,children:[e.jsxs(o,{children:[e.jsxs(n,{variant:"body2",sx:{mb:2,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px",display:"flex",alignItems:"center",gap:1},children:[e.jsx(gt,{sx:{fontSize:16,color:"#F59E0B"}})," Primary Display Photo (Cover)"]}),e.jsxs(cr,{hasImage:_||he,onClick:()=>document.getElementById("thumb-in").click(),children:[e.jsx("input",{id:"thumb-in",type:"file",hidden:!0,onChange:t=>Be(t.target.files[0])}),_||he?e.jsxs(o,{sx:{position:"relative",width:"100%",height:"100%"},children:[e.jsx("img",{src:_?URL.createObjectURL(_):he,alt:"Main Cover",style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs(o,{sx:{position:"absolute",inset:0,bgcolor:"rgba(0,0,0,0.3)",opacity:0,transition:"0.3s",display:"flex",alignItems:"center",justifyContent:"center",gap:2,".MuiBox-root:hover &":{opacity:1}},children:[e.jsx(H,{variant:"contained",sx:{bgcolor:"white",color:"black","&:hover":{bgcolor:"#f0f0f0"}},children:"Change Cover"}),e.jsx(I,{onClick:t=>{t.stopPropagation(),Be(null),st("")},sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"#ef4444"}},children:e.jsx(ft,{})})]})]}):e.jsxs(A,{alignItems:"center",spacing:3,children:[e.jsx(o,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.06)"},children:e.jsx(Te,{sx:{color:s,fontSize:36}})}),e.jsxs(o,{textAlign:"center",children:[e.jsx(n,{variant:"h5",sx:{fontWeight:800,color:"#111827",mb:.5},children:"Drop your main image here"}),e.jsx(n,{variant:"body2",sx:{color:"#6B7280",maxWidth:"300px"},children:"Supports JPG, PNG, WEBP. High resolution (1600x1200) recommended for best results."})]}),e.jsx(H,{variant:"outlined",sx:{borderColor:"#E5E7EB",color:"#374151",borderRadius:"12px",textTransform:"none",fontWeight:700,"&:hover":{borderColor:s,color:s,bgcolor:"transparent"}},children:"Browse Files"})]})]})]}),e.jsx(o,{children:e.jsxs(o,{sx:{mt:2},children:[e.jsx(n,{variant:"body2",sx:{mb:2.5,fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"12px",letterSpacing:"1px"},children:"Gallery Collection (Max 10)"}),e.jsxs(dr,{onClick:t=>{document.getElementById("gall-in").click()},sx:{p:3,alignItems:U.length+M.length>0?"flex-start":"center",justifyContent:U.length+M.length>0?"flex-start":"center"},children:[e.jsx("input",{id:"gall-in",type:"file",hidden:!0,multiple:!0,accept:"image/*",onChange:t=>{const r=Array.from(t.target.files);if(U.length+M.length+r.length>10){alert("You can only upload a maximum of 10 images.");return}Ae(a=>[...a,...r]),t.target.value=null}}),U.length===0&&M.length===0?e.jsxs(e.Fragment,{children:[e.jsx(o,{sx:{width:70,height:70,borderRadius:"50%",bgcolor:"#E3F2FD",display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:e.jsx(Te,{sx:{color:"#2196F3",fontSize:36}})}),e.jsx(n,{variant:"h6",sx:{color:s,fontWeight:800},children:"Click to Upload Images"}),e.jsx(n,{variant:"caption",sx:{color:"#9CA3AF",fontWeight:600,mt:1},children:"Supported: JPG, PNG, WEBP"})]}):e.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",gap:2},onClick:t=>t.stopPropagation(),children:[U.map((t,r)=>e.jsxs(o,{sx:{width:80,height:80,borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #E5E7EB"},children:[e.jsx("img",{src:t,alt:`gallery-${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx(I,{size:"small",onClick:()=>ot(i=>i.filter((a,h)=>h!==r)),sx:{position:"absolute",top:2,right:2,bgcolor:"rgba(0,0,0,0.6)",color:"white",p:.5,"&:hover":{bgcolor:"#ef4444"}},children:e.jsx(oe,{sx:{fontSize:14}})})]},`exist-${r}`)),M.map((t,r)=>e.jsxs(o,{sx:{width:80,height:80,borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #E5E7EB"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`preview-${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx(I,{size:"small",onClick:()=>Ae(i=>i.filter((a,h)=>h!==r)),sx:{position:"absolute",top:2,right:2,bgcolor:"rgba(0,0,0,0.6)",color:"white",p:.5,"&:hover":{bgcolor:"#ef4444"}},children:e.jsx(oe,{sx:{fontSize:14}})})]},`new-${r}`)),U.length+M.length<10&&e.jsx(o,{onClick:()=>document.getElementById("gall-in").click(),sx:{width:80,height:80,borderRadius:"12px",border:`2px dashed ${c(s,.3)}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Te,{sx:{color:s}})})]})]})]})})]})]}),e.jsxs(L,{children:[e.jsx(J,{children:"Pricing & Intelligent Variations"}),e.jsx(Y,{children:"Configure smart pricing tiers based on user-selected preferences."}),e.jsxs(o,{sx:{mb:5,p:5,borderRadius:"32px",bgcolor:c(s,.01),border:`2.5px solid ${c(s,.05)}`,position:"relative",overflow:"hidden"},children:[e.jsx(o,{sx:{position:"absolute",top:0,right:0,width:"200px",height:"100%",background:`linear-gradient(to left, ${c(s,.03)}, transparent)`,pointerEvents:"none"}}),e.jsxs(n,{variant:"h6",sx:{mb:4,fontWeight:900,color:"#111827",display:"flex",alignItems:"center",justifyContent:"center",gap:2,fontSize:"20px",textAlign:"center"},children:[e.jsx(tr,{sx:{color:s}}),"Variant Configuration"]}),e.jsxs(o,{sx:{p:4,borderRadius:2,border:"1px solid #E5E7EB",bgcolor:"#FFFFFF"},children:[e.jsx(n,{sx:{fontWeight:700,fontSize:18,mb:1},children:"Variant Details"}),e.jsx(n,{sx:{color:"#6B7280",fontSize:14,mb:3},children:"Choose the Attributes & Input Values Of Each Attribute"}),e.jsx(re,{fullWidth:!0,children:e.jsx(q,{multiple:!0,value:de,onChange:t=>{const r=t.target.value;$t(r),ce(i=>({Weight:r.includes("Weight")?i.Weight:[],Ingredient:r.includes("Ingredient")?i.Ingredient:[]}))},renderValue:t=>e.jsx(o,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:t.map(r=>e.jsx(N,{label:r,sx:{fontWeight:700}},r))}),children:pe.map(t=>e.jsxs(j,{value:t,children:[e.jsx(se,{checked:de.includes(t)}),e.jsx($e,{primary:t})]},t))})}),e.jsxs(o,{sx:{mt:4},children:[e.jsx(n,{sx:{fontWeight:600,mb:2},children:"Values of Each Attribute"}),de.includes("Weight")&&e.jsxs(o,{sx:{display:"flex",alignItems:"flex-start",border:"1px solid #E5E7EB",borderRadius:2,mb:2,overflow:"hidden"},children:[e.jsx(o,{sx:{px:2.5,py:2,bgcolor:"#E5E7EB",fontWeight:700,minWidth:160},children:"Select Weight"}),e.jsxs(o,{sx:{p:2,flex:1},children:[e.jsxs(o,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[Ze.map(t=>{const r=k.Weight.includes(t),i=!jt.includes(t);return e.jsx(N,{label:t,onClick:()=>Re("Weight",r?k.Weight.filter(a=>a!==t):[...k.Weight,t]),onDelete:i?()=>_t(t):void 0,variant:r?"filled":"outlined",sx:{fontWeight:700,bgcolor:r?c(s,.15):void 0,color:r?s:void 0,borderColor:r?s:void 0}},t)}),!qe&&e.jsx(N,{label:"+ Add Weight",onClick:()=>ke(!0),sx:{fontWeight:800,color:s,border:`2px dashed ${c(s,.4)}`,bgcolor:c(s,.05),cursor:"pointer"}})]}),qe&&e.jsxs(o,{sx:{mt:2,p:2,borderRadius:2,border:`1.5px solid ${c(s,.3)}`,background:`linear-gradient(135deg, ${c(s,.05)}, #fff)`,display:"flex",alignItems:"center",gap:1.5,maxWidth:320},children:[e.jsx(mt,{size:"small",autoFocus:!0,placeholder:"e.g. 6 Kg",value:Xe,onChange:t=>Qe(t.target.value),sx:{flex:1}}),e.jsx(H,{variant:"contained",sx:{bgcolor:s,fontWeight:800},onClick:()=>{const t=Xe.trim();!t||Ze.includes(t)||(et(r=>[...r,t]),Re("Weight",[...k.Weight,t]),Qe(""),ke(!1))},children:"Add"}),e.jsx(I,{onClick:()=>ke(!1),children:e.jsx(oe,{})})]})]})]}),de.includes("Ingredient")&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",border:"1px solid #E5E7EB",borderRadius:1,overflow:"hidden"},children:[e.jsx(o,{sx:{px:2.5,py:1.5,bgcolor:"#E5E7EB",fontWeight:600,minWidth:160},children:"Select Ingredient"}),e.jsx(o,{sx:{p:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:Pe.Ingredient.map(t=>e.jsx(N,{label:t,onClick:()=>Re("Ingredient",k.Ingredient.includes(t)?k.Ingredient.filter(r=>r!==t):[...k.Ingredient,t]),variant:k.Ingredient.includes(t)?"filled":"outlined",sx:{fontWeight:600}},t))})]})]})]})]}),e.jsxs(o,{sx:{mb:6,p:5,borderRadius:"32px",background:`linear-gradient(180deg, #ffffff, ${c(s,.04)})`,border:`1.5px solid ${c(s,.15)}`,boxShadow:"0 20px 60px rgba(0,0,0,0.04)"},children:[e.jsxs(f,{container:!0,spacing:4,children:[e.jsxs(f,{item:!0,xs:12,md:4,children:[e.jsx(n,{sx:{mb:1.5,fontWeight:800,fontSize:"13px",textTransform:"uppercase",color:"#374151"},children:"Base Price"}),e.jsx(R,{fullWidth:!0,placeholder:"0.00",value:le,onChange:t=>At(t.target.value),InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,fontWeight:900,color:"#9CA3AF"},children:"₹"})}})]}),e.jsxs(f,{item:!0,xs:12,md:4,children:[e.jsx(n,{sx:{mb:1.5,fontWeight:800,fontSize:"13px",textTransform:"uppercase",color:"#374151"},children:"Discount Type"}),e.jsxs(q,{fullWidth:!0,value:G,onChange:t=>Rt(t.target.value),children:[e.jsx(j,{value:"no_discount",children:"No Discount"}),e.jsx(j,{value:"percentage",children:"Percentage (%)"}),e.jsx(j,{value:"flat",children:"Flat Amount (₹)"})]})]}),e.jsxs(f,{item:!0,xs:12,md:4,children:[e.jsx(n,{sx:{mb:1.5,fontWeight:800,fontSize:"13px",textTransform:"uppercase",color:"#374151"},children:"Discount Value"}),e.jsx(R,{fullWidth:!0,placeholder:G==="percentage"?"e.g. 10%":"e.g. 50",value:tt,onChange:t=>zt(t.target.value)})]})]}),e.jsx(Kt,{sx:{my:5}}),e.jsxs(o,{sx:{p:4,borderRadius:"24px",bgcolor:"#ffffff",border:`2px dashed ${c(s,.3)}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(o,{children:[e.jsx(n,{sx:{fontWeight:900,fontSize:"18px",color:"#111827"},children:"Billing Summary"}),e.jsx(n,{sx:{mt:.5,fontSize:"14px",color:"#6B7280"},children:"Final amount after discount"})]}),e.jsxs(o,{textAlign:"right",children:[G!=="no_discount"&&e.jsxs(n,{sx:{fontSize:"14px",fontWeight:700,color:"#6B7280",textDecoration:"line-through"},children:["₹ ",V.toFixed(2)]}),e.jsxs(n,{sx:{fontSize:"32px",fontWeight:900,color:s,lineHeight:1.1},children:["₹ ",K.toFixed(2)]}),G!=="no_discount"&&e.jsxs(n,{sx:{fontSize:"13px",fontWeight:700,color:"#16A34A"},children:["You save ₹ ",(V-K).toFixed(2)]})]})]})]}),Ie.length>0&&e.jsx(hr,{children:e.jsxs(rr,{children:[e.jsx(or,{children:e.jsxs(bt,{sx:{bgcolor:c(s,.02)},children:[e.jsx(X,{sx:{fontWeight:900,color:"#111827",fontSize:"14px",py:3,pl:4},children:"Variation Details"}),e.jsx(X,{sx:{fontWeight:900,color:"#111827",fontSize:"14px",py:3},children:"Market Listing Price"}),e.jsx(X,{sx:{fontWeight:900,color:"#111827",fontSize:"14px",py:3,pr:4},children:"Display Media"})]})}),e.jsx(sr,{children:Ie.map(t=>e.jsx(pr,{variation:t,onChange:(r,i)=>w(a=>a.map(h=>h.id===t.id?{...h,[r]:i}:h)),onImageUpload:r=>w(i=>i.map(a=>a.id===t.id?{...a,image:r}:a)),onDelete:()=>w(r=>r.filter(i=>i.id!==t.id))},t.id))})]})})]}),e.jsxs(L,{children:[e.jsxs(o,{sx:{mb:6,textAlign:"center"},children:[e.jsx(J,{sx:{fontSize:28},children:"Curated Boosters & Add-ons"}),e.jsx(Y,{sx:{maxWidth:720,mx:"auto",mt:1},children:"Group related extras to enhance the customer's celebration experience"})]}),it.length===0?e.jsxs(o,{sx:{textAlign:"center",p:4,bgcolor:"#F9FAFB",borderRadius:"20px",border:"1px dashed #E5E7EB"},children:[e.jsx(n,{variant:"h6",sx:{color:"#6B7280",fontWeight:700},children:"No Add-ons Available"}),e.jsx(n,{variant:"body2",sx:{color:"#9CA3AF",mt:1},children:'Create add-ons in the "Add-ons" management section to see them here.'})]}):e.jsx(f,{container:!0,spacing:4,children:it.map(t=>{const r=rt.find(l=>l.addonId===t._id),i=!!r,a=(r==null?void 0:r.selectedItems)||[],h=i&&a.length===0;return e.jsx(f,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(xr,{sx:{height:"100%",borderRadius:"24px",p:3,background:i?`linear-gradient(135deg, ${c(s,.05)}, #ffffff)`:"#FFFFFF",boxShadow:i?`0 8px 24px ${c(s,.25)}`:"0 12px 32px rgba(17,24,39,0.06)",border:i?`1.5px solid ${s}`:"1px solid #F1F5F9",position:"relative",transition:"all 0.25s ease","&:hover":{transform:"translateY(-2px)",boxShadow:`0 10px 26px ${c(s,.18)}`}},children:[e.jsxs(A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:900,color:i?"#111827":"#374151"},children:t.title}),e.jsx(se,{checked:i,onClick:()=>Mt(t._id),disableRipple:!0,sx:{p:0,color:"#CBD5E1","&.Mui-checked":{color:s}}})]}),e.jsxs(n,{variant:"caption",sx:{color:"#6B7280",display:"block",mb:2},children:[t.description&&t.description.substring(0,50),t.description&&t.description.length>50?"...":""]}),t.priceList&&t.priceList.length>0&&e.jsx(A,{spacing:1,sx:{mb:3},children:t.priceList.map(l=>{const x=h||a.includes(l._id);return e.jsxs(o,{onClick:p=>{p.stopPropagation(),Ot(t._id,l._id)},sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1.5,borderRadius:"12px",cursor:"pointer",bgcolor:x?c(s,.1):"#FFFFFF",border:"1px solid",borderColor:x?s:"#E5E7EB",transition:"all 0.2s","&:hover":{borderColor:s,bgcolor:c(s,.05)}},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:700,color:"#374151",fontSize:"13px"},children:l.name}),e.jsxs(n,{variant:"caption",sx:{fontWeight:800,color:x?"#FFF":s,bgcolor:x?s:"#FFF",px:1.5,py:.5,borderRadius:"8px",border:`1px solid ${s}`},children:["₹",l.price]})]},l._id)})}),e.jsx(o,{sx:{width:32,height:32,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:i?c(s,.15):"#F9FAFB",color:i?s:"#9CA3AF",mt:"auto"},children:t.icon?e.jsx("img",{src:t.icon,alt:"",style:{width:"20px",height:"20px",objectFit:"contain"}}):e.jsx(gt,{sx:{fontSize:18}})})]})},t._id)})})]}),e.jsxs(L,{children:[e.jsx(J,{children:"Delivery & Logistics"}),e.jsx(Y,{children:"Ensure your cake arrives safely with precise delivery controls."}),e.jsxs(f,{container:!0,spacing:4,children:[e.jsx(f,{item:!0,xs:12,md:6,children:e.jsxs(o,{sx:{p:4,borderRadius:"24px",border:"2px solid #F3F4F6",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.3s ease","&:hover":{borderColor:s,bgcolor:c(s,.01)}},children:[e.jsxs(A,{direction:"row",spacing:3,alignItems:"center",children:[e.jsx(o,{sx:{bgcolor:c(s,.1),p:2,borderRadius:"16px"},children:e.jsx(ar,{sx:{color:s}})}),e.jsxs(o,{children:[e.jsx(n,{sx:{fontWeight:900},children:"Complimentary Delivery"}),e.jsx(n,{variant:"caption",sx:{color:"#6B7280"},children:"Free for the customer"})]})]}),e.jsx(dt,{checked:W.free,onChange:t=>xe({...W,free:t.target.checked})})]})}),e.jsx(f,{item:!0,xs:12,md:6,children:e.jsxs(f,{container:!0,spacing:3,alignItems:"center",children:[e.jsx(f,{item:!0,xs:12,md:W.flatRate?7:12,children:e.jsxs(o,{sx:{p:4,borderRadius:"24px",border:`2px solid ${W.flatRate?s:"#F3F4F6"}`,display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.3s ease","&:hover":{borderColor:s,bgcolor:c(s,.01)}},children:[e.jsxs(A,{direction:"row",spacing:3,alignItems:"center",children:[e.jsx(o,{sx:{bgcolor:c(s,.1),p:2,borderRadius:"16px"},children:e.jsx(lr,{sx:{color:s}})}),e.jsxs(o,{children:[e.jsx(n,{sx:{fontWeight:900},children:"Standard Flat Rate"}),e.jsx(n,{variant:"caption",sx:{color:"#6B7280"},children:"Fixed cost per delivery"})]})]}),e.jsx(dt,{checked:W.flatRate,onChange:t=>xe({...W,flatRate:t.target.checked})})]})}),W.flatRate&&e.jsx(f,{item:!0,xs:12,md:5,children:e.jsxs(o,{sx:{p:3,borderRadius:"22px",background:`linear-gradient(135deg, ${c(s,.06)}, #ffffff)`,border:`1.5px solid ${c(s,.25)}`,boxShadow:`0 10px 30px ${c(s,.12)}`,transition:"all 0.3s ease","&:hover":{boxShadow:`0 14px 40px ${c(s,.18)}`}},children:[e.jsx(n,{variant:"caption",sx:{fontWeight:900,color:"#6B7280",letterSpacing:"1px",textTransform:"uppercase",mb:1,display:"block"},children:"Flat Rate Amount"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(o,{sx:{px:2,py:1,borderRadius:"12px",bgcolor:c(s,.15),color:s,fontWeight:900,fontSize:"16px"},children:"₹"}),e.jsx(R,{value:W.price,onChange:t=>xe({...W,price:t.target.value}),placeholder:"0.00",sx:{flex:1,"& .MuiOutlinedInput-root":{backgroundColor:"#fff"}}})]})]})})]})})]})]}),e.jsxs(L,{children:[e.jsx(J,{children:"Optimization & Search Visibility"}),e.jsx(Y,{children:"Boost discoverability with targeted keywords and meta-tags."}),e.jsxs(o,{children:[e.jsxs(n,{variant:"body2",sx:{mb:2,fontWeight:800,display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(ir,{sx:{color:s}})," Dynamic Search Tags (Use comma as separator)"]}),e.jsx(R,{fullWidth:!0,placeholder:"e.g. Birthday, Luxury Cake, Eggless, Anniversary Surprise",value:He,onChange:t=>ve(t.target.value)})]})]}),e.jsxs(L,{sx:{mb:8},children:[e.jsxs(o,{sx:{mb:4},children:[e.jsxs(n,{sx:{fontSize:"22px",fontWeight:900,color:"#111827"},children:["Frequently Bought Together",e.jsx(n,{component:"span",sx:{ml:1,fontWeight:600,color:"#6B7280",fontSize:"14px"},children:"(Related Products)"})]}),e.jsx(n,{sx:{mt:1,fontSize:"14px",color:"#6B7280"},children:"Suggest complementary items to increase order value."})]}),e.jsxs(o,{sx:{p:3,mb:4,borderRadius:"16px",bgcolor:"#F9FAFB",display:"flex",alignItems:"center",gap:4},children:[e.jsx(n,{sx:{fontWeight:800,color:"#374151"},children:"Link by:"}),e.jsxs(Ht,{row:!0,value:$,onChange:t=>{Ue(t.target.value),T([]),ee([])},children:[e.jsx(xt,{value:"product",control:e.jsx(ht,{sx:{"&.Mui-checked":{color:s}}}),label:e.jsx(n,{sx:{fontWeight:700},children:"Product"})}),e.jsx(xt,{value:"category",control:e.jsx(ht,{sx:{"&.Mui-checked":{color:s}}}),label:e.jsx(n,{sx:{fontWeight:700},children:"Category"})})]})]}),e.jsxs(o,{onClick:()=>{nt(),ie(!0)},sx:{p:6,borderRadius:"20px",border:`2px dashed ${c(s,.35)}`,bgcolor:"#FFFFFF",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease","&:hover":{bgcolor:c(s,.03),borderColor:s,transform:"translateY(-2px)"}},children:[e.jsx(o,{sx:{width:56,height:56,borderRadius:"50%",bgcolor:c(s,.12),display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:e.jsx(n,{sx:{fontSize:"28px",fontWeight:900,color:s},children:"+"})}),e.jsx(n,{sx:{fontSize:"18px",fontWeight:800,color:"#111827"},children:"Add Related Item"}),e.jsx(n,{sx:{mt:.5,fontSize:"13px",color:"#6B7280"},children:"Choose products or categories frequently bought together"})]}),E.length>0&&e.jsxs(o,{sx:{mt:4,display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{variant:"body2",sx:{fontWeight:800,color:"#374151",textTransform:"uppercase",fontSize:"11px",letterSpacing:"1px"},children:["Selected Items (",E.length,")"]}),e.jsx(f,{container:!0,spacing:2,children:E.map(t=>{var i;const r=kt.find(a=>a._id===t)||we.find(a=>a._id===t)||Ne.find(a=>a._id===t);return r?e.jsx(f,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",p:1.5,borderRadius:"16px",bgcolor:"#F9FAFB",border:"1px solid #E5E7EB",position:"relative",transition:"all 0.2s","&:hover":{borderColor:s,bgcolor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"}},children:[e.jsx(o,{sx:{width:50,height:50,borderRadius:"10px",overflow:"hidden",flexShrink:0,bgcolor:"#fff",border:"1px solid #eee"},children:e.jsx("img",{src:r.thumbnail||(r.image?r.image.startsWith("http")?r.image:`${v}${r.image}`:"/placeholder.png"),alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(o,{sx:{ml:2,flex:1,minWidth:0},children:[e.jsx(n,{noWrap:!0,sx:{fontWeight:800,fontSize:"13px",color:"#111827"},children:r.name||r.title}),e.jsx(n,{variant:"caption",sx:{color:"#6B7280"},children:r.price?`₹${r.price}`:((i=r.module)==null?void 0:i.title)||"Related"})]}),e.jsx(I,{size:"small",onClick:()=>{T(a=>a.filter(h=>h!==t)),D(a=>a.filter(h=>h._id!==t))},sx:{ml:1,color:"#9CA3AF","&:hover":{color:"#EF4444",bgcolor:c("#EF4444",.1)}},children:e.jsx(oe,{sx:{fontSize:16}})})]})},t):null})})]}),e.jsxs(o,{sx:{mt:6,pt:4,borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end",gap:2.5},children:[e.jsx(H,{variant:"outlined",onClick:Lt,sx:{px:6,py:1.8,borderRadius:"18px",textTransform:"none",fontWeight:900,fontSize:"15px",color:"#374151",borderColor:"#D1D5DB","&:hover":{borderColor:s,color:s,bgcolor:c(s,.04)}},children:"Reset Form"}),e.jsx(H,{variant:"contained",onClick:Nt,disabled:_e,sx:{bgcolor:s,borderRadius:"18px",px:7,py:1.9,textTransform:"none",fontWeight:900,fontSize:"16px",boxShadow:`0px 18px 40px ${c(s,.4)}`,"&:hover":{bgcolor:"#D81B60",boxShadow:`0px 22px 50px ${c(s,.5)}`}},children:_e?e.jsx(ze,{size:24,color:"inherit"}):"Publish Package"})]})]})]}),e.jsxs(Jt,{open:wt,onClose:()=>ie(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Yt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[C&&e.jsx(I,{size:"small",onClick:Pt,sx:{mr:1},children:e.jsx(pt,{})}),e.jsx(n,{variant:"h6",sx:{fontWeight:800},children:C?`Packages in ${C.title}`:`Select ${$==="product"?"Products":"Categories"}`})]}),e.jsx(I,{onClick:()=>ie(!1),size:"small",children:e.jsx(oe,{})})]}),e.jsx(qt,{dividers:!0,children:Bt?e.jsx(o,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ze,{color:"inherit",sx:{color:s}})}):e.jsxs(e.Fragment,{children:[C&&e.jsxs(o,{sx:{mb:3,p:2,borderRadius:"16px",bgcolor:c(s,.03),border:`1px dashed ${s}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(o,{children:[e.jsx(n,{sx:{fontWeight:800,color:"#111827"},children:"Link Entire Category"}),e.jsxs(n,{variant:"caption",sx:{color:"#6B7280"},children:['Add "',C.title,'" to related items']})]}),e.jsx(se,{checked:E.includes(C._id),onChange:()=>T(t=>t.includes(C._id)?t.filter(r=>r!==C._id):[...t,C._id]),sx:{color:s,"&.Mui-checked":{color:s}}})]}),we.length===0?e.jsx(o,{sx:{py:4,textAlign:"center"},children:e.jsx(n,{sx:{color:"#6B7280",fontWeight:600},children:C?"No packages found in this category":`No ${$}s found`})}):e.jsx(f,{container:!0,spacing:2,children:we.map(t=>{var h,l;const r=t._id,i=$==="category"&&!C,a=E.includes(r);return e.jsx(f,{item:!0,xs:12,children:e.jsxs(o,{onClick:()=>{i?Dt(t):E.includes(r)?(T(p=>p.filter(b=>b!==r)),D(p=>p.filter(b=>b._id!==r))):(T(p=>[...p,r]),D(p=>[...p,t]))},sx:{display:"flex",gap:2,p:2,borderRadius:"14px",cursor:"pointer",border:a?`2px solid ${s}`:"1px solid #E5E7EB",bgcolor:a?c(s,.06):"#FFFFFF",transition:"all 0.25s ease","&:hover":{borderColor:s,boxShadow:`0 4px 12px ${c(s,.1)}`}},children:[e.jsx(o,{sx:{width:60,height:60,borderRadius:"10px",overflow:"hidden",flexShrink:0,bgcolor:"#F3F4F6"},children:e.jsx("img",{src:i?t.image?`${v}${t.image}`:"/placeholder.png":t.thumbnail||"/placeholder.png",alt:t.title||t.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(o,{sx:{flex:1,minWidth:0},children:[e.jsx(n,{noWrap:!0,sx:{fontWeight:800,fontSize:"14px",color:"#111827",mb:.5},children:t.title||t.name}),e.jsx(n,{noWrap:!0,sx:{fontSize:"12px",color:"#6B7280"},children:i?((h=t.module)==null?void 0:h.title)||"Category":((l=t.category)==null?void 0:l.title)||"Package"})]}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.price&&e.jsxs(n,{sx:{fontWeight:900,color:s,mr:1},children:["₹",t.price]}),i?e.jsx(pt,{sx:{transform:"rotate(180deg)",color:"#CBD5E1",fontSize:20}}):e.jsx(o,{sx:{width:22,height:22,borderRadius:"6px",border:`2px solid ${a?s:"#D1D5DB"}`,bgcolor:a?s:"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:14},children:a&&"✓"})]})]})},r)})})]})}),e.jsx(Xt,{sx:{p:2,bgcolor:"#F9FAFB"},children:e.jsxs(H,{fullWidth:!0,variant:"contained",onClick:()=>ie(!1),sx:{bgcolor:s,color:"#fff",borderRadius:"14px",py:1.5,fontWeight:900,textTransform:"none",boxShadow:`0 8px 20px ${c(s,.3)}`,"&:hover":{bgcolor:"#D81B60",boxShadow:`0 10px 25px ${c(s,.4)}`}},children:["Confirm Selection (",E.length,")"]})})]})]})};export{Fr as default};
