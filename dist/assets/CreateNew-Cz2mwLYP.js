import{c as Ce,j as e,u as cs,i as us,aj as hs,w as gs,ai as ps,r as s,h as H,B as i,b as Ue,ak as xs,T as n,t as Fa,p as U,W as de,s as x,am as fs,S as G,F as v,I as k,ag as A,$ as l,at as ce,f as m,an as T,C as Q,G as $,al as ms,g as ue,ao as bs,x as js}from"./index-C4aZzemC.js";import{D as Ma}from"./DirectionsCar-B5bpIElV.js";import{C as Ot}from"./CloudUpload-DQlXTxqS.js";import{S as Ra,W as Da}from"./Wifi-D8dDw-G8.js";import{S as ys}from"./Settings-O1XfCFn8.js";const La=Ce(e.jsx("path",{d:"M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2z"})),vs=Ce(e.jsx("path",{d:"M17 6h-2V3c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v3H7c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2 0 .55.45 1 1 1s1-.45 1-1h6c0 .55.45 1 1 1s1-.45 1-1c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M9.5 18H8V9h1.5zm3.25 0h-1.5V9h1.5zm.75-12h-3V3.5h3zM16 18h-1.5V9H16z"})),Cs=Ce(e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"})),Ss=Ce(e.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2m0 14H3V5h18z"})),ws=Ce(e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"})),Ut=fs(i)(({theme:h})=>({border:"2px dashed #e0e0e0",borderRadius:h.shape.borderRadius,padding:h.spacing(3),textAlign:"center",backgroundColor:h.palette.grey[50],cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px","&:hover":{borderColor:h.palette.primary.main},'& input[type="file"]':{display:"none"}})),Ns=()=>{const h=cs(),N=us(h.breakpoints.down("md")),ae=hs(),Ge=gs(),{id:he}=ps(),Ze=s.useRef(null),I=s.useRef(null),qe=s.useRef(null),[Se,Ye]=s.useState(""),[we,Gt]=s.useState(""),[Je,Zt]=s.useState(""),[Xe,qt]=s.useState(""),[Qe,Yt]=s.useState(""),[et,Jt]=s.useState(""),[ke,tt]=s.useState("normal"),[ge,at]=s.useState(""),[st,Xt]=s.useState("no"),[_a,Va]=s.useState("no"),[Qt,Ha]=s.useState(""),[Ae,ea]=s.useState(""),[rt,ta]=s.useState(""),[nt,aa]=s.useState(""),[it,sa]=s.useState(""),[ot,ra]=s.useState(""),[lt,na]=s.useState(""),[dt,ia]=s.useState(""),[ct,oa]=s.useState(""),[b,la]=s.useState({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),[f,da]=s.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),P="https://api.bookmyevent.ae/api",ut="AIzaSyAfLUm1kPmeMkHh1Hr5nbgNpQJOsNa7B78",se=localStorage.getItem("moduleId");s.useMemo(()=>{var t;return(t=ae.state)==null?void 0:t.vehicle},[ae.state]);const ca=s.useMemo(()=>{var t,r;return(r=(t=ae.state)==null?void 0:t.vehicle)==null?void 0:r._id},[ae.state]),pe=s.useMemo(()=>{var t,r;return he||((r=(t=ae.state)==null?void 0:t.vehicle)==null?void 0:r._id)||""},[he,ca]),$a=s.useMemo(()=>pe?"edit":"create",[pe]),[xe,ht]=s.useState($a),[Ie,gt]=s.useState(""),[ua,pt]=s.useState(""),[ee,xt]=s.useState(null),[Z,Ee]=s.useState([]),[Pe,ft]=s.useState(""),[We,mt]=s.useState(""),[Na,ha]=s.useState(""),[Te,bt]=s.useState(""),[fe,jt]=s.useState(""),[ze,yt]=s.useState(""),[me,be]=s.useState("yes"),[Be,vt]=s.useState(""),[ga,pa]=s.useState(""),[L,xa]=s.useState("hourly"),[Ct,fa]=s.useState(""),[St,ma]=s.useState(""),[wt,ba]=s.useState(""),[Fe,kt]=s.useState(""),[z,je]=s.useState({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),[re,At]=s.useState(""),[B,q]=s.useState([{heading:"",points:[""]}]),[It,Me]=s.useState([]),[Re,Et]=s.useState(""),[Ka,C]=s.useState(!1),[Oa,S]=s.useState(""),[ja,w]=s.useState("success"),[Pt,Wt]=s.useState([]),[Tt,ya]=s.useState([]),[ks,Ua]=s.useState([]),[va,As]=s.useState({}),[Is,Es]=s.useState(""),[Ps,Ws]=s.useState(""),[Ts,zs]=s.useState(""),[Bs,Fs]=s.useState(""),[Ms,Rs]=s.useState(""),[zt,Ga]=s.useState(""),[Ds,Za]=s.useState({}),[Ca,Bt]=s.useState([]),[_,Ft]=s.useState([]),[qa,te]=s.useState([]),[W,De]=s.useState(""),[Le,ye]=s.useState(""),Mt=!!W,[ne,Rt]=s.useState([]),[Dt,Sa]=s.useState(!1),[_e,F]=s.useState(!1),[Ve,Lt]=s.useState(""),[ve,_t]=s.useState([]),[He,ie]=s.useState(""),[M,oe]=s.useState(""),[R,le]=s.useState(""),[Vt,wa]=s.useState(""),[K,ka]=s.useState(!1),[j,Aa]=s.useState(null),O=s.useMemo(()=>{var r;if(!W||!_.length)return!1;const t=_.find(o=>o._id===W);return console.log("Category check (Bus):",t==null?void 0:t.title),(r=t==null?void 0:t.title)==null?void 0:r.toLowerCase().includes("bus")},[W,_]),$e=s.useMemo(()=>{var r,o;if(!W||!_.length)return!1;const t=_.find(a=>a._id===W);return console.log("Category check (Car):",t==null?void 0:t.title),((r=t==null?void 0:t.title)==null?void 0:r.toLowerCase().includes("car"))||((o=t==null?void 0:t.title)==null?void 0:o.toLowerCase().includes("vehicle"))},[W,_]),Ya=t=>{const r=Array.from(t.target.files);Bt(o=>[...o,...r])},Ja=t=>{t.preventDefault();const r=Array.from(t.dataTransfer.files);Bt(o=>[...o,...r])};s.useEffect(()=>{if(window.google&&window.google.maps){ka(!0);return}const t=document.createElement("script");return t.src=`https://maps.googleapis.com/maps/api/js?key=${ut}&libraries=places`,t.async=!0,t.defer=!0,t.onload=()=>{ka(!0)},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[ut]),s.useEffect(()=>{K&&window.google&&window.google.maps&&Xa()},[K]);const Xa=s.useCallback(()=>{if(!window.google||!Ze.current||!K)return;const t=M&&R?parseFloat(M):20.5937,r=M&&R?parseFloat(R):78.9629,o={lat:t,lng:r},a=new window.google.maps.Map(Ze.current,{zoom:12,center:o});a.addListener("click",d=>{const p=d.latLng.lat(),c=d.latLng.lng();oe(p.toString()),le(c.toString()),I.current&&I.current.setMap(null),I.current=new window.google.maps.Marker({position:{lat:p,lng:c},map:a}),new window.google.maps.Geocoder().geocode({location:{lat:p,lng:c}},(D,V)=>{V==="OK"&&D[0]?(ie(D[0].formatted_address),S("Location set and address auto-filled!"),w("success"),C(!0)):(S("Location set, but could not determine address."),w("info"),C(!0))})}),Aa(a)},[K,M,R]);s.useEffect(()=>{if(!K||!j||!qe.current||!window.google)return;const t=new window.google.maps.places.Autocomplete(qe.current,{fields:["place_id","geometry","name","formatted_address"]}),r=t.addListener("place_changed",()=>{const o=t.getPlace();if(!o.geometry||!o.geometry.location)return;const a=o.geometry.location;o.geometry.viewport?j.fitBounds(o.geometry.viewport):(j.setCenter(a),j.setZoom(17)),I.current&&I.current.setMap(null),I.current=new window.google.maps.Marker({position:a,map:j}),oe(a.lat().toString()),le(a.lng().toString()),ie(o.formatted_address||o.name),S("Location selected!"),w("success"),C(!0)});return()=>{window.google&&window.google.maps.event&&window.google.maps.event.removeListener(r)}},[K,j]),s.useEffect(()=>{if(!j||!M||!R)return;const t={lat:parseFloat(M),lng:parseFloat(R)};j.setCenter(t),j.setZoom(12),I.current?I.current.setPosition(t):I.current=new window.google.maps.Marker({position:t,map:j})},[M,R,j]),s.useEffect(()=>{if(!fe||!K||!window.google||!window.google.maps)return;new window.google.maps.Geocoder().geocode({address:fe},(r,o)=>{if(o==="OK"&&r[0]){const a=r[0].geometry.location,d=a.lat().toString(),p=a.lng().toString();oe(d),le(p),ie(r[0].formatted_address),j&&(j.setCenter({lat:a.lat(),lng:a.lng()}),j.setZoom(12),I.current&&I.current.setMap(null),I.current=new window.google.maps.Marker({position:{lat:a.lat(),lng:a.lng()},map:j})),S(`Location set for ${fe}!`),w("success"),C(!0)}else S(`Could not find location for ${fe}`),w("warning"),C(!0)})},[fe,K,j]);const Ne=s.useCallback(t=>{var d,p,c,E,D,V,Y,J,X,u,y,Oe,Pa,Wa,Ta,za,Ba;if(console.log("Setting vehicle data:",t),t.brand&&t.brand._id&&!Pt.some(g=>g._id===t.brand._id)&&Wt(g=>[...g,{_id:t.brand._id,title:t.brand.title||t.brand.name||"Unknown Brand"}]),Ga(((d=t.advanceBookingAmount)==null?void 0:d.toString())||""),(c=(p=t.category)==null?void 0:p.parentCategory)!=null&&c._id){const g=t.category.parentCategory._id;De(g),ye(t.category._id),H.get(`${P}/categories/parents/${g}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(ds=>te(ds.data.data||[])).catch(()=>te([]))}t.termsAndConditions&&Array.isArray(t.termsAndConditions)&&t.termsAndConditions.length>0?q(t.termsAndConditions.map(g=>({heading:g.heading||"",points:Array.isArray(g.points)&&g.points.length>0?g.points:[""]}))):q([{heading:"",points:[""]}]);let r="";Array.isArray(t.category)&&t.category.length>0?(r=t.category[0]._id,Tt.some(g=>g._id===r)||ya(g=>[...g,{_id:r,title:t.category[0].title||"Unknown Category"}])):t.category&&typeof t.category=="object"&&t.category._id?(r=t.category._id,Tt.some(g=>g._id===r)||ya(g=>[...g,{_id:r,title:t.category.title||"Unknown Category"}])):typeof t.category=="string"&&(r=t.category),t.zone&&t.zone._id&&!ne.some(g=>g._id===t.zone._id)&&Rt(g=>[...g,{_id:t.zone._id,name:t.zone.name||"Unknown Zone"}]),gt(t.name||""),pt(t.description||""),ft(((E=t.brand)==null?void 0:E._id)||""),ha(r),console.log("Category ID being set:",r);const o=((D=t.zone)==null?void 0:D._id)||"";bt(o);const a=ne.find(g=>g._id===o)||t.zone&&{name:t.zone.name};jt(a?a.name:""),mt(t.model||""),yt(((V=t.seatingCapacity)==null?void 0:V.toString())||""),be(t.airCondition?"yes":"no"),vt(t.licensePlateNumber||""),Me(t.searchTags||[]),ie(t.venueAddress||""),oe(((Y=t.latitude)==null?void 0:Y.toString())||""),le(((J=t.longitude)==null?void 0:J.toString())||""),wa(t.operatingHours||""),console.log("Operating hours being set:",t.operatingHours),t.pricing&&(xa(t.pricing.type||"hourly"),fa(((X=t.pricing.hourly)==null?void 0:X.toString())||""),ma(((u=t.pricing.perDay)==null?void 0:u.toString())||""),ba(((y=t.pricing.distanceWise)==null?void 0:y.toString())||"")),kt(((Oe=t.discount)==null?void 0:Oe.toString())||""),je({driverIncluded:((Pa=t.features)==null?void 0:Pa.driverIncluded)??!1,sunroof:((Wa=t.features)==null?void 0:Wa.sunroof)??!1,decorationAvailable:((Ta=t.features)==null?void 0:Ta.decorationAvailable)??!1}),At(((Ba=(za=t.features)==null?void 0:za.decorationPrice)==null?void 0:Ba.toString())||"")},[Pt,Tt,ne]);s.useEffect(()=>()=>{Z.forEach(t=>URL.revokeObjectURL(t))},[Z]),s.useEffect(()=>{(async()=>{var r,o,a,d,p;try{if(!se)throw new Error("Module ID is not defined. Please log in or set moduleId in localStorage.");const c=localStorage.getItem("token"),[E,D,V]=await Promise.all([H.get(`${P}/brands/module/${se}`,{headers:{Authorization:`Bearer ${c}`}}),H.get(`${P}/categories/parents/${se}`,{headers:{Authorization:`Bearer ${c}`}}),H.get(`${P}/zones`,{headers:{Authorization:`Bearer ${c}`,Accept:"application/json"}})]);Ft(((r=D.data)==null?void 0:r.data)||[]);const Y=Array.isArray(E.data)?E.data:E.data.data||[];Wt(Y);const J=((o=D.data)==null?void 0:o.data)||[];Ft(J);const X=V.data.data||V.data||[],u=Array.isArray(X)?X.filter(y=>y.isActive).map(y=>({_id:y._id,name:y.name})):[];Rt(u),console.log("Module ID:",se),console.log("Brands:",Y),console.log("Parent Categories:",J),console.log("Zones:",u),Sa(!0)}catch(c){console.error("Error fetching brands/categories/zones:",((a=c.response)==null?void 0:a.data)||c),Wt([]),Ft([]),Rt([]),Sa(!0),S(((p=(d=c.response)==null?void 0:d.data)==null?void 0:p.message)||"Failed to fetch brands, categories, or zones"),w("error"),C(!0)}})()},[se,P]),s.useEffect(()=>{if(_.length>0&&!W&&xe==="create"){const t=_[0];De(t._id),H.get(`${P}/categories/parents/${t._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(r=>{const o=r.data.data||[];te(o),o.length>0&&ye(o[0]._id)}).catch(r=>{console.error("Failed to fetch subcategories:",r),te([])})}},[_,W,xe,P]),s.useEffect(()=>{(async()=>{var r;try{const d=(((r=(await H.get(`${P}/vehicle-attributes`)).data)==null?void 0:r.data)||[]).filter(c=>c.status),p={};d.forEach(c=>{p[c.title.toLowerCase()]=c.values||[]}),Ua(d),Za(p),console.log("âœ… Vehicle Attributes Loaded:",d)}catch(o){console.error("âŒ Failed to load vehicle attributes",o)}})()},[P]),s.useEffect(()=>{var r;if(!Dt)return;const t=(r=ae.state)==null?void 0:r.vehicle;t?(Ne(t),Lt(t.thumbnail||""),_t(t.images||[]),ht("edit")):he&&(async()=>{var a,d,p;F(!0);try{const c=await H.get(`${P}/vehicles/${he}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),E=c.data.data||c.data;console.log("Vehicle data fetched for edit:",E),Ne(E),Lt(E.thumbnail||""),_t(E.images||[]),ht("edit")}catch(c){S(((d=(a=c.response)==null?void 0:a.data)==null?void 0:d.message)||"Failed to fetch vehicle data"),w("error"),C(!0),console.error("Error fetching vehicle:",((p=c.response)==null?void 0:p.data)||c)}finally{F(!1)}})()},[Dt,he,Ne]);const Qa=async t=>{const r=t.target.value;if(De(r),ye(""),te([]),!!r)try{const o=await H.get(`${P}/categories/parents/${r}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});te(o.data.data||[])}catch(o){console.error("Failed to fetch sub categories",o),te([])}},es=s.useCallback(t=>{const r=t.target.files[0];r&&xt(r)},[]),Ia=s.useCallback(t=>{t.preventDefault()},[]),ts=s.useCallback(t=>{t.preventDefault();const r=t.dataTransfer.files[0];r&&xt(r)},[]),as=s.useCallback(t=>{const r=Array.from(t.target.files);Ee(o=>[...o,...r])},[]),ss=s.useCallback(t=>{t.preventDefault();const r=Array.from(t.dataTransfer.files);Ee(o=>[...o,...r])},[]),rs=s.useCallback(t=>{Et(t.target.value)},[]),ns=s.useCallback(t=>{t.key==="Enter"&&Re.trim()&&(Me(r=>[...r,Re.trim()]),Et(""),t.preventDefault())},[Re]),is=s.useCallback(t=>{Me(r=>r.filter(o=>o!==t))},[]),Ht=()=>(pa(""),!0),$t=s.useCallback(()=>{gt(""),pt(""),ie(""),ft(""),mt(""),ha(""),bt(""),jt(""),De(""),ye(""),xt(null),Ee([]),Lt(""),_t([]),yt(""),be("yes"),vt(""),pa(""),Ye(""),Gt(""),Zt(""),qt(""),Yt(""),Jt(""),at(""),Xt("no"),Ha(""),je({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),la({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),da({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),ea(""),ta(""),aa(""),sa(""),ra(""),na(""),ia(""),oa(""),tt("normal"),xa("hourly"),fa(""),ma(""),ba(""),kt(""),At(""),Me([]),Et(""),oe(""),le(""),wa(""),ht("create"),I.current&&(I.current.setMap(null),I.current=null),j&&Aa(null)},[j]),os=s.useCallback(async t=>{var p,c,E,D,V,Y,J,X;t.preventDefault();const r=xe==="edit";if(F(!0),!Ie||!Pe||!We||!W||!Le||!Te||!ze||!Be||!L||!He||!M||!R){S("Please fill all required fields."),w("error"),C(!0),F(!1);return}if(z.decorationAvailable&&(!re||parseFloat(re)<=0)){S("Please provide a valid decoration price when decoration is available."),w("error"),C(!0),F(!1);return}if(L==="hourly"&&!Ct||L==="perDay"&&!St||L==="distanceWise"&&!wt){S(`Please provide a price for ${L} trip type.`),w("error"),C(!0),F(!1);return}if(!ee&&!Ve&&!r){S("Please upload a thumbnail image."),w("error"),C(!0),F(!1);return}if(Z.length===0&&ve.length===0&&!r){S("Please upload at least one vehicle image."),w("error"),C(!0),F(!1);return}if(Ht(),!B.length||!B[0].heading){S("Please add at least one Terms & Conditions section."),w("error"),C(!0),F(!1);return}const o=localStorage.getItem("token");if(!o){S("No authentication token found. Please log in."),w("error"),C(!0),F(!1);return}const a=new FormData;a.append("transmissionType",Se),a.append("enginePower",we?parseInt(we):""),a.append("name",Ie),a.append("description",ua),a.append("brand",Pe),a.append("category",W),a.append("subCategories[]",Le),a.append("zone",Te),a.append("model",We),a.append("seatingCapacity",parseInt(ze)),a.append("airCondition",me==="yes"),a.append("features[driverIncluded]",z.driverIncluded),a.append("features[sunroof]",z.sunroof),a.append("features[decorationAvailable]",z.decorationAvailable),z.decorationAvailable&&re&&a.append("decorationPrice",parseFloat(re)),$e&&(a.append("vehicleType",et),a.append("engineCapacity",Je),a.append("torque",Xe),a.append("mileage",Qe),a.append("fuelType",ge),a.append("interiorLighting",ke),a.append("carFeatures[leatherSeats]",b.leatherSeats),a.append("carFeatures[adjustableSeats]",b.adjustableSeats),a.append("carFeatures[armrest]",b.armrest),a.append("carFeatures[musicSystem]",b.musicSystem),a.append("carFeatures[bluetooth]",b.bluetooth),a.append("carFeatures[usbAux]",b.usbAux),a.append("carFeatures[airbags]",b.airbags),a.append("carFeatures[abs]",b.abs),a.append("carFeatures[rearCamera]",b.rearCamera),a.append("carFeatures[parkingSensors]",b.parkingSensors),a.append("carFeatures[powerWindows]",b.powerWindows),a.append("carFeatures[centralLock]",b.centralLock),a.append("carFeatures[keylessEntry]",b.keylessEntry),a.append("carFeatures[wifi]",b.wifi),a.append("carFeatures[chargingPoints]",b.chargingPoints),a.append("basicPackagePrice",Ae),a.append("hoursIncluded",rt),a.append("kmIncluded",nt),a.append("additionalPricePerKm",it),a.append("afterKilometer",ot),a.append("discountType",lt),a.append("advanceType",dt),a.append("advanceAmount",ct)),O&&(a.append("pushbackSeats",st),a.append("airConditionZone",Qt),a.append("fuelType",ge),a.append("busFeatures[curtains]",f.curtains),a.append("busFeatures[readingLights]",f.readingLights),a.append("busFeatures[musicSystem]",f.musicSystem),a.append("busFeatures[microphone]",f.microphone),a.append("busFeatures[fireExtinguisher]",f.fireExtinguisher),a.append("busFeatures[firstAidKit]",f.firstAidKit),a.append("busFeatures[luggageCarrier]",f.luggageCarrier),a.append("busFeatures[wifi]",f.wifi),a.append("busFeatures[chargingPoints]",f.chargingPoints),a.append("busFeatures[footRest]",f.footRest),a.append("busFeatures[bottleHolder]",f.bottleHolder),a.append("busFeatures[ledDisplay]",f.ledDisplay),a.append("busFeatures[tvScreen]",f.tvScreen),a.append("busFeatures[ledEmergencyExit]",f.ledEmergencyExit),a.append("busFeatures[cctv]",f.cctv),a.append("busFeatures[overheadStorage]",f.overheadStorage)),a.append("attributes",JSON.stringify(va)),a.append("licensePlateNumber",Be),a.append("termsAndConditions",JSON.stringify(B)),a.append("venueAddress",He),a.append("latitude",parseFloat(M)),a.append("longitude",parseFloat(R)),Vt&&a.append("operatingHours",Vt),a.append("pricing[type]",L),a.append("pricing[hourly]",L==="hourly"&&parseFloat(Ct)||0),a.append("pricing[perDay]",L==="perDay"&&parseFloat(St)||0),a.append("pricing[distanceWise]",L==="distanceWise"&&parseFloat(wt)||0),Fe&&a.append("discount",parseFloat(Fe)),zt&&a.append("advanceBookingAmount",parseFloat(zt)),It.forEach(u=>a.append("searchTags[]",u)),ee&&a.append("thumbnail",ee),Z.forEach(u=>a.append("images",u));const d={};for(let[u,y]of a.entries())d[u]=y instanceof File?y.name:y;console.log("FormData:",d);try{let u,y;if(r){if(!pe)throw new Error("Invalid vehicle ID for update");u=await H.put(`${P}/vehicles/${pe}`,a,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),y=u.data.data||u.data}else u=await H.post(`${P}/vehicles`,a,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),y=u.data.data||u.data;console.log("API Response:",u.data),S(r?"Vehicle updated successfully!":"Vehicle added successfully!"),w("success"),C(!0),$t(),r&&Ge("/vehicle-setup/lists",{state:{vehicle:y}})}catch(u){console.error("API Error:",{status:(p=u.response)==null?void 0:p.status,statusText:(c=u.response)==null?void 0:c.statusText,data:(E=u.response)==null?void 0:E.data,headers:(D=u.response)==null?void 0:D.headers,message:u.message});let y=((Y=(V=u.response)==null?void 0:V.data)==null?void 0:Y.message)||"Failed to save vehicle";(X=(J=u.response)==null?void 0:J.data)!=null&&X.errors&&(y=u.response.data.errors.map(Oe=>Oe.msg).join(", ")),S(y),w("error"),C(!0)}finally{F(!1)}},[xe,pe,Ie,Pe,We,Na,Te,ze,me,z,re,Be,L,Ct,St,wt,Fe,It,ee,Z,Ve,ve,Ht,$t,Ge,P,se,Dt,ca,Ne,He,M,R,Vt,W,Le,va,zt,B,$e,O,Se,we,Je,Xe,Qe,et,ke,ge,st,Qt,b,f,Ae,rt,nt,it,ot,lt,dt,ct]),Ea=s.useCallback((t,r)=>{r!=="clickaway"&&C(!1)},[]),Ke=xe==="edit",ls=s.useCallback(t=>{const r=t.target.value;bt(r);const o=ne.find(a=>a._id===r);jt(o?o.name:"")},[ne]),Nt=t=>r=>{la(o=>({...o,[t]:r.target.checked}))},Kt=t=>r=>{da(o=>({...o,[t]:r.target.checked}))};return e.jsxs(i,{sx:{p:N?2:3,backgroundColor:h.palette.grey[100],minHeight:"100vh",width:"100%"},children:[e.jsxs(i,{sx:{maxWidth:"lg",margin:"auto",backgroundColor:"white",borderRadius:h.shape.borderRadius,boxShadow:h.shadows[1],p:N?2:3,overflowX:"hidden"},children:[e.jsx(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[Ke&&e.jsx(Ue,{onClick:()=>Ge("/vehicle-setup/lists"),color:"primary",children:e.jsx(xs,{})}),e.jsx(Ma,{sx:{fontSize:24,mr:1}}),e.jsx(n,{variant:"h5",component:"h1",children:Ke?"Edit Vehicle":"Add New Vehicle"})]})}),e.jsx(n,{variant:"subtitle1",color:"text.secondary",sx:{mb:4},children:"Insert the basic information of the vehicle"}),_e&&e.jsx(i,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx(Fa,{})}),e.jsxs(i,{component:"form",onSubmit:os,children:[e.jsxs(i,{sx:{display:"flex",flexDirection:N?"column":"row",gap:3,mb:4},children:[e.jsx(U,{sx:{flex:N?"auto":2,p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(de,{sx:{"&:last-child":{pb:2}},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"General Information"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the basic information of the vehicle"}),e.jsx(x,{fullWidth:!0,label:"Vehicle Name*",variant:"outlined",value:Ie,onChange:t=>gt(t.target.value),placeholder:"Type vehicle name",sx:{mb:2},required:!0}),e.jsx(x,{fullWidth:!0,label:"Short Description",variant:"outlined",multiline:!0,rows:4,value:ua,onChange:t=>pt(t.target.value),placeholder:"Type short description",sx:{mb:2}})]})}),e.jsx(U,{sx:{flex:N?"auto":1,p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(de,{sx:{"&:last-child":{pb:2}},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Vehicle Thumbnail*"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"JPG, JPEG, PNG Less Than 1MB (Ratio 2:1)"}),e.jsxs(Ut,{onDragOver:Ia,onDrop:ts,onClick:()=>document.getElementById("thumbnail-upload").click(),children:[ee?e.jsxs(i,{children:[e.jsx("img",{src:URL.createObjectURL(ee),alt:"Thumbnail preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:h.spacing(1)}}),e.jsx(n,{variant:"body2",color:"text.secondary",children:ee.name})]}):Ve?e.jsxs(i,{children:[e.jsx("img",{src:Ve,alt:"Existing thumbnail",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:h.spacing(1),borderColor:"#E15B65"}}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Existing thumbnail. Upload to replace."})]}):e.jsxs(i,{children:[e.jsx(Ot,{sx:{fontSize:40,color:"#E15B65",mb:1}}),e.jsx(n,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),e.jsx(n,{variant:"body2",color:"#E15B65",children:"Or drag and drop"})]}),e.jsx("input",{type:"file",id:"thumbnail-upload",hidden:!0,accept:"image/jpeg,image/png,image/jpg",onChange:es})]})]})})]}),e.jsx(i,{sx:{mb:4},children:e.jsx(U,{sx:{p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(de,{sx:{"&:last-child":{pb:2}},children:[e.jsxs(n,{variant:"h6",gutterBottom:!0,children:["Images",e.jsx("span",{style:{color:"#E15B65"},children:"*"})]}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload high quality images (JPG, JPEG, PNG â€¢ Max 1MB â€¢ Ratio 2:1)"}),e.jsxs(Ut,{onDragOver:Ia,onDrop:ss,onClick:()=>document.getElementById("images-upload").click(),sx:{backgroundColor:"#fafafa",border:"2px dashed #E15B65",borderRadius:2,p:3,transition:"0.3s","&:hover":{backgroundColor:"#fff1f2"}},children:[ve.length>0||Z.length>0?e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:2,width:"100%"},children:[ve.map((t,r)=>e.jsxs(i,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:t,alt:`Existing ${r}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(i,{sx:{position:"absolute",top:6,left:6,backgroundColor:"#000",color:"#fff",fontSize:10,px:.8,py:.2,borderRadius:1,opacity:.75},children:"Existing"})]},`existing-${r}`)),Z.map((t,r)=>e.jsxs(i,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`New ${r}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(Ue,{size:"small",onClick:()=>Ee(o=>o.filter((a,d)=>d!==r)),sx:{position:"absolute",top:4,right:4,backgroundColor:"#fff",boxShadow:1,"&:hover":{backgroundColor:"#fee2e2"}},children:"âœ•"})]},`new-${r}`))]}):e.jsxs(i,{sx:{textAlign:"center"},children:[e.jsx(Ot,{sx:{fontSize:46,color:"#E15B65",mb:1}}),e.jsx(n,{fontWeight:600,color:"#E15B65",children:"Click to upload images"}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"or drag & drop files here"})]}),e.jsxs(n,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block",textAlign:"center"},children:[ve.length+Z.length," image(s) selected"]}),e.jsx("input",{type:"file",id:"images-upload",hidden:!0,accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:as})]})]})})}),e.jsx(i,{sx:{mb:4},children:e.jsx(U,{sx:{p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(de,{sx:{"&:last-child":{pb:2}},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Vehicle Information"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Insert the vehicle's general information"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:N?"1fr":"repeat(3, 1fr)",gap:h.spacing(3),mb:4},children:[e.jsxs(G,{spacing:2,children:[e.jsx(n,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Basic Info"}),e.jsxs(v,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(k,{id:"brand-label",children:"Select Brand / Manufacturer"}),e.jsxs(A,{labelId:"brand-label",id:"brand-select",value:Pe,label:"Select Brand / Manufacturer",onChange:t=>ft(t.target.value),children:[e.jsx(l,{value:"",children:"Select vehicle brand"}),Pt.map(t=>e.jsx(l,{value:t._id,children:t.title},t._id))]})]}),e.jsx(x,{fullWidth:!0,label:"Enter Model Name",variant:"outlined",value:We,onChange:t=>mt(t.target.value),placeholder:"e.g. Camry, Bus X",required:!0}),!O&&e.jsx(x,{fullWidth:!0,label:"Year of Manufacture",variant:"outlined",placeholder:"e.g. 2023"})]}),e.jsxs(G,{spacing:2,children:[e.jsx(n,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Capacity & Comfort"}),e.jsx(x,{fullWidth:!0,label:"Seating Capacity",variant:"outlined",value:ze,onChange:t=>yt(t.target.value),placeholder:"Number of seats",type:"number",inputProps:{min:1},required:!0}),O&&e.jsxs(v,{fullWidth:!0,variant:"outlined",children:[e.jsx(k,{children:"Select Legroom Type"}),e.jsxs(A,{value:"",label:"Select Legroom Type",onChange:t=>{},children:[e.jsx(l,{value:"",children:"Select Legroom"}),e.jsx(l,{value:"standard",children:"Standard"}),e.jsx(l,{value:"extra",children:"Extra"}),e.jsx(l,{value:"premium",children:"Premium"})]})]}),O&&e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(i,{children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Pushback seats"}),e.jsxs(ce,{row:!0,value:st,onChange:t=>Xt(t.target.value),children:[e.jsx(m,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"Yes"})}),e.jsx(m,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"No"})})]})]}),e.jsxs(i,{children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Recliner Seats"}),e.jsxs(ce,{row:!0,value:_a,onChange:t=>Va(t.target.value),children:[e.jsx(m,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"Yes"})}),e.jsx(m,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"No"})})]})]})]}),!O&&e.jsxs(v,{component:"fieldset",fullWidth:!0,sx:{mt:1},children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(ce,{row:!0,value:me,onChange:t=>be(t.target.value),children:[e.jsx(m,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"Yes"})}),e.jsx(m,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"No"})})]})]})]}),e.jsxs(G,{spacing:2,children:[e.jsx(n,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Zone & Location"}),e.jsxs(v,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(k,{id:"zone-label",children:"Zone*"}),e.jsxs(A,{labelId:"zone-label",value:Te,label:"Zone",onChange:ls,children:[e.jsx(l,{value:"",children:"Select zone"}),ne.map(t=>e.jsx(l,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(v,{fullWidth:!0,required:!0,children:[e.jsx(k,{children:"Parent Category"}),e.jsxs(A,{value:W,label:"Parent Category",onChange:Qa,children:[e.jsx(l,{value:"",children:"Select Parent Category"}),_.map(t=>e.jsx(l,{value:t._id,children:t.title},t._id))]})]}),e.jsxs(v,{fullWidth:!0,required:!0,disabled:!W,children:[e.jsx(k,{children:"Sub Category"}),e.jsxs(A,{value:Le,label:"Sub Category",onChange:t=>ye(t.target.value),children:[e.jsx(l,{value:"",children:"Select Sub Category"}),qa.map(t=>e.jsx(l,{value:t._id,children:t.title},t._id))]})]})]})]}),e.jsxs(i,{children:[e.jsx(n,{variant:"subtitle1",sx:{fontWeight:700,mb:3},children:"Engine & Performance"}),O?e.jsxs(G,{spacing:3,children:[e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:N?"1fr":"repeat(3, 1fr)",gap:h.spacing(3)},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"Select Fuel Type"}),e.jsxs(A,{value:ge,label:"Select Fuel Type",onChange:t=>at(t.target.value),children:[e.jsx(l,{value:"",children:"Select Fuel"}),e.jsx(l,{value:"petrol",children:"Petrol"}),e.jsx(l,{value:"diesel",children:"Diesel"}),e.jsx(l,{value:"electric",children:"Electric"}),e.jsx(l,{value:"hybrid",children:"Hybrid"}),e.jsx(l,{value:"cng",children:"CNG"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"Transmission"}),e.jsxs(A,{value:Se,label:"Transmission",onChange:t=>Ye(t.target.value),children:[e.jsx(l,{value:"",children:"Select Transmission"}),e.jsx(l,{value:"manual",children:"Manual"}),e.jsx(l,{value:"automatic",children:"Automatic"}),e.jsx(l,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"Climate Control"}),e.jsxs(A,{value:me,label:"Climate Control",onChange:t=>be(t.target.value),children:[e.jsx(l,{value:"yes",children:"AC"}),e.jsx(l,{value:"no",children:"Non-AC"})]})]})]}),e.jsxs(v,{component:"fieldset",fullWidth:!0,children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(ce,{row:!0,value:me,onChange:t=>be(t.target.value),children:[e.jsx(m,{value:"yes",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"Yes"})}),e.jsx(m,{value:"no",control:e.jsx(T,{size:"small"}),label:e.jsx(n,{variant:"body2",children:"No"})})]})]})]}):e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:N?"1fr":"repeat(3, 1fr)",gap:h.spacing(3)},children:[e.jsxs(v,{fullWidth:!0,children:[e.jsx(k,{children:"Select Fuel Type"}),e.jsxs(A,{value:ge,label:"Select Fuel Type",onChange:t=>at(t.target.value),children:[e.jsx(l,{value:"",children:"Select Fuel"}),e.jsx(l,{value:"petrol",children:"Petrol"}),e.jsx(l,{value:"diesel",children:"Diesel"}),e.jsx(l,{value:"electric",children:"Electric"}),e.jsx(l,{value:"hybrid",children:"Hybrid"}),e.jsx(l,{value:"cng",children:"CNG"})]})]}),e.jsxs(v,{fullWidth:!0,required:!0,children:[e.jsx(k,{children:"Transmission"}),e.jsxs(A,{value:Se,label:"Transmission",onChange:t=>Ye(t.target.value),children:[e.jsx(l,{value:"",children:"Select Transmission"}),e.jsx(l,{value:"manual",children:"Manual"}),e.jsx(l,{value:"automatic",children:"Automatic"}),e.jsx(l,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(v,{fullWidth:!0,children:[e.jsx(k,{children:"Vehicle Class"}),e.jsxs(A,{value:et,label:"Vehicle Class",onChange:t=>Jt(t.target.value),children:[e.jsx(l,{value:"standard",children:"Standard"}),e.jsx(l,{value:"luxury",children:"Luxury"}),e.jsx(l,{value:"vintage",children:"Vintage"})]})]}),e.jsx(x,{fullWidth:!0,label:"Engine Capacity (CC)",variant:"outlined",type:"number",value:Je,onChange:t=>Zt(t.target.value),placeholder:"e.g. 2000",inputProps:{min:0}}),e.jsx(x,{fullWidth:!0,label:"Engine Power (HP)",variant:"outlined",type:"number",value:we,onChange:t=>Gt(t.target.value),placeholder:"e.g. 180",inputProps:{min:0}}),e.jsx(x,{fullWidth:!0,label:"Torque",variant:"outlined",value:Xe,onChange:t=>qt(t.target.value),placeholder:"e.g. 250 Nm"}),e.jsx(x,{fullWidth:!0,label:"Mileage",variant:"outlined",value:Qe,onChange:t=>Yt(t.target.value),placeholder:"e.g. 15 km/l"})]})]}),e.jsx(i,{sx:{mt:3},children:e.jsx(x,{fullWidth:!0,label:"Vihicles Address*",variant:"outlined",value:He,onChange:t=>ie(t.target.value),placeholder:"Enter venue address",required:!0})}),e.jsxs(i,{sx:{mt:3},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Location and Operating Hours"}),e.jsx(x,{fullWidth:!0,label:"Search Location",inputRef:qe,variant:"outlined",placeholder:"Enter a location",sx:{mb:2}}),e.jsxs(i,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(x,{sx:{flex:1},label:"Latitude*",variant:"outlined",value:M,onChange:t=>oe(t.target.value),placeholder:"e.g., 25.2048",required:!0}),e.jsx(x,{sx:{flex:1},label:"Longitude*",variant:"outlined",value:R,onChange:t=>le(t.target.value),placeholder:"e.g., 55.2708",required:!0})]}),K&&ut?e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click on the map below to select a location"}),e.jsx(i,{ref:Ze,sx:{height:300,width:"100%",borderRadius:h.shape.borderRadius,border:`1px solid ${h.palette.grey[300]}`,mb:2}})]}):e.jsx(i,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${h.palette.grey[300]}`,borderRadius:h.shape.borderRadius,mb:2},children:e.jsx(n,{variant:"body2",color:"text.secondary",children:"Map loading..."})})]})]})})}),e.jsx(i,{sx:{mb:4},children:e.jsxs(de,{sx:{"&:last-child":{pb:2}},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Vehicle Identity"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the vehicle number and driver availability"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:N?"1fr":"2fr 1fr",gap:3,alignItems:"center"},children:[e.jsx(x,{fullWidth:!0,label:"Vehicle Number*",variant:"outlined",value:Be,onChange:t=>{vt(t.target.value),Ht(t.target.value)},placeholder:"Enter vehicle number",required:!0,error:!!ga,helperText:ga}),e.jsxs(i,{children:[e.jsx(n,{variant:"body2",fontWeight:600,sx:{mb:1},children:"Driver Included"}),e.jsxs(i,{sx:{display:"flex",gap:3},children:[e.jsx(m,{control:e.jsx(Q,{checked:z.driverIncluded===!0,onChange:()=>je(t=>({...t,driverIncluded:!0}))}),label:"Yes"}),e.jsx(m,{control:e.jsx(Q,{checked:z.driverIncluded===!1,onChange:()=>je(t=>({...t,driverIncluded:!1}))}),label:"No"})]})]})]})]})}),Mt&&$e&&e.jsxs(U,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{children:[e.jsx(n,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Vehicle Features & Amenities"}),e.jsx(n,{variant:"body2",sx:{opacity:.8},children:"Customize the luxury and comfort options for your vehicle"})]}),e.jsx(Ma,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(i,{sx:{p:4},children:[e.jsx($,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(La,{}),number:"01",items:[["Leather Seats","leatherSeats"],["Adjustable Seats","adjustableSeats"],["Armrest","armrest"]]},{title:"Entertainment",icon:e.jsx(Cs,{}),number:"02",items:[["Music System","musicSystem"],["Bluetooth","bluetooth"],["USB / AUX","usbAux"]]},{title:"Safety & Compliance",icon:e.jsx(Ra,{}),number:"03",items:[["Airbags","airbags"],["ABS","abs"],["Rear Camera","rearCamera"],["Parking Sensors","parkingSensors"]]},{title:"Convenience",icon:e.jsx(ys,{}),number:"04",items:[["Power Windows","powerWindows"],["Central Lock","centralLock"],["Keyless Entry","keylessEntry"]]}].map((t,r)=>e.jsx($,{item:!0,xs:12,sm:6,md:6,sx:{display:"flex"},children:e.jsxs(i,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(n,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(n,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(G,{spacing:1,children:t.items.map(([o,a])=>e.jsx(m,{control:e.jsx(Q,{size:"small",checked:b[a],onChange:Nt(a),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(n,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:o})},a))})]})},t.title))}),e.jsxs(i,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #fff5f5 0%, #fff0f0 100%)",border:"1px solid #fee2e2"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(225, 91, 101, 0.3)"},children:e.jsx(Da,{fontSize:"small"})}),e.jsxs(i,{children:[e.jsx(n,{variant:"subtitle1",sx:{fontWeight:700,color:"#991b1b"},children:"Premium Add-ons & Lighting"}),e.jsx(n,{variant:"caption",sx:{color:"#b91c1c",opacity:.8},children:"Special features to enhance the premium feel"})]})]}),e.jsxs($,{container:!0,spacing:4,alignItems:"center",children:[e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{display:"flex",gap:4},children:[e.jsx(m,{control:e.jsx(Q,{checked:b.wifi,onChange:Nt("wifi"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(n,{sx:{fontWeight:600},children:"High-Speed Wifi"})}),e.jsx(m,{control:e.jsx(Q,{checked:b.chargingPoints,onChange:Nt("chargingPoints"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(n,{sx:{fontWeight:600},children:"Charging Points"})})]})}),e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #fee2e2",display:"flex",alignItems:"center",gap:3},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:700,color:"#991b1b",minWidth:120},children:"Interior Lighting"}),e.jsxs(ce,{row:!0,value:ke,onChange:t=>tt(t.target.value),children:[e.jsx(m,{value:"normal",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(n,{variant:"body2",children:"Standard"})}),e.jsx(m,{value:"premium",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(n,{variant:"body2",children:"Premium RGB"})})]})]})})]})]})]})]}),Mt&&O&&e.jsxs(U,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{children:[e.jsx(n,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bus Features & Amenities"}),e.jsx(n,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the bus"})]}),e.jsx(ws,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(i,{sx:{p:4},children:[e.jsx($,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(La,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx(Ss,{}),number:"02",items:[["Music System","musicSystem"],["Microphone","microphone"],["LED Display","ledDisplay"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(Ra,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["LED Emergency Exit","ledEmergencyExit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(vs,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx($,{item:!0,xs:12,sm:6,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(i,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(n,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(n,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(G,{spacing:1,children:t.items.map(([r,o])=>e.jsx(m,{control:e.jsx(Q,{size:"small",checked:f[o],onChange:Kt(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(n,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:r})},o))})]})},t.title))}),e.jsxs(i,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(Da,{fontSize:"small"})}),e.jsxs(i,{children:[e.jsx(n,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(n,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs($,{container:!0,spacing:4,alignItems:"center",children:[e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{display:"flex",gap:4},children:[e.jsx(m,{control:e.jsx(Q,{checked:f.wifi,onChange:Kt("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(n,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(m,{control:e.jsx(Q,{checked:f.chargingPoints,onChange:Kt("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(n,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx($,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(ce,{row:!0,value:ke,onChange:t=>tt(t.target.value),children:[e.jsx(m,{value:"normal",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(n,{variant:"body2",children:"Normal"})}),e.jsx(m,{value:"premium",control:e.jsx(T,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(n,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),Mt&&($e||O)&&e.jsx(i,{sx:{mb:4},children:e.jsxs(U,{sx:{mt:6,mb:6,borderRadius:3,border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #f5efef 0%, #efdfe1 100%)",color:"white"},children:[e.jsx(n,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Package Pricing"}),e.jsx(n,{variant:"body2",sx:{opacity:.95},children:"Set base price, discount & advance booking options"})]}),e.jsx(i,{sx:{p:4,backgroundColor:"#fafbfc"},children:e.jsxs(G,{spacing:3,children:[e.jsxs(i,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(n,{sx:{color:"white",fontSize:20,fontWeight:700},children:"â‚¹"})}),e.jsx(n,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Package Details"})]}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fef3f2",border:"1px solid #fecaca",display:"flex",flexDirection:"column"},children:[e.jsx(n,{variant:"body2",fontWeight:600,sx:{color:"#991b1b",mb:2},children:"Basic Package"}),e.jsxs(G,{spacing:2,sx:{flexGrow:1},children:[e.jsx(x,{fullWidth:!0,label:"Base Package Price",type:"number",value:Ae,onChange:t=>ea(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(n,{sx:{mr:.5,color:"#E15B65",fontWeight:600},children:"â‚¹"})},size:"small"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:5,mt:3},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"Hours Included"}),e.jsxs(A,{value:rt,label:"Hours Included",onChange:t=>ta(t.target.value),children:[e.jsx(l,{value:"",children:"Select"}),e.jsx(l,{value:"4",children:"4 Hrs"}),e.jsx(l,{value:"6",children:"6 Hrs"}),e.jsx(l,{value:"8",children:"8 Hrs"}),e.jsx(l,{value:"10",children:"10 Hrs"}),e.jsx(l,{value:"12",children:"12 Hrs"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"KM Included"}),e.jsxs(A,{value:nt,label:"KM Included",onChange:t=>aa(t.target.value),children:[e.jsx(l,{value:"",children:"Select"}),e.jsx(l,{value:"50",children:"50 KM"}),e.jsx(l,{value:"100",children:"100 KM"}),e.jsx(l,{value:"150",children:"150 KM"})]})]})]})]})]}),e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",display:"flex",flexDirection:"column"},children:[e.jsx(n,{variant:"body2",fontWeight:600,sx:{color:"#15803d",mb:2},children:"Apply Discount"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,mb:3},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"Type"}),e.jsxs(A,{value:lt,label:"Type",onChange:t=>na(t.target.value),children:[e.jsx(l,{value:"percentage",children:"Percentage (%)"}),e.jsx(l,{value:"flat",children:"Flat Rate (â‚¹)"})]})]}),e.jsx(x,{fullWidth:!0,label:"Value",type:"number",value:Fe,onChange:t=>kt(t.target.value),size:"small"})]}),e.jsxs(i,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #e3dedf 0%, #ceaaad 100%)",textAlign:"center",boxShadow:"0 4px 14px rgba(225, 91, 101, 0.25)",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:160},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5},children:[e.jsx(i,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.35)",display:"flex",alignItems:"center",justifyContent:"center",mr:1},children:e.jsx(n,{sx:{fontSize:13,fontWeight:700,color:"#000"},children:"Î£"})}),e.jsx(n,{variant:"caption",sx:{fontWeight:700,color:"#000"},children:"GRAND TOTAL"})]}),e.jsxs(n,{sx:{fontWeight:800,fontSize:"1.6rem",lineHeight:1.2,mb:.5,color:"#000"},children:["â‚¹ ",Ae||"0"]}),e.jsx(n,{variant:"caption",sx:{fontSize:"0.7rem",fontWeight:600,color:"#000"},children:"Base Price + Taxes"}),e.jsxs(i,{sx:{mt:2,pt:1.5,borderTop:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[e.jsx(n,{sx:{fontSize:"0.9rem"},children:"ðŸ’¡"}),e.jsx(n,{variant:"caption",sx:{fontSize:"0.7rem",lineHeight:1.3},children:"Final amount based on base price and discounts"})]})]})]})]})]}),e.jsxs(i,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(n,{sx:{color:"white",fontSize:20,fontWeight:700},children:"%"})}),e.jsx(n,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Offers & Advance"})]}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:3},children:[e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fff7ed",border:"1px solid #fed7aa",height:"100%"},children:[e.jsx(n,{variant:"body2",fontWeight:600,sx:{color:"#9a3412",mb:2},children:"Extra Charges"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsx(x,{fullWidth:!0,label:"Price/KM",type:"number",value:it,onChange:t=>sa(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(n,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"After KM"}),e.jsxs(A,{value:ot,label:"After KM",onChange:t=>ra(t.target.value),children:[e.jsx(l,{value:"",children:"Select"}),e.jsx(l,{value:"1",children:"Per KM"})]})]})]})]}),e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",height:"100%"},children:[e.jsx(n,{variant:"body2",fontWeight:600,sx:{color:"#1e40af",mb:2},children:"Advance Booking"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(k,{children:"Type"}),e.jsxs(A,{value:dt,label:"Type",onChange:t=>ia(t.target.value),children:[e.jsx(l,{value:"percentage",children:"Percentage (%)"}),e.jsx(l,{value:"flat",children:"Flat (â‚¹)"})]})]}),e.jsx(x,{fullWidth:!0,label:"Amount",type:"number",value:ct,onChange:t=>oa(t.target.value),InputProps:{startAdornment:e.jsx(n,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"})]})]})]})]})]})})]})}),e.jsxs(i,{sx:{mt:3,p:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(n,{variant:"subtitle1",gutterBottom:!0,children:"Vehicle Features"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:z.decorationAvailable?{xs:"1fr",md:"1fr 1fr"}:"max-content",gap:3,alignItems:"center"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:3,px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",width:"fit-content",minWidth:260},children:[e.jsx(n,{fontSize:14,fontWeight:500,children:"Decoration Available"}),e.jsx(ms,{checked:z.decorationAvailable,onChange:t=>je(r=>({...r,decorationAvailable:t.target.checked})),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#E15B65"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#E15B65"}}})]}),z.decorationAvailable&&e.jsx(i,{sx:{px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",minWidth:260},children:e.jsx(x,{fullWidth:!0,label:"Decoration Price (â‚¹)",type:"number",value:re,onChange:t=>At(t.target.value),inputProps:{min:0},placeholder:"e.g. 5000"})})]})]}),e.jsxs(i,{sx:{mt:4,p:3,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(n,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Upload Vehicle Documents"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Upload RC, Insurance, Permit or any supporting vehicle documents"}),e.jsxs(Ut,{onDragOver:t=>t.preventDefault(),onDrop:Ja,onClick:()=>document.getElementById("vehicle-documents-upload").click(),sx:{minHeight:160},children:[Ca.length>0?e.jsx(G,{spacing:1,sx:{width:"100%"},children:Ca.map((t,r)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,border:"1px solid #e5e7eb",borderRadius:1,backgroundColor:"#ffffff"},children:[e.jsxs(n,{variant:"body2",noWrap:!0,children:["ðŸ“„ ",t.name]}),e.jsx(Ue,{size:"small",onClick:()=>Bt(o=>o.filter((a,d)=>d!==r)),children:"âœ•"})]},r))}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{sx:{fontSize:42,color:"#E15B65",mb:1}}),e.jsx(n,{fontWeight:600,color:"#E15B65",children:"Click to upload documents"}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Or drag & drop files here (PDF, JPG, PNG)"})]}),e.jsx("input",{id:"vehicle-documents-upload",type:"file",hidden:!0,multiple:!0,accept:".pdf,image/png,image/jpeg,image/jpg",onChange:Ya})]})]}),e.jsx(i,{sx:{mb:4},children:e.jsxs(U,{sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #ffffff, #fafafa)",border:"1px solid #eee"},children:[e.jsx(n,{variant:"h6",fontWeight:600,sx:{mb:.5},children:"Terms & Conditions"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Define rules & policies shown to customers during booking"}),B.map((t,r)=>e.jsxs(i,{sx:{mb:3,p:2,borderRadius:2,border:"1px solid #e5e7eb",backgroundColor:"#fff"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(x,{fullWidth:!0,label:"Section Heading",placeholder:"e.g. Booking & Confirmation",value:t.heading,onChange:o=>{const a=[...B];a[r].heading=o.target.value,q(a)}}),B.length>1&&e.jsx(ue,{onClick:()=>q(o=>o.filter((a,d)=>d!==r)),sx:{ml:1,color:"error.main"},children:"âœ•"})]}),t.points.map((o,a)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(x,{fullWidth:!0,label:`Point ${a+1}`,placeholder:"Enter policy detail",value:o,onChange:d=>{const p=[...B];p[r].points[a]=d.target.value,q(p)}}),t.points.length>1&&e.jsx(ue,{onClick:()=>{const d=[...B];d[r].points.splice(a,1),q(d)},sx:{ml:1,color:"error.main"},children:"âœ•"})]},a)),e.jsx(ue,{size:"small",onClick:()=>{const o=[...B];o[r].points.push(""),q(o)},sx:{mt:1,color:"#E15B65"},children:"+ Add Point"})]},r)),e.jsx(ue,{variant:"outlined",onClick:()=>q([...B,{heading:"",points:[""]}]),sx:{mt:2,borderRadius:2,borderColor:"#E15B65",color:"#E15B65"},children:"+ Add Section"})]})}),e.jsx(i,{sx:{mb:4},children:e.jsx(U,{sx:{p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(de,{sx:{"&:last-child":{pb:2}},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Search Tags"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert tags for appearing in user search results"}),e.jsx(x,{fullWidth:!0,label:"Type and press Enter",variant:"outlined",value:Re,onChange:rs,onKeyPress:ns,placeholder:"Type and press Enter",sx:{mb:2}}),e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:It.map((t,r)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",backgroundColor:h.palette.grey[200],borderRadius:h.shape.borderRadius,px:1,py:.5},children:[e.jsx(n,{variant:"body2",children:t}),e.jsx(Ue,{size:"small",onClick:()=>is(t),children:e.jsx(n,{sx:{fontSize:14},children:"Ã—"})})]},r))})]})})}),e.jsxs(i,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(ue,{variant:"outlined",color:"#E15B65",size:"large",onClick:$t,sx:{color:"#E15B65"},children:Ke?"Cancel":"Reset"}),e.jsx(ue,{variant:"contained",type:"submit",size:"large",disabled:_e,startIcon:_e?e.jsx(Fa,{size:20,color:"inherit"}):null,sx:{color:"white",bgcolor:"#E15B65"},children:_e?"Submitting...":Ke?"Update":"Submit"})]})]})]}),e.jsx(bs,{open:Ka,autoHideDuration:6e3,onClose:Ea,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{minWidth:"600px",maxWidth:"600px",width:"auto"}},children:e.jsx(js,{onClose:Ea,severity:ja,sx:{width:"100%",backgroundColor:ja==="success"?"#1976d2":"#d32f2f",color:"white","& .MuiAlert-message":{whiteSpace:"pre-line",wordBreak:"break-word",fontSize:"1rem",lineHeight:1.5}},children:Oa})})]})};export{Ns as default};
