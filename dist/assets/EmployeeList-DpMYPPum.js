import{w as C,r as c,j as e,B as l,T as u,g as f,s as I,b as k,_ as A,$ as b}from"./index-BQnhRWSt.js";import{A as N}from"./Add-CKA7cduu.js";import{S as $}from"./Search-BJtocwwA.js";import{A as S}from"./ArrowDropDown-By4aHI7g.js";import{T as B,a as T,b as i,c as n,d as L}from"./TableRow-dr7ICh1M.js";const F=()=>{const g=C(),[d,x]=c.useState(null),[t,h]=c.useState([]);c.useEffect(()=>{const s=localStorage.getItem("employees");return s&&h(JSON.parse(s)),window.addEventListener("employeeAdded",()=>{const o=JSON.parse(localStorage.getItem("employees")||"[]");h(o)}),()=>window.removeEventListener("employeeAdded",()=>{})},[]);const E=s=>{x(s.currentTarget)},m=()=>{x(null)},p=s=>{const w=`Sl,Name,Email,Phone,Role%0A${t.map((a,v)=>`${v+1},${a.firstName} ${a.lastName},${a.email},${a.phone},${a.role}`).join("%0A")}`,y=new Blob([w],{type:s==="excel"?"application/vnd.ms-excel":"text/csv"}),j=window.URL.createObjectURL(y),r=document.createElement("a");r.href=j,r.download=`employee_list.${s}`,r.click(),window.URL.revokeObjectURL(j),m()};return e.jsxs(l,{sx:{padding:2,backgroundColor:"white"},children:[e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(u,{variant:"h6",sx:{display:"flex",alignItems:"center"},children:[e.jsx(l,{component:"span",sx:{mr:1},children:"ðŸ‘¤"})," Employee List ",e.jsxs(l,{component:"span",sx:{ml:1,color:"text.secondary"},children:["(",t.length,")"]})]}),e.jsx(f,{onClick:()=>g("/employee/new"),variant:"contained",startIcon:e.jsx(N,{}),sx:{backgroundColor:"#E15B65","&:hover":{backgroundColor:"#f33542ff"}},children:"Add New Employee"})]}),e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(I,{variant:"outlined",placeholder:"Ex: Search by name or email...",size:"small",sx:{width:"300px"},InputProps:{endAdornment:e.jsx(k,{edge:"end",children:e.jsx($,{})})}}),e.jsx(f,{variant:"outlined",color:"#E15B65",size:"small",onClick:E,sx:{color:"#E15B65"},endIcon:e.jsx(S,{}),children:"Export"}),e.jsxs(A,{anchorEl:d,open:!!d,onClose:m,children:[e.jsx(b,{onClick:()=>p("excel"),children:"Excel"}),e.jsx(b,{onClick:()=>p("csv"),children:"Csv"})]})]}),e.jsxs(B,{sx:{minWidth:650},"aria-label":"employee table",children:[e.jsx(T,{children:e.jsxs(i,{sx:{backgroundColor:"#f5f5f5"},children:[e.jsx(n,{children:"#"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Phone"}),e.jsx(n,{children:"Role"}),e.jsx(n,{children:"Action"})]})}),e.jsx(L,{children:t.length>0?t.map((s,o)=>e.jsxs(i,{children:[e.jsx(n,{children:o+1}),e.jsx(n,{children:`${s.firstName} ${s.lastName}`}),e.jsx(n,{children:s.email}),e.jsx(n,{children:s.phone}),e.jsx(n,{children:s.role}),e.jsx(n,{})]},o)):e.jsx(i,{children:e.jsx(n,{colSpan:6,align:"center",children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(l,{component:"img",src:"https://via.placeholder.com/150",alt:"No Data",sx:{width:"150px",height:"150px"}}),e.jsx(u,{variant:"body1",children:"No Data Found"})]})})})})]})]})};export{F as default};
