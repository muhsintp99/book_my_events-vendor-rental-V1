import{c as Ke,j as e,u as bs,i as js,aj as ys,w as Cs,ai as Ss,r as a,h as U,B as r,b as xt,ak as vs,T as s,t as La,p as L,W as Ae,s as p,am as ws,S as N,F as C,I as P,ag as B,$ as d,at as he,f as x,an as z,C as F,G as v,al as ks,g as Ie,ao as As,x as Is}from"./index-BQnhRWSt.js";import{D as xa}from"./DirectionsCar-amwDnjct.js";import{C as ha}from"./CloudUpload-fl_dbYaJ.js";import{S as ht,W as pa}from"./Wifi-BCLIl_HE.js";import{S as Es}from"./Settings-CUmj3CRZ.js";const ma=Ke(e.jsx("path",{d:"M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2z"})),ba=Ke(e.jsx("path",{d:"M17 6h-2V3c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v3H7c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2 0 .55.45 1 1 1s1-.45 1-1h6c0 .55.45 1 1 1s1-.45 1-1c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M9.5 18H8V9h1.5zm3.25 0h-1.5V9h1.5zm.75-12h-3V3.5h3zM16 18h-1.5V9H16z"})),Ps=Ke(e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"})),Fa=Ke(e.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2m0 14H3V5h18z"})),Da=Ke(e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"})),ja=ws(r)(({theme:f})=>({border:"2px dashed #e0e0e0",borderRadius:f.shape.borderRadius,padding:f.spacing(3),textAlign:"center",backgroundColor:f.palette.grey[50],cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px","&:hover":{borderColor:f.palette.primary.main},'& input[type="file"]':{display:"none"}})),ir=()=>{const f=bs(),q=js(f.breakpoints.down("md")),pe=ys(),pt=Cs(),{id:Ee}=Ss(),mt=a.useRef(null),W=a.useRef(null),bt=a.useRef(null),[ya,Ha]=a.useState(""),[Pe,Ne]=a.useState(""),[Oe,jt]=a.useState(""),[Ge,yt]=a.useState(""),[Ct,St]=a.useState(""),[vt,wt]=a.useState(""),[Ue,kt]=a.useState(""),[Be,We]=a.useState("normal"),[qe,Ze]=a.useState(""),[At,It]=a.useState("no"),[Et,Ca]=a.useState("no"),[Bs,Va]=a.useState(""),[me,Pt]=a.useState(""),[Bt,Wt]=a.useState(""),[Tt,Rt]=a.useState(""),[zt,Mt]=a.useState(""),[Lt,Ft]=a.useState(""),[le,Dt]=a.useState(""),[_a,Sa]=a.useState(""),[Ht,Vt]=a.useState(""),[b,Z]=a.useState({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),[j,J]=a.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[w,ee]=a.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[de,Te]=a.useState({helmet:!1,storageBox:!1,abs:!1,mobileHolder:!1,rearRack:!1,windshield:!1}),k="https://api.bookmyevent.ae/api",_t="AIzaSyAfLUm1kPmeMkHh1Hr5nbgNpQJOsNa7B78",Re=localStorage.getItem("moduleId");a.useMemo(()=>{var t;return(t=pe.state)==null?void 0:t.vehicle},[pe.state]);const $a=a.useMemo(()=>{var t,i;return(i=(t=pe.state)==null?void 0:t.vehicle)==null?void 0:i._id},[pe.state]),ze=a.useMemo(()=>{var t,i;return Ee||((i=(t=pe.state)==null?void 0:t.vehicle)==null?void 0:i._id)||""},[Ee,$a]),Ka=a.useMemo(()=>ze?"edit":"create",[ze]),[Me,$t]=a.useState(Ka),[Je,Kt]=a.useState(""),[Nt,Ot]=a.useState(""),[ce,Gt]=a.useState(null),[te,Ye]=a.useState([]),[Xe,Ut]=a.useState(""),[Qe,qt]=a.useState(""),[Ws,Na]=a.useState(""),[et,Zt]=a.useState(""),[Le,Jt]=a.useState(""),[tt,Yt]=a.useState(""),[be,je]=a.useState("yes"),[at,Xt]=a.useState(""),[va,wa]=a.useState(""),[Ts,Oa]=a.useState("hourly"),[Rs,Ga]=a.useState(""),[zs,Ua]=a.useState(""),[Ms,qa]=a.useState(""),[Fe,Qt]=a.useState(""),[M,ye]=a.useState({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),[Y,ea]=a.useState(""),[D,X]=a.useState([{heading:"",points:[""]}]),[ta,st]=a.useState([]),[rt,aa]=a.useState(""),[Za,S]=a.useState(!1),[Ja,A]=a.useState(""),[ka,I]=a.useState("success"),[sa,ra]=a.useState([]),[Ya,Ls]=a.useState([]),[Fs,Xa]=a.useState([]),[Ds,Hs]=a.useState({}),[Vs,_s]=a.useState(""),[$s,Ks]=a.useState(""),[Ns,Os]=a.useState(""),[Gs,Us]=a.useState(""),[qs,Zs]=a.useState(""),[Js,Ys]=a.useState(""),[Xs,Qa]=a.useState({}),[Aa,ia]=a.useState([]),[E,na]=a.useState([]),[es,ue]=a.useState([]),[m,it]=a.useState(""),[nt,Ce]=a.useState(""),De=!!m,[ge,oa]=a.useState([]),[Ia,Ea]=a.useState(!1),[ot,H]=a.useState(!1),[lt,dt]=a.useState(""),[He,ct]=a.useState([]),[ut,Se]=a.useState(""),[V,ve]=a.useState(""),[_,we]=a.useState(""),[Qs,ts]=a.useState(""),[Q,Pa]=a.useState(!1),[y,Ba]=a.useState(null),$=a.useMemo(()=>{var i;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Bus):",t==null?void 0:t.title),(i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("bus")},[m,E]),fe=a.useMemo(()=>{var i,o;if(!m||!E.length)return!1;const t=E.find(n=>n._id===m);return console.log("Category check (Car):",t==null?void 0:t.title),((i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("car"))||((o=t==null?void 0:t.title)==null?void 0:o.toLowerCase().includes("vehicle"))},[m,E]),ae=a.useMemo(()=>{var i;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Van):",t==null?void 0:t.title),(i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("van")},[m,E]),gt=a.useMemo(()=>{var i;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Bike):",t==null?void 0:t.title),(i=t==null?void 0:t.title)==null?void 0:i.toLowerCase().includes("bike")},[m,E]),as=t=>{const i=Array.from(t.target.files);ia(o=>[...o,...i])},ss=t=>{t.preventDefault();const i=Array.from(t.dataTransfer.files);ia(o=>[...o,...i])};a.useEffect(()=>{if(window.google&&window.google.maps){Pa(!0);return}const t=document.createElement("script");return t.src=`https://maps.googleapis.com/maps/api/js?key=${_t}&libraries=places`,t.async=!0,t.defer=!0,t.onload=()=>{Pa(!0)},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[_t]),a.useEffect(()=>{Q&&window.google&&window.google.maps&&rs()},[Q]);const rs=a.useCallback(()=>{if(!window.google||!mt.current||!Q)return;const t=V&&_?parseFloat(V):20.5937,i=V&&_?parseFloat(_):78.9629,o={lat:t,lng:i},n=new window.google.maps.Map(mt.current,{zoom:12,center:o});n.addListener("click",u=>{const h=u.latLng.lat(),g=u.latLng.lng();ve(h.toString()),we(g.toString()),W.current&&W.current.setMap(null),W.current=new window.google.maps.Marker({position:{lat:h,lng:g},map:n}),new window.google.maps.Geocoder().geocode({location:{lat:h,lng:g}},(K,O)=>{O==="OK"&&K[0]?(Se(K[0].formatted_address),A("Location set and address auto-filled!"),I("success"),S(!0)):(A("Location set, but could not determine address."),I("info"),S(!0))})}),Ba(n)},[Q,V,_]);a.useEffect(()=>{if(!Q||!y||!bt.current||!window.google)return;const t=new window.google.maps.places.Autocomplete(bt.current,{fields:["place_id","geometry","name","formatted_address"]}),i=t.addListener("place_changed",()=>{const o=t.getPlace();if(!o.geometry||!o.geometry.location)return;const n=o.geometry.location;o.geometry.viewport?y.fitBounds(o.geometry.viewport):(y.setCenter(n),y.setZoom(17)),W.current&&W.current.setMap(null),W.current=new window.google.maps.Marker({position:n,map:y}),ve(n.lat().toString()),we(n.lng().toString()),Se(o.formatted_address||o.name),A("Location selected!"),I("success"),S(!0)});return()=>{window.google&&window.google.maps.event&&window.google.maps.event.removeListener(i)}},[Q,y]),a.useEffect(()=>{if(!y||!V||!_)return;const t={lat:parseFloat(V),lng:parseFloat(_)};y.setCenter(t),y.setZoom(12),W.current?W.current.setPosition(t):W.current=new window.google.maps.Marker({position:t,map:y})},[V,_,y]),a.useEffect(()=>{if(!Le||!Q||!window.google||!window.google.maps)return;new window.google.maps.Geocoder().geocode({address:Le},(i,o)=>{if(o==="OK"&&i[0]){const n=i[0].geometry.location,u=n.lat().toString(),h=n.lng().toString();ve(u),we(h),Se(i[0].formatted_address),y&&(y.setCenter({lat:n.lat(),lng:n.lng()}),y.setZoom(12),W.current&&W.current.setMap(null),W.current=new window.google.maps.Marker({position:{lat:n.lat(),lng:n.lng()},map:y})),A(`Location set for ${Le}!`),I("success"),S(!0)}else A(`Could not find location for ${Le}`),I("warning"),S(!0)})},[Le,Q,y]);const la=a.useCallback(t=>{var n,u,h,g,T,K,O,re,ie,ne,oe,G,_e,c,R,xe,ke,za,Ma;console.log("Setting vehicle data:",t),t.brand&&t.brand._id&&!sa.some(l=>l._id===t.brand._id)&&ra(l=>[...l,{_id:t.brand._id,title:t.brand.title||t.brand.name||"Unknown Brand"}]),t.featuredImage&&dt(t.featuredImage),t.galleryImages&&Array.isArray(t.galleryImages)&&ct(t.galleryImages),(n=t.category)!=null&&n._id&&(it(t.category._id),U.get(`${k}/categories/parents/${t.category._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(l=>ue(l.data.data||[])).catch(()=>ue([]))),t.subCategory&&(typeof t.subCategory=="object"&&t.subCategory._id?Ce(t.subCategory._id):typeof t.subCategory=="string"&&Ce(t.subCategory)),t.zone&&t.zone._id&&!ge.some(l=>l._id===t.zone._id)&&oa(l=>[...l,{_id:t.zone._id,name:t.zone.name||"Unknown Zone"}]);const i=((u=t.zone)==null?void 0:u._id)||"";Zt(i);const o=ge.find(l=>l._id===i)||t.zone&&{name:t.zone.name};if(Jt(o?o.name:""),Kt(t.name||""),Ot(t.description||""),Ut(((h=t.brand)==null?void 0:h._id)||""),qt(t.model||""),Xt(t.licensePlateNumber||""),t.capacityAndComfort&&(Yt(((g=t.capacityAndComfort.seatingCapacity)==null?void 0:g.toString())||""),It(t.capacityAndComfort.pushbackSeats?"yes":"no"),Ca(t.capacityAndComfort.reclinerSeats?"yes":"no")),t.engineCharacteristics&&(Ne(((T=t.engineCharacteristics.transmissionType)==null?void 0:T.value)||""),jt(((K=t.engineCharacteristics.powerBHP)==null?void 0:K.toString())||""),yt(((O=t.engineCharacteristics.engineCapacityCC)==null?void 0:O.toString())||""),St(t.engineCharacteristics.torque||""),wt(t.engineCharacteristics.mileage||""),Ze(t.engineCharacteristics.fuelType||""),je(t.engineCharacteristics.airConditioning?"yes":"no")),t.location&&(Se(t.location.address||""),ve(((re=t.location.latitude)==null?void 0:re.toString())||""),we(((ie=t.location.longitude)==null?void 0:ie.toString())||"")),t.availability&&(ye(l=>({...l,driverIncluded:t.availability.driverIncluded??!1,sunroof:t.availability.sunroof??!1})),t.availability.acAvailable!==void 0&&je(t.availability.acAvailable?"yes":"no")),t.features&&(t.features.interiorFeatures&&J(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&J(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,microphone:t.features.entertainment.microphone??!1,ledDisplay:t.features.entertainment.lcdDisplay??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&J(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,ledEmergencyExit:t.features.safetyAndCompliance.emergencyExit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&J(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.interiorComfort&&Z(l=>({...l,leatherSeats:t.features.interiorComfort.leatherSeats??!1,adjustableSeats:t.features.interiorComfort.adjustableSeats??!1,armrest:t.features.interiorComfort.armrest??!1})),t.features.entertainment&&Z(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,bluetooth:t.features.entertainment.bluetooth??!1,usbAux:t.features.entertainment.usbAux??!1})),t.features.safety&&Z(l=>({...l,airbags:t.features.safety.airbags??!1,abs:t.features.safety.abs??!1,rearCamera:t.features.safety.rearCamera??!1,parkingSensors:t.features.safety.parkingSensors??!1})),t.features.convenience&&Z(l=>({...l,powerWindows:t.features.convenience.powerWindows??!1,centralLock:t.features.convenience.centralLock??!1,keylessEntry:t.features.convenience.keylessEntry??!1})),t.features.interiorFeatures&&ee(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&ee(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&ee(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&ee(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.safetyAccessories&&Te(l=>({...l,helmet:t.features.safetyAccessories.helmet??!1,abs:t.features.safetyAccessories.abs??!1,mobileHolder:t.features.safetyAccessories.mobileHolder??!1})),t.features.utilityStorage&&Te(l=>({...l,storageBox:t.features.utilityStorage.storageBox??!1,rearRack:t.features.utilityStorage.rearRack??!1,windshield:t.features.utilityStorage.windshield??!1}))),t.extraAddons){const l=((oe=(ne=t.category)==null?void 0:ne.title)==null?void 0:oe.toLowerCase())||"";l.includes("bus")?J($e=>({...$e,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):l.includes("van")?ee($e=>({...$e,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):(l.includes("car")||l.includes("vehicle"))&&Z($e=>({...$e,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})),We(t.extraAddons.interiorLighting?"premium":"normal")}t.pricing&&(t.pricing.basicPackage&&(Pt(((G=t.pricing.basicPackage.price)==null?void 0:G.toString())||""),Wt(((_e=t.pricing.basicPackage.includedHours)==null?void 0:_e.toString())||""),Rt(((c=t.pricing.basicPackage.includedKilometers)==null?void 0:c.toString())||"")),t.pricing.extraKmPrice&&(Mt(((R=t.pricing.extraKmPrice.price)==null?void 0:R.toString())||""),Ft(((xe=t.pricing.extraKmPrice.km)==null?void 0:xe.toString())||"")),t.pricing.discount&&(Dt(t.pricing.discount.type==="flat_rate"?"flat":"percentage"),Qt(((ke=t.pricing.discount.value)==null?void 0:ke.toString())||"")),t.pricing.decoration&&(ye(l=>({...l,decorationAvailable:t.pricing.decoration.available??!1})),ea(((za=t.pricing.decoration.price)==null?void 0:za.toString())||""))),Vt(((Ma=t.advanceBookingAmount)==null?void 0:Ma.toString())||""),t.vehicleType&&kt(t.vehicleType),t.termsAndConditions&&Array.isArray(t.termsAndConditions)&&t.termsAndConditions.length>0?X(t.termsAndConditions.map(l=>({heading:l.heading||"",points:Array.isArray(l.points)&&l.points.length>0?l.points:[""]}))):typeof t.termsAndConditions=="string"?X([{heading:"Terms & Conditions",points:[t.termsAndConditions]}]):X([{heading:"",points:[""]}]),st(t.searchTags||[]),console.log("âœ… Vehicle data populated successfully")},[sa,Ya,ge,k,J,ee,Z,Te]);a.useEffect(()=>()=>{te.forEach(t=>URL.revokeObjectURL(t))},[te]),a.useEffect(()=>{(async()=>{var i,o,n,u,h;try{if(!Re)throw new Error("Module ID is not defined. Please log in or set moduleId in localStorage.");const g=localStorage.getItem("token"),[T,K,O]=await Promise.all([U.get(`${k}/brands/module/${Re}`,{headers:{Authorization:`Bearer ${g}`}}),U.get(`${k}/categories/parents/${Re}`,{headers:{Authorization:`Bearer ${g}`}}),U.get(`${k}/zones`,{headers:{Authorization:`Bearer ${g}`,Accept:"application/json"}})]);na(((i=K.data)==null?void 0:i.data)||[]);const re=Array.isArray(T.data)?T.data:T.data.data||[];ra(re);const ie=((o=K.data)==null?void 0:o.data)||[];na(ie);const ne=O.data.data||O.data||[],oe=Array.isArray(ne)?ne.filter(G=>G.isActive).map(G=>({_id:G._id,name:G.name})):[];oa(oe),console.log("Module ID:",Re),console.log("Brands:",re),console.log("Parent Categories:",ie),console.log("Zones:",oe),Ea(!0)}catch(g){console.error("Error fetching brands/categories/zones:",((n=g.response)==null?void 0:n.data)||g),ra([]),na([]),oa([]),Ea(!0),A(((h=(u=g.response)==null?void 0:u.data)==null?void 0:h.message)||"Failed to fetch brands, categories, or zones"),I("error"),S(!0)}})()},[Re,k]),a.useEffect(()=>{if(E.length>0&&!m&&Me==="create"){const t=E[0];it(t._id),U.get(`${k}/categories/parents/${t._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(i=>{const o=i.data.data||[];ue(o),o.length>0&&Ce(o[0]._id)}).catch(i=>{console.error("Failed to fetch subcategories:",i),ue([])})}},[E,m,Me,k]),a.useEffect(()=>{(async()=>{var i;try{const u=(((i=(await U.get(`${k}/vehicle-attributes`)).data)==null?void 0:i.data)||[]).filter(g=>g.status),h={};u.forEach(g=>{h[g.title.toLowerCase()]=g.values||[]}),Xa(u),Qa(h),console.log("âœ… Vehicle Attributes Loaded:",u)}catch(o){console.error("âŒ Failed to load vehicle attributes",o)}})()},[k]),a.useEffect(()=>{var i;if(!Ia)return;const t=(i=pe.state)==null?void 0:i.vehicle;t?(la(t),dt(t.thumbnail||""),ct(t.images||[]),$t("edit")):Ee&&(async()=>{var n,u,h;H(!0);try{const g=await U.get(`${k}/vehicles/${Ee}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),T=g.data.data||g.data;console.log("Vehicle data fetched for edit:",T),la(T),dt(T.thumbnail||""),ct(T.images||[]),$t("edit")}catch(g){A(((u=(n=g.response)==null?void 0:n.data)==null?void 0:u.message)||"Failed to fetch vehicle data"),I("error"),S(!0),console.error("Error fetching vehicle:",((h=g.response)==null?void 0:h.data)||g)}finally{H(!1)}})()},[Ia,Ee,la]);const is=async t=>{const i=t.target.value;if(it(i),Ce(""),ue([]),!!i)try{const o=await U.get(`${k}/categories/parents/${i}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});ue(o.data.data||[])}catch(o){console.error("Failed to fetch sub categories",o),ue([])}},ns=a.useCallback(t=>{const i=t.target.files[0];i&&Gt(i)},[]),Wa=a.useCallback(t=>{t.preventDefault()},[]),os=a.useCallback(t=>{t.preventDefault();const i=t.dataTransfer.files[0];i&&Gt(i)},[]),ls=a.useCallback(t=>{const i=Array.from(t.target.files);Ye(o=>[...o,...i])},[]),ds=a.useCallback(t=>{t.preventDefault();const i=Array.from(t.dataTransfer.files);Ye(o=>[...o,...i])},[]),cs=a.useCallback(t=>{aa(t.target.value)},[]),us=a.useCallback(t=>{t.key==="Enter"&&rt.trim()&&(st(i=>[...i,rt.trim()]),aa(""),t.preventDefault())},[rt]),gs=a.useCallback(t=>{st(i=>i.filter(o=>o!==t))},[]),da=()=>(wa(""),!0),ca=a.useCallback(()=>{Kt(""),Ot(""),Se(""),Ut(""),qt(""),Na(""),Zt(""),Jt(""),it(""),Ce(""),Gt(null),Ye([]),dt(""),ct([]),Yt(""),je("yes"),Xt(""),wa(""),Ne(""),jt(""),yt(""),St(""),wt(""),kt(""),Ze(""),It("no"),Va(""),ye({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),Z({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),J({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),Pt(""),Wt(""),Rt(""),Mt(""),Ft(""),Dt(""),Sa(""),Vt(""),We("normal"),Oa("hourly"),Ga(""),Ua(""),qa(""),Qt(""),ea(""),st([]),aa(""),ve(""),we(""),ts(""),$t("create"),W.current&&(W.current.setMap(null),W.current=null),y&&Ba(null)},[y]),fs=a.useCallback(async t=>{var K,O,re,ie,ne,oe,G,_e;t.preventDefault();const i=Me==="edit";if(H(!0),!Je||!Xe||!Qe||!m||!nt||!et||!tt||!at||!ut||!V||!_){A("Please fill all required fields."),I("error"),S(!0),H(!1);return}if(M.decorationAvailable&&(!Y||parseFloat(Y)<=0)){A("Please provide a valid decoration price when decoration is available."),I("error"),S(!0),H(!1);return}if(($||fe)&&!me){A("Please provide a basic package price."),I("error"),S(!0),H(!1);return}if(!ce&&!lt&&!i){A("Please upload a featured image."),I("error"),S(!0),H(!1);return}if(te.length===0&&He.length===0&&!i){A("Please upload at least one gallery image."),I("error"),S(!0),H(!1);return}if(da(),!D.length||!D[0].heading){A("Please add at least one Terms & Conditions section."),I("error"),S(!0),H(!1);return}const o=localStorage.getItem("token");if(!o){A("No authentication token found. Please log in."),I("error"),S(!0),H(!1);return}const n=new FormData;if(n.append("name",Je),n.append("description",Nt),n.append("brand",Xe),n.append("category",m),n.append("subCategory",nt),n.append("model",Qe),n.append("capacityAndComfort[seatingCapacity]",parseInt(tt)||0),n.append("capacityAndComfort[legroomType]",ya||""),n.append("capacityAndComfort[pushbackSeats]",At==="yes"),n.append("capacityAndComfort[reclinerSeats]",Et==="yes"),n.append("engineCharacteristics[transmissionType][value]",Pe||""),n.append("engineCharacteristics[transmissionType][available]",!!Pe),n.append("engineCharacteristics[powerBHP]",Oe?parseInt(Oe):0),n.append("engineCharacteristics[engineCapacityCC]",Ge?parseInt(Ge):0),n.append("engineCharacteristics[torque]",Ct||""),n.append("engineCharacteristics[mileage]",vt||""),n.append("engineCharacteristics[fuelType]",qe||""),n.append("engineCharacteristics[airConditioning]",be==="yes"),n.append("location[address]",ut),n.append("location[latitude]",parseFloat(V)||0),n.append("location[longitude]",parseFloat(_)||0),n.append("zone",et),n.append("availability[driverIncluded]",M.driverIncluded||!1),n.append("availability[sunroof]",M.sunroof||!1),n.append("availability[acAvailable]",be==="yes"),$){const c={interiorFeatures:{curtains:j.curtains||!1,readingLights:j.readingLights||!1,footRest:j.footRest||!1,mirror:!1},entertainment:{musicSystem:j.musicSystem||!1,microphone:j.microphone||!1,lcdDisplay:j.ledDisplay||!1,tvScreen:j.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:j.fireExtinguisher||!1,firstAidKit:j.firstAidKit||!1,emergencyExit:j.ledEmergencyExit||!1,cctv:j.cctv||!1},storage:{luggageCarrier:j.luggageCarrier||!1,overheadStorage:j.overheadStorage||!1}};n.append("features",JSON.stringify(c))}if(fe){const c={interiorComfort:{leatherSeats:b.leatherSeats||!1,adjustableSeats:b.adjustableSeats||!1,armrest:b.armrest||!1},entertainment:{musicSystem:b.musicSystem||!1,bluetooth:b.bluetooth||!1,usbAux:b.usbAux||!1},safety:{airbags:b.airbags||!1,abs:b.abs||!1,rearCamera:b.rearCamera||!1,parkingSensors:b.parkingSensors||!1},convenience:{powerWindows:b.powerWindows||!1,centralLock:b.centralLock||!1,keylessEntry:b.keylessEntry||!1}};n.append("features",JSON.stringify(c))}if(ae){const c={interiorFeatures:{curtains:w.curtains||!1,readingLights:w.readingLights||!1,footRest:w.footRest||!1,bottleHolder:w.bottleHolder||!1},entertainment:{musicSystem:w.musicSystem||!1,tvScreen:w.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:w.fireExtinguisher||!1,firstAidKit:w.firstAidKit||!1,cctv:w.cctv||!1},storage:{luggageCarrier:w.luggageCarrier||!1,overheadStorage:w.overheadStorage||!1}};n.append("features",JSON.stringify(c))}if(gt){const c={safetyAccessories:{helmet:de.helmet||!1,abs:de.abs||!1,mobileHolder:de.mobileHolder||!1},utilityStorage:{storageBox:de.storageBox||!1,rearRack:de.rearRack||!1,windshield:de.windshield||!1}};n.append("features",JSON.stringify(c))}let u=!1,h=!1;$?(u=j.wifi,h=j.chargingPoints):ae?(u=w.wifi,h=w.chargingPoints):fe&&(u=b.wifi,h=b.chargingPoints),n.append("extraAddons[wifi]",u),n.append("extraAddons[chargingPorts]",h),n.append("extraAddons[interiorLighting]",Be==="premium"),n.append("pricing[basicPackage][price]",parseFloat(me)||0),n.append("pricing[basicPackage][includedKilometers]",parseFloat(Tt)||0),n.append("pricing[basicPackage][includedHours]",parseFloat(Bt)||0),n.append("pricing[extraKmPrice][km]",parseFloat(Lt)||0),n.append("pricing[extraKmPrice][price]",parseFloat(zt)||0),n.append("pricing[discount][type]",le==="flat"?"flat_rate":"percentage"),n.append("pricing[discount][value]",parseFloat(Fe)||0),n.append("pricing[decoration][available]",M.decorationAvailable||!1),n.append("pricing[decoration][price]",parseFloat(Y)||0);const g=()=>{const c=parseFloat(me)||0,R=M.decorationAvailable&&Y?parseFloat(Y):0,xe=parseFloat(Fe)||0;let ke=0;return le==="percentage"?ke=c*xe/100:le==="flat"&&(ke=xe),Math.max(c+R-ke,0)};n.append("pricing[grandTotal]",g()),n.append("advanceBookingAmount",parseFloat(Ht)||0),n.append("licensePlateNumber",at),fe&&Ue&&n.append("vehicleType",Ue),n.append("termsAndConditions",JSON.stringify(D)),ta.forEach(c=>n.append("searchTags[]",c)),ce&&n.append("featuredImage",ce),te.forEach(c=>{n.append("galleryImages",c)});const T={};for(let[c,R]of n.entries())T[c]=R instanceof File?R.name:R;console.log("ðŸ“¤ FormData being sent:",T);try{let c,R;if(i){if(!ze)throw new Error("Invalid vehicle ID for update");c=await U.put(`${k}/vehicles/${ze}`,n,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),R=c.data.data||c.data}else c=await U.post(`${k}/vehicles`,n,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),R=c.data.data||c.data;console.log("âœ… API Response:",c.data),A(i?"Vehicle updated successfully!":"Vehicle added successfully!"),I("success"),S(!0),ca(),i&&pt("/vehicle-setup/lists",{state:{vehicle:R}})}catch(c){console.error("âŒ API Error:",{status:(K=c.response)==null?void 0:K.status,statusText:(O=c.response)==null?void 0:O.statusText,data:(re=c.response)==null?void 0:re.data,headers:(ie=c.response)==null?void 0:ie.headers,message:c.message});let R=((oe=(ne=c.response)==null?void 0:ne.data)==null?void 0:oe.message)||"Failed to save vehicle";(_e=(G=c.response)==null?void 0:G.data)!=null&&_e.errors&&(R=c.response.data.errors.map(xe=>xe.msg).join(", ")),A(R),I("error"),S(!0)}finally{H(!1)}},[Me,ze,Je,Nt,Xe,Qe,m,nt,et,tt,be,M,Y,at,ut,V,_,Pe,Oe,Ge,Ct,vt,Ue,Be,qe,At,Et,b,j,me,Bt,Tt,zt,Lt,le,Fe,Ht,D,ta,ce,te,lt,He,da,ca,pt,k,Z,J,ee,Te,$,fe,ae,gt,k,ge]),Ta=a.useCallback((t,i)=>{i!=="clickaway"&&S(!1)},[]),ft=Me==="edit",xs=a.useCallback(t=>{const i=t.target.value;Zt(i);const o=ge.find(n=>n._id===i);Jt(o?o.name:"")},[ge]),ua=t=>i=>{Z(o=>({...o,[t]:i.target.checked}))},ga=t=>i=>{J(o=>({...o,[t]:i.target.checked}))},fa=t=>i=>{ee(o=>({...o,[t]:i.target.checked}))},hs=t=>i=>{Te(o=>({...o,[t]:i.target.checked}))},Ve=Number(me)||0,ps=M.decorationAvailable&&Y?Number(Y):0,Ra=Number(Fe)||0;let se=0;le==="percentage"&&(se=Ve*Ra/100),le==="flat"&&(se=Ra),se>Ve&&(se=Ve);const ms=Math.max(Ve+ps-se,0);return e.jsxs(r,{sx:{p:q?2:3,backgroundColor:f.palette.grey[100],minHeight:"100vh",width:"100%"},children:[e.jsxs(r,{sx:{maxWidth:"lg",margin:"auto",backgroundColor:"white",borderRadius:f.shape.borderRadius,boxShadow:f.shadows[1],p:q?2:3,overflowX:"hidden"},children:[e.jsx(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[ft&&e.jsx(xt,{onClick:()=>pt("/vehicle-setup/lists"),color:"primary",children:e.jsx(vs,{})}),e.jsx(xa,{sx:{fontSize:24,mr:1}}),e.jsx(s,{variant:"h5",component:"h1",children:ft?"Edit Vehicle":"Add New Vehicle"})]})}),e.jsx(s,{variant:"subtitle1",color:"text.secondary",sx:{mb:4},children:"Insert the basic information of the vehicle"}),ot&&e.jsx(r,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx(La,{})}),e.jsxs(r,{component:"form",onSubmit:fs,children:[e.jsxs(r,{sx:{display:"flex",flexDirection:q?"column":"row",gap:3,mb:4},children:[e.jsx(L,{sx:{flex:q?"auto":2,p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"General Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the basic information of the vehicle"}),e.jsx(p,{fullWidth:!0,label:"Vehicle Name*",variant:"outlined",value:Je,onChange:t=>Kt(t.target.value),placeholder:"Type vehicle name",sx:{mb:2},required:!0}),e.jsx(p,{fullWidth:!0,label:"Short Description",variant:"outlined",multiline:!0,rows:4,value:Nt,onChange:t=>Ot(t.target.value),placeholder:"Type short description",sx:{mb:2}})]})}),e.jsx(L,{sx:{flex:q?"auto":1,p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Featured Image*"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"JPG, JPEG, PNG Less Than 1MB (Ratio 2:1)"}),e.jsxs(ja,{onDragOver:Wa,onDrop:os,onClick:()=>document.getElementById("thumbnail-upload").click(),children:[ce?e.jsxs(r,{children:[e.jsx("img",{src:URL.createObjectURL(ce),alt:"Featured image preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:f.spacing(1)}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:ce.name})]}):lt?e.jsxs(r,{children:[e.jsx("img",{src:lt,alt:"Existing featured image",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:f.spacing(1),borderColor:"#E15B65"}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Existing featured image. Upload to replace."})]}):e.jsxs(r,{children:[e.jsx(ha,{sx:{fontSize:40,color:"#E15B65",mb:1}}),e.jsx(s,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),e.jsx(s,{variant:"body2",color:"#E15B65",children:"Or drag and drop"})]}),e.jsx("input",{type:"file",id:"thumbnail-upload",name:"featuredImage",hidden:!0,accept:"image/jpeg,image/png,image/jpg",onChange:ns})]})]})})]}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsxs(s,{variant:"h6",gutterBottom:!0,children:["Gallery Images",e.jsx("span",{style:{color:"#E15B65"},children:"*"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload high quality images (JPG, JPEG, PNG â€¢ Max 1MB â€¢ Ratio 2:1)"}),e.jsxs(ja,{onDragOver:Wa,onDrop:ds,onClick:()=>document.getElementById("images-upload").click(),sx:{backgroundColor:"#fafafa",border:"2px dashed #E15B65",borderRadius:2,p:3,transition:"0.3s","&:hover":{backgroundColor:"#fff1f2"}},children:[He.length>0||te.length>0?e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:2,width:"100%"},children:[He.map((t,i)=>e.jsxs(r,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:t,alt:`Existing ${i}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(r,{sx:{position:"absolute",top:6,left:6,backgroundColor:"#000",color:"#fff",fontSize:10,px:.8,py:.2,borderRadius:1,opacity:.75},children:"Existing"})]},`existing-${i}`)),te.map((t,i)=>e.jsxs(r,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`New ${i}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(xt,{size:"small",onClick:()=>Ye(o=>o.filter((n,u)=>u!==i)),sx:{position:"absolute",top:4,right:4,backgroundColor:"#fff",boxShadow:1,"&:hover":{backgroundColor:"#fee2e2"}},children:"âœ•"})]},`new-${i}`))]}):e.jsxs(r,{sx:{textAlign:"center"},children:[e.jsx(ha,{sx:{fontSize:46,color:"#E15B65",mb:1}}),e.jsx(s,{fontWeight:600,color:"#E15B65",children:"Click to upload images"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"or drag & drop files here"})]}),e.jsxs(s,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block",textAlign:"center"},children:[He.length+te.length," image(s) selected"]}),e.jsx("input",{type:"file",id:"images-upload",name:"galleryImages",hidden:!0,accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:ls})]})]})})}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Insert the vehicle's general information"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3),mb:4},children:[e.jsxs(N,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Basic Info"}),e.jsxs(C,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(P,{id:"brand-label",children:"Select Brand / Manufacturer"}),e.jsxs(B,{labelId:"brand-label",id:"brand-select",value:Xe,label:"Select Brand / Manufacturer",onChange:t=>Ut(t.target.value),children:[e.jsx(d,{value:"",children:"Select vehicle brand"}),sa.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsx(p,{fullWidth:!0,label:"Enter Model Name",variant:"outlined",value:Qe,onChange:t=>qt(t.target.value),placeholder:"e.g. Camry, Bus X",required:!0}),!$&&e.jsx(p,{fullWidth:!0,label:"Year of Manufacture",variant:"outlined",placeholder:"e.g. 2023"})]}),e.jsxs(N,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Capacity & Comfort"}),e.jsx(p,{fullWidth:!0,label:"Seating Capacity",variant:"outlined",value:tt,onChange:t=>Yt(t.target.value),placeholder:"Number of seats",type:"number",inputProps:{min:1},required:!0}),($||ae)&&e.jsxs(C,{fullWidth:!0,variant:"outlined",children:[e.jsx(P,{id:"legroom-label",children:"Select Legroom Type"}),e.jsxs(B,{labelId:"legroom-label",value:ya,label:"Select Legroom Type",onChange:t=>Ha(t.target.value),children:[e.jsx(d,{value:"",children:"Select Legroom"}),e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"extra",children:"Extra"}),e.jsx(d,{value:"premium",children:"Premium"})]})]}),($||ae)&&e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Pushback seats"}),e.jsxs(he,{row:!0,value:At,onChange:t=>It(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]}),e.jsxs(r,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Recliner Seats"}),e.jsxs(he,{row:!0,value:Et,onChange:t=>Ca(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}),!$&&e.jsxs(C,{component:"fieldset",fullWidth:!0,sx:{mt:1},children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(he,{row:!0,value:be,onChange:t=>je(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}),e.jsxs(N,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Zone & Location"}),e.jsxs(C,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(P,{id:"zone-label",children:"Zone*"}),e.jsxs(B,{labelId:"zone-label",value:et,label:"Zone",onChange:xs,children:[e.jsx(d,{value:"",children:"Select zone"}),ge.map(t=>e.jsx(d,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(C,{fullWidth:!0,required:!0,children:[e.jsx(P,{children:"Parent Category"}),e.jsxs(B,{value:m,label:"Parent Category",onChange:is,children:[e.jsx(d,{value:"",children:"Select Parent Category"}),E.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsxs(C,{fullWidth:!0,required:!0,disabled:!m,children:[e.jsx(P,{children:"Sub Category"}),e.jsxs(B,{value:nt,label:"Sub Category",onChange:t=>Ce(t.target.value),children:[e.jsx(d,{value:"",children:"Select Sub Category"}),es.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]})]})]}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:3},children:"Engine & Performance"}),$||ae?e.jsxs(N,{spacing:3,children:[e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3)},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Select Fuel Type"}),e.jsxs(B,{value:qe,label:"Select Fuel Type",onChange:t=>Ze(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Transmission"}),e.jsxs(B,{value:Pe,label:"Transmission",onChange:t=>Ne(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Climate Control"}),e.jsxs(B,{value:be,label:"Climate Control",onChange:t=>je(t.target.value),children:[e.jsx(d,{value:"yes",children:"AC"}),e.jsx(d,{value:"no",children:"Non-AC"})]})]})]}),e.jsxs(C,{component:"fieldset",fullWidth:!0,children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(he,{row:!0,value:be,onChange:t=>je(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}):e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3)},children:[e.jsxs(C,{fullWidth:!0,children:[e.jsx(P,{children:"Select Fuel Type"}),e.jsxs(B,{value:qe,label:"Select Fuel Type",onChange:t=>Ze(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(C,{fullWidth:!0,required:!0,children:[e.jsx(P,{children:"Transmission"}),e.jsxs(B,{value:Pe,label:"Transmission",onChange:t=>Ne(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(C,{fullWidth:!0,children:[e.jsx(P,{children:"Vehicle Class"}),e.jsxs(B,{value:Ue,label:"Vehicle Class",onChange:t=>kt(t.target.value),children:[e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"luxury",children:"Luxury"}),e.jsx(d,{value:"vintage",children:"Vintage"})]})]}),e.jsx(p,{fullWidth:!0,label:"Engine Capacity (CC)",variant:"outlined",type:"number",value:Ge,onChange:t=>yt(t.target.value),placeholder:"e.g. 2000",inputProps:{min:0}}),e.jsx(p,{fullWidth:!0,label:"Engine Power (HP)",variant:"outlined",type:"number",value:Oe,onChange:t=>jt(t.target.value),placeholder:"e.g. 180",inputProps:{min:0}}),e.jsx(p,{fullWidth:!0,label:"Torque",variant:"outlined",value:Ct,onChange:t=>St(t.target.value),placeholder:"e.g. 250 Nm"}),e.jsx(p,{fullWidth:!0,label:"Mileage",variant:"outlined",value:vt,onChange:t=>wt(t.target.value),placeholder:"e.g. 15 km/l"})]})]}),e.jsx(r,{sx:{mt:3},children:e.jsx(p,{fullWidth:!0,label:"Vihicles Address*",variant:"outlined",value:ut,onChange:t=>Se(t.target.value),placeholder:"Enter venue address",required:!0})}),e.jsxs(r,{sx:{mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Location and Operating Hours"}),e.jsx(p,{fullWidth:!0,label:"Search Location",inputRef:bt,variant:"outlined",placeholder:"Enter a location",sx:{mb:2}}),e.jsxs(r,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(p,{sx:{flex:1},label:"Latitude*",variant:"outlined",value:V,onChange:t=>ve(t.target.value),placeholder:"e.g., 25.2048",required:!0}),e.jsx(p,{sx:{flex:1},label:"Longitude*",variant:"outlined",value:_,onChange:t=>we(t.target.value),placeholder:"e.g., 55.2708",required:!0})]}),Q&&_t?e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click on the map below to select a location"}),e.jsx(r,{ref:mt,sx:{height:300,width:"100%",borderRadius:f.shape.borderRadius,border:`1px solid ${f.palette.grey[300]}`,mb:2}})]}):e.jsx(r,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${f.palette.grey[300]}`,borderRadius:f.shape.borderRadius,mb:2},children:e.jsx(s,{variant:"body2",color:"text.secondary",children:"Map loading..."})})]})]})})}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Identity"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the vehicle number and driver availability"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"2fr 1fr",gap:3,alignItems:"center"},children:[e.jsx(p,{fullWidth:!0,label:"Vehicle Number*",variant:"outlined",value:at,onChange:t=>{Xt(t.target.value),da(t.target.value)},placeholder:"Enter vehicle number",required:!0,error:!!va,helperText:va}),e.jsxs(r,{children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{mb:1},children:"Driver Included"}),e.jsxs(r,{sx:{display:"flex",gap:3},children:[e.jsx(x,{control:e.jsx(F,{checked:M.driverIncluded===!0,onChange:()=>ye(t=>({...t,driverIncluded:!0}))}),label:"Yes"}),e.jsx(x,{control:e.jsx(F,{checked:M.driverIncluded===!1,onChange:()=>ye(t=>({...t,driverIncluded:!1}))}),label:"No"})]})]})]})]})})}),De&&fe&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Vehicle Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Customize the luxury and comfort options for your vehicle"})]}),e.jsx(xa,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(r,{sx:{p:4},children:[e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ma,{}),number:"01",items:[["Leather Seats","leatherSeats"],["Adjustable Seats","adjustableSeats"],["Armrest","armrest"]]},{title:"Entertainment",icon:e.jsx(Ps,{}),number:"02",items:[["Music System","musicSystem"],["Bluetooth","bluetooth"],["USB / AUX","usbAux"]]},{title:"Safety & Compliance",icon:e.jsx(ht,{}),number:"03",items:[["Airbags","airbags"],["ABS","abs"],["Rear Camera","rearCamera"],["Parking Sensors","parkingSensors"]]},{title:"Convenience",icon:e.jsx(Es,{}),number:"04",items:[["Power Windows","powerWindows"],["Central Lock","centralLock"],["Keyless Entry","keylessEntry"]]}].map((t,i)=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(N,{spacing:1,children:t.items.map(([o,n])=>e.jsx(x,{control:e.jsx(F,{size:"small",checked:b[n],onChange:ua(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:o})},n))})]})},t.title))}),e.jsxs(r,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #fff5f5 0%, #fff0f0 100%)",border:"1px solid #fee2e2"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(225, 91, 101, 0.3)"},children:e.jsx(pa,{fontSize:"small"})}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#991b1b"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#b91c1c",opacity:.8},children:"Special features to enhance the premium feel"})]})]}),e.jsxs(v,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(F,{checked:b.wifi,onChange:ua("wifi"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"High-Speed Wifi"})}),e.jsx(x,{control:e.jsx(F,{checked:b.chargingPoints,onChange:ua("chargingPoints"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Charging Points"})})]})}),e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #fee2e2",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#991b1b",minWidth:120},children:"Interior Lighting"}),e.jsxs(he,{row:!0,value:Be,onChange:t=>We(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",children:"Standard"})}),e.jsx(x,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",children:"Premium RGB"})})]})]})})]})]})]})]}),De&&$&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bus Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the bus"})]}),e.jsx(Da,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(r,{sx:{p:4},children:[e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ma,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx(Fa,{}),number:"02",items:[["Music System","musicSystem"],["Microphone","microphone"],["LED Display","ledDisplay"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(ht,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["LED Emergency Exit","ledEmergencyExit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(ba,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(N,{spacing:1,children:t.items.map(([i,o])=>e.jsx(x,{control:e.jsx(F,{size:"small",checked:j[o],onChange:ga(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:i})},o))})]})},t.title))}),e.jsxs(r,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(pa,{fontSize:"small"})}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(v,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(F,{checked:j.wifi,onChange:ga("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(x,{control:e.jsx(F,{checked:j.chargingPoints,onChange:ga("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(he,{row:!0,value:Be,onChange:t=>We(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Normal"})}),e.jsx(x,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),De&&ae&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Van Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the van"})]}),e.jsx(Da,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(r,{sx:{p:4},children:[e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ma,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx(Fa,{}),number:"02",items:[["Music System","musicSystem"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(ht,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(ba,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(N,{spacing:1,children:t.items.map(([i,o])=>e.jsx(x,{control:e.jsx(F,{size:"small",checked:w[o],onChange:fa(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:i})},o))})]})},t.title))}),e.jsxs(r,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(pa,{fontSize:"small"})}),e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(v,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(F,{checked:w.wifi,onChange:fa("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(x,{control:e.jsx(F,{checked:w.chargingPoints,onChange:fa("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(r,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(he,{row:!0,value:Be,onChange:t=>We(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Normal"})}),e.jsx(x,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),De&&gt&&e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bike Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Customize safety and utility options for your bike"})]}),e.jsx(xa,{sx:{fontSize:40,opacity:.2}})]}),e.jsx(r,{sx:{p:4},children:e.jsx(v,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Safety & Accessories",icon:e.jsx(ht,{}),number:"01",items:[["Helmet Included","helmet"],["ABS","abs"],["Mobile Holder","mobileHolder"]]},{title:"Utility & Storage",icon:e.jsx(ba,{}),number:"02",items:[["Storage Box (Top Box)","storageBox"],["Rear Rack","rearRack"],["Windshield","windshield"]]}].map((t,i)=>e.jsx(v,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(N,{spacing:1,children:t.items.map(([o,n])=>e.jsx(x,{control:e.jsx(F,{size:"small",checked:de[n],onChange:hs(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:o})},n))})]})},t.title))})})]}),De&&(fe||$||ae||gt)&&e.jsx(r,{sx:{mb:4},children:e.jsxs(L,{sx:{mt:6,mb:6,borderRadius:3,border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:[e.jsxs(r,{sx:{px:4,py:3,background:"linear-gradient(135deg, #f5efef 0%, #efdfe1 100%)",color:"white"},children:[e.jsx(s,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Package Pricing"}),e.jsx(s,{variant:"body2",sx:{opacity:.95},children:"Set base price, discount & advance booking options"})]}),e.jsx(r,{sx:{p:4,backgroundColor:"#fafbfc"},children:e.jsxs(N,{spacing:3,children:[e.jsxs(r,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(s,{sx:{color:"white",fontSize:20,fontWeight:700},children:"â‚¹"})}),e.jsx(s,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Package Details"})]}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fef3f2",border:"1px solid #fecaca",display:"flex",flexDirection:"column"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#991b1b",mb:2},children:"Basic Package"}),e.jsxs(N,{spacing:2,sx:{flexGrow:1},children:[e.jsx(p,{fullWidth:!0,label:"Base Package Price",type:"number",value:me,onChange:t=>Pt(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"#E15B65",fontWeight:600},children:"â‚¹"})},size:"small"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:5,mt:3},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Hours Included"}),e.jsxs(B,{value:Bt,label:"Hours Included",onChange:t=>Wt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"4",children:"4 Hrs"}),e.jsx(d,{value:"6",children:"6 Hrs"}),e.jsx(d,{value:"8",children:"8 Hrs"}),e.jsx(d,{value:"10",children:"10 Hrs"}),e.jsx(d,{value:"12",children:"12 Hrs"})]})]}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"KM Included"}),e.jsxs(B,{value:Tt,label:"KM Included",onChange:t=>Rt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"50",children:"50 KM"}),e.jsx(d,{value:"100",children:"100 KM"}),e.jsx(d,{value:"150",children:"150 KM"})]})]})]})]})]}),e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",display:"flex",flexDirection:"column"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#15803d",mb:2},children:"Apply Discount"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,mb:3},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Type"}),e.jsxs(B,{value:le,label:"Type",onChange:t=>Dt(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat Rate (â‚¹)"})]})]}),e.jsx(p,{fullWidth:!0,label:"Value",type:"number",value:Fe,onChange:t=>Qt(t.target.value),size:"small"})]}),e.jsxs(r,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #e3dedf 0%, #ceaaad 100%)",textAlign:"center",boxShadow:"0 4px 14px rgba(225, 91, 101, 0.25)",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:160},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5},children:[e.jsx(r,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.35)",display:"flex",alignItems:"center",justifyContent:"center",mr:1},children:e.jsx(s,{sx:{fontSize:13,fontWeight:700,color:"#000"},children:"Î£"})}),e.jsx(s,{variant:"caption",sx:{fontWeight:700,color:"#000"},children:"GRAND TOTAL"})]}),e.jsxs(s,{sx:{fontWeight:800,fontSize:"1.6rem",lineHeight:1.2,mb:.5,color:"#000"},children:["â‚¹ ",ms]}),se>0&&e.jsxs(s,{variant:"caption",sx:{textDecoration:"line-through",color:"#6b7280",fontSize:"0.75rem"},children:["Original: â‚¹ ",Ve]}),e.jsx(s,{variant:"caption",sx:{fontSize:"0.7rem",fontWeight:600,color:"#000"},children:se>0?`Discount Applied: â‚¹ ${se}`:"Base Price"}),e.jsxs(r,{sx:{mt:2,pt:1.5,borderTop:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[e.jsx(s,{sx:{fontSize:"0.9rem"},children:"ðŸ’¡"}),e.jsx(s,{variant:"caption",sx:{fontSize:"0.7rem",lineHeight:1.3},children:"Final amount based on base price and discounts"})]})]})]})]})]}),e.jsxs(r,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(s,{sx:{color:"white",fontSize:20,fontWeight:700},children:"%"})}),e.jsx(s,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Offers & Advance"})]}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:3},children:[e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fff7ed",border:"1px solid #fed7aa",height:"100%"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#9a3412",mb:2},children:"Extra Charges"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsx(p,{fullWidth:!0,label:"Price/KM",type:"number",value:zt,onChange:t=>Mt(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"}),e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"After KM"}),e.jsxs(B,{value:Lt,label:"After KM",onChange:t=>Ft(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"1",children:"Per KM"})]})]})]})]}),e.jsxs(r,{sx:{p:2.5,borderRadius:2,backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",height:"100%"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#1e40af",mb:2},children:"Advance Booking"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(C,{fullWidth:!0,size:"small",children:[e.jsx(P,{children:"Type"}),e.jsxs(B,{value:_a,label:"Type",onChange:t=>Sa(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat (â‚¹)"})]})]}),e.jsx(p,{fullWidth:!0,label:"Amount",type:"number",value:Ht,onChange:t=>Vt(t.target.value),InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"})]})]})]})]})]})})]})}),e.jsxs(r,{sx:{mt:3,p:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Vehicle Features"}),e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:M.decorationAvailable?{xs:"1fr",md:"1fr 1fr"}:"max-content",gap:3,alignItems:"center"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:3,px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",width:"fit-content",minWidth:260},children:[e.jsx(s,{fontSize:14,fontWeight:500,children:"Decoration Available"}),e.jsx(ks,{checked:M.decorationAvailable,onChange:t=>ye(i=>({...i,decorationAvailable:t.target.checked})),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#E15B65"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#E15B65"}}})]}),M.decorationAvailable&&e.jsx(r,{sx:{px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",minWidth:260},children:e.jsx(p,{fullWidth:!0,label:"Decoration Price (â‚¹)",type:"number",value:Y,onChange:t=>ea(t.target.value),inputProps:{min:0},placeholder:"e.g. 5000"})})]})]}),e.jsxs(r,{sx:{mt:4,p:3,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Upload Vehicle Documents"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Upload RC, Insurance, Permit or any supporting vehicle documents"}),e.jsxs(ja,{onDragOver:t=>t.preventDefault(),onDrop:ss,onClick:()=>document.getElementById("vehicle-documents-upload").click(),sx:{minHeight:160},children:[Aa.length>0?e.jsx(N,{spacing:1,sx:{width:"100%"},children:Aa.map((t,i)=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,border:"1px solid #e5e7eb",borderRadius:1,backgroundColor:"#ffffff"},children:[e.jsxs(s,{variant:"body2",noWrap:!0,children:["ðŸ“„ ",t.name]}),e.jsx(xt,{size:"small",onClick:()=>ia(o=>o.filter((n,u)=>u!==i)),children:"âœ•"})]},i))}):e.jsxs(e.Fragment,{children:[e.jsx(ha,{sx:{fontSize:42,color:"#E15B65",mb:1}}),e.jsx(s,{fontWeight:600,color:"#E15B65",children:"Click to upload documents"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Or drag & drop files here (PDF, JPG, PNG)"})]}),e.jsx("input",{id:"vehicle-documents-upload",type:"file",hidden:!0,multiple:!0,accept:".pdf,image/png,image/jpeg,image/jpg",onChange:as})]})]}),e.jsx(r,{sx:{mb:4},children:e.jsxs(L,{sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #ffffff, #fafafa)",border:"1px solid #eee"},children:[e.jsx(s,{variant:"h6",fontWeight:600,sx:{mb:.5},children:"Terms & Conditions"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Define rules & policies shown to customers during booking"}),D.map((t,i)=>e.jsxs(r,{sx:{mb:3,p:2,borderRadius:2,border:"1px solid #e5e7eb",backgroundColor:"#fff"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(p,{fullWidth:!0,label:"Section Heading",placeholder:"e.g. Booking & Confirmation",value:t.heading,onChange:o=>{const n=[...D];n[i].heading=o.target.value,X(n)}}),D.length>1&&e.jsx(Ie,{onClick:()=>X(o=>o.filter((n,u)=>u!==i)),sx:{ml:1,color:"error.main"},children:"âœ•"})]}),t.points.map((o,n)=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(p,{fullWidth:!0,label:`Point ${n+1}`,placeholder:"Enter policy detail",value:o,onChange:u=>{const h=[...D];h[i].points[n]=u.target.value,X(h)}}),t.points.length>1&&e.jsx(Ie,{onClick:()=>{const u=[...D];u[i].points.splice(n,1),X(u)},sx:{ml:1,color:"error.main"},children:"âœ•"})]},n)),e.jsx(Ie,{size:"small",onClick:()=>{const o=[...D];o[i].points.push(""),X(o)},sx:{mt:1,color:"#E15B65"},children:"+ Add Point"})]},i)),e.jsx(Ie,{variant:"outlined",onClick:()=>X([...D,{heading:"",points:[""]}]),sx:{mt:2,borderRadius:2,borderColor:"#E15B65",color:"#E15B65"},children:"+ Add Section"})]})}),e.jsx(r,{sx:{mb:4},children:e.jsx(L,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Search Tags"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert tags for appearing in user search results"}),e.jsx(p,{fullWidth:!0,label:"Type and press Enter",variant:"outlined",value:rt,onChange:cs,onKeyPress:us,placeholder:"Type and press Enter",sx:{mb:2}}),e.jsx(r,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:ta.map((t,i)=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",backgroundColor:f.palette.grey[200],borderRadius:f.shape.borderRadius,px:1,py:.5},children:[e.jsx(s,{variant:"body2",children:t}),e.jsx(xt,{size:"small",onClick:()=>gs(t),children:e.jsx(s,{sx:{fontSize:14},children:"Ã—"})})]},i))})]})})}),e.jsxs(r,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(Ie,{variant:"outlined",color:"#E15B65",size:"large",onClick:ca,sx:{color:"#E15B65"},children:ft?"Cancel":"Reset"}),e.jsx(Ie,{variant:"contained",type:"submit",size:"large",disabled:ot,startIcon:ot?e.jsx(La,{size:20,color:"inherit"}):null,sx:{color:"white",bgcolor:"#E15B65"},children:ot?"Submitting...":ft?"Update":"Submit"})]})]})]}),e.jsx(As,{open:Za,autoHideDuration:6e3,onClose:Ta,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{minWidth:"600px",maxWidth:"600px",width:"auto"}},children:e.jsx(Is,{onClose:Ta,severity:ka,sx:{width:"100%",backgroundColor:ka==="success"?"#1976d2":"#d32f2f",color:"white","& .MuiAlert-message":{whiteSpace:"pre-line",wordBreak:"break-word",fontSize:"1rem",lineHeight:1.5}},children:Ja})})]})};export{ir as default};
