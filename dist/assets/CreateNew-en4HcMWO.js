import{a0 as bt,j as e,g as ks,m as As,x as Is,d as Es,w as Ps,r,f as q,B as s,y as pt,z as Ws,T as i,c as _a,C as M,E as we,a as x,N as Bs,S as O,F as v,I as W,q as B,M as d,af as xe,H as f,R as z,Q as D,G as w,J as Rs,b as ke,U as zs,e as Ts}from"./index-BiJo9q02.js";import{D as ma}from"./DirectionsCar-CcJH7pfS.js";import{C as ba}from"./CloudUpload-BRgr_b6j.js";import{S as ja}from"./EventSeat-BdXDe9kB.js";import{S as mt,W as ya}from"./Wifi-CquuKGaY.js";import{S as Fs}from"./Settings-Cep_L3ZG.js";const Ca=bt(e.jsx("path",{d:"M17 6h-2V3c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v3H7c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2 0 .55.45 1 1 1s1-.45 1-1h6c0 .55.45 1 1 1s1-.45 1-1c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M9.5 18H8V9h1.5zm3.25 0h-1.5V9h1.5zm.75-12h-3V3.5h3zM16 18h-1.5V9H16z"})),Ls=bt(e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"})),Na=bt(e.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2m0 14H3V5h18z"})),$a=bt(e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"})),Sa=Bs(s)(({theme:h})=>({border:"2px dashed #d1d5db",borderRadius:"16px",padding:h.spacing(4),textAlign:"center",background:"linear-gradient(135deg, #ffffff 0%, #f9fafb 100%)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"180px",position:"relative",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(79, 70, 229, 0.03) 0%, rgba(124, 58, 237, 0.03) 100%)",opacity:0,transition:"opacity 0.3s ease"},"&:hover":{borderColor:"#4f46e5",transform:"translateY(-2px)",boxShadow:"0 10px 25px rgba(79, 70, 229, 0.1), 0 6px 10px rgba(0,0,0,0.05)","&::before":{opacity:1}},'& input[type="file"]':{display:"none"},[h.breakpoints.down("sm")]:{padding:h.spacing(3),minHeight:"150px",borderRadius:"12px"}})),fr=()=>{const h=ks(),Q=As(h.breakpoints.down("md")),he=Is(),jt=Es(),{id:Ae}=Ps(),yt=r.useRef(null),P=r.useRef(null),Ct=r.useRef(null),[va,Ka]=r.useState(""),[Ie,Ge]=r.useState(""),[qe,St]=r.useState(""),[Je,vt]=r.useState(""),[wt,kt]=r.useState(""),[At,It]=r.useState(""),[Ze,Et]=r.useState(""),[Ee,Pe]=r.useState("normal"),[Ye,Xe]=r.useState(""),[Pt,Wt]=r.useState("no"),[Bt,wa]=r.useState("no"),[Ms,Oa]=r.useState(""),[pe,Rt]=r.useState(""),[zt,Tt]=r.useState(""),[Ft,Lt]=r.useState(""),[Mt,Dt]=r.useState(""),[ka,Ht]=r.useState(""),[Ua,Aa]=r.useState(""),[ie,Vt]=r.useState(""),[Ga,Ia]=r.useState(""),[_t,Nt]=r.useState(""),[m,U]=r.useState({leatherSeats:!1,adjustableSeats:!1,armrest:!1,sunroof:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),[j,J]=r.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[k,ee]=r.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[ne,We]=r.useState({helmet:!1,storageBox:!1,abs:!1,mobileHolder:!1,rearRack:!1,windshield:!1}),C="https://api.bookmyevent.ae/api",qa=C.replace(/\/api\/?$/,""),$t="AIzaSyAfLUm1kPmeMkHh1Hr5nbgNpQJOsNa7B78",Be=localStorage.getItem("moduleId");r.useMemo(()=>{var t;return(t=he.state)==null?void 0:t.vehicle},[he.state]);const Ja=r.useMemo(()=>{var t,a;return(a=(t=he.state)==null?void 0:t.vehicle)==null?void 0:a._id},[he.state]),Re=r.useMemo(()=>{var t,a;return Ae||((a=(t=he.state)==null?void 0:t.vehicle)==null?void 0:a._id)||""},[Ae,Ja]),Za=r.useMemo(()=>Re?"edit":"create",[Re]),[ze,Kt]=r.useState(Za),[Qe,Ot]=r.useState(""),[Ut,Gt]=r.useState(""),[oe,qt]=r.useState(null),[te,et]=r.useState([]),[tt,Jt]=r.useState(""),[at,Zt]=r.useState(""),[Ds,Ya]=r.useState(""),[st,Yt]=r.useState(""),[Te,Xt]=r.useState(""),[rt,Qt]=r.useState(""),[me,be]=r.useState("yes"),[it,ea]=r.useState(""),[Ea,Pa]=r.useState(""),[Hs,Xa]=r.useState("hourly"),[Vs,Qa]=r.useState(""),[_s,es]=r.useState(""),[Ns,ts]=r.useState(""),[Fe,ta]=r.useState(""),[H,je]=r.useState({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),[Z,aa]=r.useState(""),[V,Y]=r.useState([{heading:"",points:[""]}]),[sa,nt]=r.useState([]),[ot,ra]=r.useState(""),[as,S]=r.useState(!1),[ss,A]=r.useState(""),[Wa,I]=r.useState("success"),[ia,na]=r.useState([]),[rs,$s]=r.useState([]),[Ks,is]=r.useState([]),[Os,Us]=r.useState({}),[Gs,qs]=r.useState(""),[Js,Zs]=r.useState(""),[Ys,Xs]=r.useState(""),[Qs,er]=r.useState(""),[tr,ar]=r.useState(""),[sr,rr]=r.useState(""),[ir,ns]=r.useState({}),[Ba,oa]=r.useState([]),[E,la]=r.useState([]),[os,le]=r.useState([]),[b,lt]=r.useState(""),[dt,ye]=r.useState(""),Le=!!b,Ra=t=>{if(!t)return"";if(t.startsWith("http"))return t;const a=t.startsWith("/")?t:`/${t}`;return`${qa}${a}`},za=t=>{const a=t.target.src;if(a.includes("/uploads/")&&!t.target.dataset.triedCapital)console.log("Retrying image with capital Uploads:",a),t.target.src=a.replace("/uploads/","/Uploads/"),t.target.dataset.triedCapital="true";else if(t.target.dataset.triedApi)t.target.src="https://placehold.co/100x100?text=No+Image";else{console.log("Retrying image with /api prefix:",a);const n=new URL(a);t.target.src=`${n.origin}/api${n.pathname}`,t.target.dataset.triedApi="true"}},[de,da]=r.useState([]),[Ta,Fa]=r.useState(!1),[ct,_]=r.useState(!1),[ut,gt]=r.useState(""),[Me,ft]=r.useState([]),[xt,Ce]=r.useState(""),[N,Se]=r.useState(""),[$,ve]=r.useState(""),[nr,ls]=r.useState(""),[X,La]=r.useState(!1),[y,Ma]=r.useState(null),K=r.useMemo(()=>{var a;if(!b||!E.length)return!1;const t=E.find(n=>n._id===b);return console.log("Category check (Bus):",t==null?void 0:t.title),(a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("bus")},[b,E]),ce=r.useMemo(()=>{var a,n;if(!b||!E.length)return!1;const t=E.find(o=>o._id===b);return console.log("Category check (Car):",t==null?void 0:t.title),((a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("car"))||((n=t==null?void 0:t.title)==null?void 0:n.toLowerCase().includes("vehicle"))},[b,E]),ae=r.useMemo(()=>{var a;if(!b||!E.length)return!1;const t=E.find(n=>n._id===b);return console.log("Category check (Van):",t==null?void 0:t.title),(a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("van")},[b,E]),ht=r.useMemo(()=>{var a;if(!b||!E.length)return!1;const t=E.find(n=>n._id===b);return console.log("Category check (Bike):",t==null?void 0:t.title),(a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("bike")},[b,E]),ds=t=>{const a=Array.from(t.target.files);oa(n=>[...n,...a])},cs=t=>{t.preventDefault();const a=Array.from(t.dataTransfer.files);oa(n=>[...n,...a])};r.useEffect(()=>{if(window.google&&window.google.maps){La(!0);return}const t=document.createElement("script");return t.src=`https://maps.googleapis.com/maps/api/js?key=${$t}&libraries=places`,t.async=!0,t.defer=!0,t.onload=()=>{La(!0)},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[$t]),r.useEffect(()=>{X&&window.google&&window.google.maps&&us()},[X]);const us=r.useCallback(()=>{if(!window.google||!yt.current||!X)return;const t=N&&$?parseFloat(N):20.5937,a=N&&$?parseFloat($):78.9629,n={lat:t,lng:a},o=new window.google.maps.Map(yt.current,{zoom:12,center:n});o.addListener("click",u=>{const p=u.latLng.lat(),g=u.latLng.lng();Se(p.toString()),ve(g.toString()),P.current&&P.current.setMap(null),P.current=new window.google.maps.Marker({position:{lat:p,lng:g},map:o}),new window.google.maps.Geocoder().geocode({location:{lat:p,lng:g}},(T,L)=>{L==="OK"&&T[0]?(Ce(T[0].formatted_address),A("Location set and address auto-filled!"),I("success"),S(!0)):(A("Location set, but could not determine address."),I("info"),S(!0))})}),Ma(o)},[X,N,$]);r.useEffect(()=>{if(!X||!y||!Ct.current||!window.google)return;const t=new window.google.maps.places.Autocomplete(Ct.current,{fields:["place_id","geometry","name","formatted_address"]}),a=t.addListener("place_changed",()=>{const n=t.getPlace();if(!n.geometry||!n.geometry.location)return;const o=n.geometry.location;n.geometry.viewport?y.fitBounds(n.geometry.viewport):(y.setCenter(o),y.setZoom(17)),P.current&&P.current.setMap(null),P.current=new window.google.maps.Marker({position:o,map:y}),Se(o.lat().toString()),ve(o.lng().toString()),Ce(n.formatted_address||n.name),A("Location selected!"),I("success"),S(!0)});return()=>{window.google&&window.google.maps.event&&window.google.maps.event.removeListener(a)}},[X,y]),r.useEffect(()=>{if(!y||!N||!$)return;const t={lat:parseFloat(N),lng:parseFloat($)};y.setCenter(t),y.setZoom(12),P.current?P.current.setPosition(t):P.current=new window.google.maps.Marker({position:t,map:y})},[N,$,y]),r.useEffect(()=>{if(!Te||!X||!window.google||!window.google.maps)return;new window.google.maps.Geocoder().geocode({address:Te},(a,n)=>{if(n==="OK"&&a[0]){const o=a[0].geometry.location,u=o.lat().toString(),p=o.lng().toString();Se(u),ve(p),Ce(a[0].formatted_address),y&&(y.setCenter({lat:o.lat(),lng:o.lng()}),y.setZoom(12),P.current&&P.current.setMap(null),P.current=new window.google.maps.Marker({position:{lat:o.lat(),lng:o.lng()},map:y})),A(`Location set for ${Te}!`),I("success"),S(!0)}else A(`Could not find location for ${Te}`),I("warning"),S(!0)})},[Te,X,y]);const ca=r.useCallback(t=>{var o,u,p,g,R,T,L,ue,ge,fe,re,G,Ve,_e,Ne,$e,Ke,Oe,Ue,c;console.log("Setting vehicle data:",t),t.brand&&t.brand._id&&!ia.some(l=>l._id===t.brand._id)&&na(l=>[...l,{_id:t.brand._id,title:t.brand.title||t.brand.name||"Unknown Brand"}]),t.featuredImage&&gt(t.featuredImage),t.galleryImages&&Array.isArray(t.galleryImages)&&ft(t.galleryImages),(o=t.category)!=null&&o._id&&(lt(t.category._id),q.get(`${C}/categories/parents/${t.category._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(l=>le(l.data.data||[])).catch(()=>le([]))),t.subCategory&&(typeof t.subCategory=="object"&&t.subCategory._id?ye(t.subCategory._id):typeof t.subCategory=="string"&&ye(t.subCategory)),t.zone&&t.zone._id&&!de.some(l=>l._id===t.zone._id)&&da(l=>[...l,{_id:t.zone._id,name:t.zone.name||"Unknown Zone"}]);const a=((u=t.zone)==null?void 0:u._id)||"";Yt(a);const n=de.find(l=>l._id===a)||t.zone&&{name:t.zone.name};if(Xt(n?n.name:""),Ot(t.name||""),Gt(t.description||""),Jt(((p=t.brand)==null?void 0:p._id)||""),Zt(t.model||""),ea(t.licensePlateNumber||""),t.capacityAndComfort&&(Qt(((g=t.capacityAndComfort.seatingCapacity)==null?void 0:g.toString())||""),Wt(t.capacityAndComfort.pushbackSeats?"yes":"no"),wa(t.capacityAndComfort.reclinerSeats?"yes":"no")),t.engineCharacteristics&&(Ge(((R=t.engineCharacteristics.transmissionType)==null?void 0:R.value)||""),St(((T=t.engineCharacteristics.powerBHP)==null?void 0:T.toString())||""),vt(((L=t.engineCharacteristics.engineCapacityCC)==null?void 0:L.toString())||""),kt(t.engineCharacteristics.torque||""),It(t.engineCharacteristics.mileage||""),Xe(t.engineCharacteristics.fuelType||""),be(t.engineCharacteristics.airConditioning?"yes":"no")),t.location&&(Ce(t.location.address||""),Se(((ue=t.location.latitude)==null?void 0:ue.toString())||""),ve(((ge=t.location.longitude)==null?void 0:ge.toString())||"")),t.availability&&(je(l=>({...l,driverIncluded:t.availability.driverIncluded??!1})),t.availability.sunroof!==void 0&&U(l=>({...l,sunroof:t.availability.sunroof})),t.availability.acAvailable!==void 0&&be(t.availability.acAvailable?"yes":"no")),t.features&&(t.features.interiorFeatures&&J(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&J(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,microphone:t.features.entertainment.microphone??!1,ledDisplay:t.features.entertainment.lcdDisplay??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&J(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,ledEmergencyExit:t.features.safetyAndCompliance.emergencyExit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&J(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.interiorComfort&&U(l=>({...l,leatherSeats:t.features.interiorComfort.leatherSeats??!1,adjustableSeats:t.features.interiorComfort.adjustableSeats??!1,armrest:t.features.interiorComfort.armrest??!1})),t.features.entertainment&&U(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,bluetooth:t.features.entertainment.bluetooth??!1,usbAux:t.features.entertainment.usbAux??!1})),t.features.safety&&U(l=>({...l,airbags:t.features.safety.airbags??!1,abs:t.features.safety.abs??!1,rearCamera:t.features.safety.rearCamera??!1,parkingSensors:t.features.safety.parkingSensors??!1})),t.features.convenience&&U(l=>({...l,powerWindows:t.features.convenience.powerWindows??!1,centralLock:t.features.convenience.centralLock??!1,keylessEntry:t.features.convenience.keylessEntry??!1})),t.features.interiorFeatures&&ee(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&ee(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&ee(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&ee(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.safetyAccessories&&We(l=>({...l,helmet:t.features.safetyAccessories.helmet??!1,abs:t.features.safetyAccessories.abs??!1,mobileHolder:t.features.safetyAccessories.mobileHolder??!1})),t.features.utilityStorage&&We(l=>({...l,storageBox:t.features.utilityStorage.storageBox??!1,rearRack:t.features.utilityStorage.rearRack??!1,windshield:t.features.utilityStorage.windshield??!1}))),t.extraAddons){const l=((re=(fe=t.category)==null?void 0:fe.title)==null?void 0:re.toLowerCase())||"";l.includes("bus")?J(F=>({...F,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):l.includes("van")?ee(F=>({...F,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):(l.includes("car")||l.includes("vehicle"))&&U(F=>({...F,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})),Pe(t.extraAddons.interiorLighting?"premium":"normal")}t.pricing&&(t.pricing.basicPackage&&(Rt(((G=t.pricing.basicPackage.price)==null?void 0:G.toString())||""),Tt(((Ve=t.pricing.basicPackage.includedHours)==null?void 0:Ve.toString())||""),Lt(((_e=t.pricing.basicPackage.includedKilometers)==null?void 0:_e.toString())||"")),t.pricing.extraKmPrice&&(Dt(((Ne=t.pricing.extraKmPrice.price)==null?void 0:Ne.toString())||""),Aa((($e=t.pricing.extraKmPrice.km)==null?void 0:$e.toString())||"")),t.pricing.extraHourPrice&&Ht(((Ke=t.pricing.extraHourPrice)==null?void 0:Ke.toString())||""),t.pricing.discount&&(Vt(t.pricing.discount.type==="flat_rate"?"flat":"percentage"),ta(((Oe=t.pricing.discount.value)==null?void 0:Oe.toString())||"")),t.pricing.decoration&&(je(l=>({...l,decorationAvailable:t.pricing.decoration.available??!1})),aa(((Ue=t.pricing.decoration.price)==null?void 0:Ue.toString())||""))),Nt(((c=t.advanceBookingAmount)==null?void 0:c.toString())||""),t.vehicleType&&Et(t.vehicleType),t.termsAndConditions&&Array.isArray(t.termsAndConditions)&&t.termsAndConditions.length>0?Y(t.termsAndConditions.map(l=>({heading:l.heading||"",points:Array.isArray(l.points)&&l.points.length>0?l.points:[""]}))):typeof t.termsAndConditions=="string"?Y([{heading:"Terms & Conditions",points:[t.termsAndConditions]}]):Y([{heading:"",points:[""]}]),nt(t.searchTags||[]),console.log("âœ… Vehicle data populated successfully")},[ia,rs,de,C,J,ee,U,We]);r.useEffect(()=>()=>{te.forEach(t=>URL.revokeObjectURL(t))},[te]),r.useEffect(()=>{(async()=>{var a,n,o,u,p;try{if(!Be)throw new Error("Module ID is not defined. Please log in or set moduleId in localStorage.");const g=localStorage.getItem("token"),[R,T,L]=await Promise.all([q.get(`${C}/brands/module/${Be}`,{headers:{Authorization:`Bearer ${g}`}}),q.get(`${C}/categories/parents/${Be}`,{headers:{Authorization:`Bearer ${g}`}}),q.get(`${C}/zones`,{headers:{Authorization:`Bearer ${g}`,Accept:"application/json"}})]);la(((a=T.data)==null?void 0:a.data)||[]);const ue=Array.isArray(R.data)?R.data:R.data.data||[];na(ue);const ge=((n=T.data)==null?void 0:n.data)||[];la(ge);const fe=L.data.data||L.data||[],re=Array.isArray(fe)?fe.filter(G=>G.isActive).map(G=>({_id:G._id,name:G.name})):[];da(re),console.log("Module ID:",Be),console.log("Brands:",ue),console.log("Parent Categories:",ge),console.log("Zones:",re),Fa(!0)}catch(g){console.error("Error fetching brands/categories/zones:",((o=g.response)==null?void 0:o.data)||g),na([]),la([]),da([]),Fa(!0),A(((p=(u=g.response)==null?void 0:u.data)==null?void 0:p.message)||"Failed to fetch brands, categories, or zones"),I("error"),S(!0)}})()},[Be,C]),r.useEffect(()=>{if(E.length>0&&!b&&ze==="create"){const t=E[0];lt(t._id),q.get(`${C}/categories/parents/${t._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{const n=a.data.data||[];le(n),n.length>0&&ye(n[0]._id)}).catch(a=>{console.error("Failed to fetch subcategories:",a),le([])})}},[E,b,ze,C]),r.useEffect(()=>{(async()=>{var a;try{const u=(((a=(await q.get(`${C}/vehicle-attributes`)).data)==null?void 0:a.data)||[]).filter(g=>g.status),p={};u.forEach(g=>{p[g.title.toLowerCase()]=g.values||[]}),is(u),ns(p),console.log("âœ… Vehicle Attributes Loaded:",u)}catch(n){console.error("âŒ Failed to load vehicle attributes",n)}})()},[C]),r.useEffect(()=>{var a;if(!Ta)return;const t=(a=he.state)==null?void 0:a.vehicle;t?(ca(t),gt(t.thumbnail||""),ft(t.images||[]),Kt("edit")):Ae&&(async()=>{var o,u,p;_(!0);try{const g=await q.get(`${C}/vehicles/${Ae}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),R=g.data.data||g.data;console.log("Vehicle data fetched for edit:",R),ca(R),gt(R.thumbnail||""),ft(R.images||[]),Kt("edit")}catch(g){A(((u=(o=g.response)==null?void 0:o.data)==null?void 0:u.message)||"Failed to fetch vehicle data"),I("error"),S(!0),console.error("Error fetching vehicle:",((p=g.response)==null?void 0:p.data)||g)}finally{_(!1)}})()},[Ta,Ae,ca]);const gs=async t=>{const a=t.target.value;if(lt(a),ye(""),le([]),!!a)try{const n=await q.get(`${C}/categories/parents/${a}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});le(n.data.data||[])}catch(n){console.error("Failed to fetch sub categories",n),le([])}},fs=r.useCallback(t=>{const a=t.target.files[0];a&&qt(a)},[]),Da=r.useCallback(t=>{t.preventDefault()},[]),xs=r.useCallback(t=>{t.preventDefault();const a=t.dataTransfer.files[0];a&&qt(a)},[]),hs=r.useCallback(t=>{const a=Array.from(t.target.files);et(n=>[...n,...a])},[]),ps=r.useCallback(t=>{t.preventDefault();const a=Array.from(t.dataTransfer.files);et(n=>[...n,...a])},[]),ms=r.useCallback(t=>{ra(t.target.value)},[]),bs=r.useCallback(t=>{t.key==="Enter"&&ot.trim()&&(nt(a=>[...a,ot.trim()]),ra(""),t.preventDefault())},[ot]),js=r.useCallback(t=>{nt(a=>a.filter(n=>n!==t))},[]),ua=()=>(Pa(""),!0),ga=r.useCallback(()=>{Ot(""),Gt(""),Ce(""),Jt(""),Zt(""),Ya(""),Yt(""),Xt(""),lt(""),ye(""),qt(null),et([]),gt(""),ft([]),Qt(""),be("yes"),ea(""),Pa(""),Ge(""),St(""),vt(""),kt(""),It(""),Et(""),Xe(""),Wt("no"),Oa(""),je({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),U({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),J({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),Rt(""),Tt(""),Lt(""),Dt(""),Ht(""),Aa(""),Vt(""),Ia(""),Nt(""),Pe("normal"),Xa("hourly"),Qa(""),es(""),ts(""),ta(""),aa(""),nt([]),ra(""),Se(""),ve(""),ls(""),Kt("create"),P.current&&(P.current.setMap(null),P.current=null),y&&Ma(null)},[y]),ys=r.useCallback(async t=>{var G,Ve,_e,Ne,$e,Ke,Oe,Ue;t.preventDefault();const a=ze==="edit";if(_(!0),!Qe||!tt||!at||!b||!dt||!st||!rt||!it||!xt||!N||!$){A("Please fill all required fields."),I("error"),S(!0),_(!1);return}if(H.decorationAvailable&&(!Z||parseFloat(Z)<=0)){A("Please provide a valid decoration price when decoration is available."),I("error"),S(!0),_(!1);return}if((K||ce)&&!pe){A("Please provide a basic package price."),I("error"),S(!0),_(!1);return}if(!oe&&!ut&&!a){A("Please upload a featured image."),I("error"),S(!0),_(!1);return}if(te.length===0&&Me.length===0&&!a){A("Please upload at least one gallery image."),I("error"),S(!0),_(!1);return}if(ua(),!V.length||!V[0].heading){A("Please add at least one Terms & Conditions section."),I("error"),S(!0),_(!1);return}const n=localStorage.getItem("token");if(!n){A("No authentication token found. Please log in."),I("error"),S(!0),_(!1);return}const o=new FormData;o.append("name",Qe),o.append("description",Ut),o.append("brand",tt),o.append("category",b),o.append("subCategory",dt),o.append("model",at);const u={seatingCapacity:parseInt(rt)||0,legroomType:va||"",pushbackSeats:Pt==="yes",reclinerSeats:Bt==="yes"};o.append("capacityAndComfort",JSON.stringify(u));const p={transmissionType:{value:Ie||"",available:!!Ie},powerBHP:qe?parseInt(qe):0,engineCapacityCC:Je?parseInt(Je):0,torque:wt||"",mileage:At||"",fuelType:Ye||"",airConditioning:me==="yes"};o.append("engineCharacteristics",JSON.stringify(p));const g={address:xt,latitude:parseFloat(N)||0,longitude:parseFloat($)||0};o.append("location",JSON.stringify(g)),o.append("zone",st);const R={driverIncluded:H.driverIncluded||!1,sunroof:m.sunroof||!1,acAvailable:me==="yes"};if(o.append("availability",JSON.stringify(R)),K){const c={interiorFeatures:{curtains:j.curtains||!1,readingLights:j.readingLights||!1,footRest:j.footRest||!1,mirror:!1},entertainment:{musicSystem:j.musicSystem||!1,microphone:j.microphone||!1,lcdDisplay:j.ledDisplay||!1,tvScreen:j.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:j.fireExtinguisher||!1,firstAidKit:j.firstAidKit||!1,emergencyExit:j.ledEmergencyExit||!1,cctv:j.cctv||!1},storage:{luggageCarrier:j.luggageCarrier||!1,overheadStorage:j.overheadStorage||!1}};o.append("features",JSON.stringify(c))}if(ce){const c={interiorComfort:{leatherSeats:m.leatherSeats||!1,adjustableSeats:m.adjustableSeats||!1,armrest:m.armrest||!1},entertainment:{musicSystem:m.musicSystem||!1,bluetooth:m.bluetooth||!1,usbAux:m.usbAux||!1},safety:{airbags:m.airbags||!1,abs:m.abs||!1,rearCamera:m.rearCamera||!1,parkingSensors:m.parkingSensors||!1},convenience:{powerWindows:m.powerWindows||!1,centralLock:m.centralLock||!1,keylessEntry:m.keylessEntry||!1}};o.append("features",JSON.stringify(c))}if(ae){const c={interiorFeatures:{curtains:k.curtains||!1,readingLights:k.readingLights||!1,footRest:k.footRest||!1,bottleHolder:k.bottleHolder||!1},entertainment:{musicSystem:k.musicSystem||!1,tvScreen:k.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:k.fireExtinguisher||!1,firstAidKit:k.firstAidKit||!1,cctv:k.cctv||!1},storage:{luggageCarrier:k.luggageCarrier||!1,overheadStorage:k.overheadStorage||!1}};o.append("features",JSON.stringify(c))}if(ht){const c={safetyAccessories:{helmet:ne.helmet||!1,abs:ne.abs||!1,mobileHolder:ne.mobileHolder||!1},utilityStorage:{storageBox:ne.storageBox||!1,rearRack:ne.rearRack||!1,windshield:ne.windshield||!1}};o.append("features",JSON.stringify(c))}let T=!1,L=!1;K?(T=j.wifi,L=j.chargingPoints):ae?(T=k.wifi,L=k.chargingPoints):ce&&(T=m.wifi,L=m.chargingPoints);const ue={wifi:T,chargingPorts:L,interiorLighting:Ee==="premium"};o.append("extraAddons",JSON.stringify(ue));const ge=()=>{const c=parseFloat(pe)||0,l=H.decorationAvailable&&Z?parseFloat(Z):0,F=parseFloat(Fe)||0;let pa=0;return ie==="percentage"?pa=c*F/100:ie==="flat"&&(pa=F),Math.max(c+l-pa,0)},fe={basicPackage:{price:parseFloat(pe)||0,includedKilometers:parseFloat(Ft)||0,includedHours:parseFloat(zt)||0},extraKmPrice:parseFloat(Mt)||0,extraHourPrice:parseFloat(ka)||0,discount:{type:ie==="flat"?"flat_rate":"percentage",value:parseFloat(Fe)||0},decoration:{available:H.decorationAvailable||!1,price:parseFloat(Z)||0},grandTotal:ge()};o.append("pricing",JSON.stringify(fe)),o.append("advanceBookingAmount",parseFloat(_t)||0),o.append("licensePlateNumber",it),ce&&Ze&&o.append("vehicleType",Ze),o.append("termsAndConditions",JSON.stringify(V)),sa.forEach(c=>o.append("searchTags[]",c)),oe&&o.append("featuredImage",oe),te.forEach(c=>{o.append("galleryImages",c)});const re={};for(let[c,l]of o.entries())re[c]=l instanceof File?l.name:l;console.log("ðŸ“¤ FormData being sent:",re);try{let c,l;const F={headers:{Authorization:`Bearer ${n}`}};if(a){if(!Re)throw new Error("Invalid vehicle ID for update");c=await q.put(`${C}/vehicles/${Re}`,o,F),l=c.data.data||c.data}else c=await q.post(`${C}/vehicles`,o,F),l=c.data.data||c.data;console.log("âœ… API Response:",c.data),A(a?"Vehicle updated successfully!":"Vehicle added successfully!"),I("success"),S(!0),ga(),a&&jt("/vehicle-setup/lists",{state:{vehicle:l}})}catch(c){console.error("âŒ API Error:",{status:(G=c.response)==null?void 0:G.status,statusText:(Ve=c.response)==null?void 0:Ve.statusText,data:(_e=c.response)==null?void 0:_e.data,headers:(Ne=c.response)==null?void 0:Ne.headers,message:c.message});let l=((Ke=($e=c.response)==null?void 0:$e.data)==null?void 0:Ke.message)||"Failed to save vehicle";(Ue=(Oe=c.response)==null?void 0:Oe.data)!=null&&Ue.errors&&(l=c.response.data.errors.map(F=>F.msg).join(", ")),A(l),I("error"),S(!0)}finally{_(!1)}},[ze,Re,Qe,Ut,tt,at,b,dt,st,rt,me,H,Z,it,xt,N,$,Ie,qe,Je,wt,At,Ze,Ee,Ye,Pt,Bt,m,j,pe,zt,Ft,Mt,Ua,ie,Fe,_t,V,sa,oe,te,ut,Me,ua,ga,jt,C,U,J,ee,We,K,ce,ae,ht,C,de]),Ha=r.useCallback((t,a)=>{a!=="clickaway"&&S(!1)},[]),De=ze==="edit",Cs=r.useCallback(t=>{const a=t.target.value;Yt(a);const n=de.find(o=>o._id===a);Xt(n?n.name:"")},[de]),fa=t=>a=>{U(n=>({...n,[t]:a.target.checked}))},xa=t=>a=>{J(n=>({...n,[t]:a.target.checked}))},ha=t=>a=>{ee(n=>({...n,[t]:a.target.checked}))},Ss=t=>a=>{We(n=>({...n,[t]:a.target.checked}))},He=Number(pe)||0,vs=H.decorationAvailable&&Z?Number(Z):0,Va=Number(Fe)||0;let se=0;ie==="percentage"&&(se=He*Va/100),ie==="flat"&&(se=Va),se>He&&(se=He);const ws=Math.max(He+vs-se,0);return e.jsxs(s,{sx:{p:Q?2:4,background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",minHeight:"100vh",width:"100%"},children:[e.jsxs(s,{sx:{maxWidth:"lg",margin:"auto",backgroundColor:"#ffffff",borderRadius:{xs:"12px",sm:"16px",md:"20px"},boxShadow:"0 4px 20px rgba(0,0,0,0.08), 0 1px 3px rgba(0,0,0,0.05)",p:{xs:2,sm:3,md:4},overflowX:"hidden"},children:[e.jsx(s,{sx:{background:"linear-gradient(135deg, #4d4d4f 0%, #dedbe3 100%)",borderRadius:{xs:"12px",sm:"14px",md:"16px"},p:{xs:2,sm:2.5,md:3},mb:{xs:3,md:4},position:"relative",overflow:"hidden",boxShadow:"0 8px 24px rgba(79, 70, 229, 0.2)","&::before":{content:'""',position:"absolute",top:"-50%",right:"-10%",width:"300px",height:"300px",background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)",borderRadius:"50%",display:{xs:"none",sm:"block"}}},children:e.jsx(s,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},position:"relative",zIndex:1,gap:{xs:2,sm:0}},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2},width:"100%"},children:[De&&e.jsx(pt,{onClick:()=>jt("/vehicle-setup/lists"),sx:{color:"white",backgroundColor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)","&:hover":{backgroundColor:"rgba(255,255,255,0.3)",transform:"translateX(-2px)"},transition:"all 0.3s ease",width:{xs:36,sm:40},height:{xs:36,sm:40}},children:e.jsx(Ws,{sx:{fontSize:{xs:20,sm:24}}})}),e.jsx(s,{sx:{width:{xs:40,sm:44,md:48},height:{xs:40,sm:44,md:48},borderRadius:{xs:"10px",md:"12px"},background:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",flexShrink:0},children:e.jsx(ma,{sx:{fontSize:{xs:22,sm:26,md:28},color:"white"}})}),e.jsxs(s,{sx:{flex:1,minWidth:0},children:[e.jsx(i,{variant:"h4",component:"h1",sx:{fontWeight:700,color:"white",letterSpacing:"-0.5px",fontSize:{xs:"1.25rem",sm:"1.75rem",md:"2rem"},lineHeight:1.2},children:De?"Edit Vehicle":"Add New Vehicle"}),e.jsx(i,{variant:"body2",sx:{color:"rgba(255,255,255,0.9)",mt:.5,fontSize:{xs:"0.75rem",sm:"0.875rem"},display:{xs:"none",sm:"block"}},children:De?"Update vehicle information and details":"Create a new vehicle package with all details"})]})]})})}),ct&&e.jsx(s,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx(_a,{})}),e.jsxs(s,{component:"form",onSubmit:ys,children:[e.jsxs(s,{sx:{display:"flex",flexDirection:Q?"column":"row",gap:3,mb:4},children:[e.jsx(M,{sx:{flex:Q?"auto":2,p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(we,{sx:{"&:last-child":{pb:2}},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"General Information"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the basic information of the vehicle"}),e.jsx(x,{fullWidth:!0,label:"Vehicle Name*",variant:"outlined",value:Qe,onChange:t=>Ot(t.target.value),placeholder:"Type vehicle name",sx:{mb:2},required:!0}),e.jsx(x,{fullWidth:!0,label:"Short Description",variant:"outlined",multiline:!0,rows:4,value:Ut,onChange:t=>Gt(t.target.value),placeholder:"Type short description",sx:{mb:2}})]})}),e.jsx(M,{sx:{flex:Q?"auto":1,p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(we,{sx:{"&:last-child":{pb:2}},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Featured Image*"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"JPG, JPEG, PNG Less Than 1MB (Ratio 2:1)"}),e.jsxs(Sa,{onDragOver:Da,onDrop:xs,onClick:()=>document.getElementById("thumbnail-upload").click(),children:[oe?e.jsxs(s,{children:[e.jsx("img",{src:URL.createObjectURL(oe),alt:"Featured image preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:h.spacing(1)}}),e.jsx(i,{variant:"body2",color:"text.secondary",children:oe.name})]}):ut?e.jsxs(s,{children:[e.jsx("img",{src:Ra(ut),alt:"Existing featured image",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:h.spacing(1),borderColor:"#E15B65"},onError:za}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Existing featured image. Upload to replace."})]}):e.jsxs(s,{children:[e.jsx(ba,{sx:{fontSize:40,color:"#E15B65",mb:1}}),e.jsx(i,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),e.jsx(i,{variant:"body2",color:"#E15B65",children:"Or drag and drop"})]}),e.jsx("input",{type:"file",id:"thumbnail-upload",name:"featuredImage",hidden:!0,accept:"image/jpeg,image/png,image/jpg",onChange:fs})]})]})})]}),e.jsx(s,{sx:{mb:4},children:e.jsx(M,{sx:{p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(we,{sx:{"&:last-child":{pb:2}},children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,children:["Gallery Images",e.jsx("span",{style:{color:"#E15B65"},children:"*"})]}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload high quality images (JPG, JPEG, PNG â€¢ Max 1MB â€¢ Ratio 2:1)"}),e.jsxs(Sa,{onDragOver:Da,onDrop:ps,onClick:()=>document.getElementById("images-upload").click(),sx:{backgroundColor:"#fafafa",border:"2px dashed #E15B65",borderRadius:2,p:3,transition:"0.3s","&:hover":{backgroundColor:"#fff1f2"}},children:[Me.length>0||te.length>0?e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:2,width:"100%"},children:[Me.map((t,a)=>e.jsxs(s,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:Ra(t),alt:`Existing ${a}`,style:{width:"100%",height:90,objectFit:"cover"},onError:za}),e.jsx(s,{sx:{position:"absolute",top:6,left:6,backgroundColor:"#000",color:"#fff",fontSize:10,px:.8,py:.2,borderRadius:1,opacity:.75},children:"Existing"})]},`existing-${a}`)),te.map((t,a)=>e.jsxs(s,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`New ${a}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(pt,{size:"small",onClick:()=>et(n=>n.filter((o,u)=>u!==a)),sx:{position:"absolute",top:4,right:4,backgroundColor:"#fff",boxShadow:1,"&:hover":{backgroundColor:"#fee2e2"}},children:"âœ•"})]},`new-${a}`))]}):e.jsxs(s,{sx:{textAlign:"center"},children:[e.jsx(ba,{sx:{fontSize:46,color:"#E15B65",mb:1}}),e.jsx(i,{fontWeight:600,color:"#E15B65",children:"Click to upload images"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"or drag & drop files here"})]}),e.jsxs(i,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block",textAlign:"center"},children:[Me.length+te.length," image(s) selected"]}),e.jsx("input",{type:"file",id:"images-upload",name:"galleryImages",hidden:!0,accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:hs})]})]})})}),e.jsx(s,{sx:{mb:4},children:e.jsx(M,{sx:{p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(we,{sx:{"&:last-child":{pb:2}},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Vehicle Information"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Insert the vehicle's general information"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:Q?"1fr":"repeat(3, 1fr)",gap:h.spacing(3),mb:4},children:[e.jsxs(O,{spacing:2,children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Basic Info"}),e.jsxs(v,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(W,{id:"brand-label",children:"Select Brand / Manufacturer"}),e.jsxs(B,{labelId:"brand-label",id:"brand-select",value:tt,label:"Select Brand / Manufacturer",onChange:t=>Jt(t.target.value),children:[e.jsx(d,{value:"",children:"Select vehicle brand"}),ia.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsx(x,{fullWidth:!0,label:"Enter Model Name",variant:"outlined",value:at,onChange:t=>Zt(t.target.value),placeholder:"e.g. Camry, Bus X",required:!0}),!K&&e.jsx(x,{fullWidth:!0,label:"Year of Manufacture",variant:"outlined",placeholder:"e.g. 2023"})]}),e.jsxs(O,{spacing:2,children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Capacity & Comfort"}),e.jsx(x,{fullWidth:!0,label:"Seating Capacity",variant:"outlined",value:rt,onChange:t=>Qt(t.target.value),placeholder:"Number of seats",type:"number",inputProps:{min:1},required:!0}),(K||ae)&&e.jsxs(v,{fullWidth:!0,variant:"outlined",children:[e.jsx(W,{id:"legroom-label",children:"Select Legroom Type"}),e.jsxs(B,{labelId:"legroom-label",value:va,label:"Select Legroom Type",onChange:t=>Ka(t.target.value),children:[e.jsx(d,{value:"",children:"Select Legroom"}),e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"extra",children:"Extra"}),e.jsx(d,{value:"premium",children:"Premium"})]})]}),(K||ae)&&e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(s,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Pushback seats"}),e.jsxs(xe,{row:!0,value:Pt,onChange:t=>Wt(t.target.value),children:[e.jsx(f,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"Yes"})}),e.jsx(f,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"No"})})]})]}),e.jsxs(s,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Recliner Seats"}),e.jsxs(xe,{row:!0,value:Bt,onChange:t=>wa(t.target.value),children:[e.jsx(f,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"Yes"})}),e.jsx(f,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"No"})})]})]})]}),!K&&e.jsxs(v,{component:"fieldset",fullWidth:!0,sx:{mt:1},children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(xe,{row:!0,value:me,onChange:t=>be(t.target.value),children:[e.jsx(f,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"Yes"})}),e.jsx(f,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"No"})})]})]})]}),e.jsxs(O,{spacing:2,children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Zone & Location"}),e.jsxs(v,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(W,{id:"zone-label",children:"Zone*"}),e.jsxs(B,{labelId:"zone-label",value:st,label:"Zone",onChange:Cs,children:[e.jsx(d,{value:"",children:"Select zone"}),de.map(t=>e.jsx(d,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(v,{fullWidth:!0,required:!0,children:[e.jsx(W,{children:"Parent Category"}),e.jsxs(B,{value:b,label:"Parent Category",onChange:gs,children:[e.jsx(d,{value:"",children:"Select Parent Category"}),E.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsxs(v,{fullWidth:!0,required:!0,disabled:!b,children:[e.jsx(W,{children:"Sub Category"}),e.jsxs(B,{value:dt,label:"Sub Category",onChange:t=>ye(t.target.value),children:[e.jsx(d,{value:"",children:"Select Sub Category"}),os.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]})]})]}),e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,mb:3},children:"Engine & Performance"}),K||ae?e.jsxs(O,{spacing:3,children:[e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:Q?"1fr":"repeat(3, 1fr)",gap:h.spacing(3)},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(W,{children:"Select Fuel Type"}),e.jsxs(B,{value:Ye,label:"Select Fuel Type",onChange:t=>Xe(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(W,{children:"Transmission"}),e.jsxs(B,{value:Ie,label:"Transmission",onChange:t=>Ge(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(W,{children:"Climate Control"}),e.jsxs(B,{value:me,label:"Climate Control",onChange:t=>be(t.target.value),children:[e.jsx(d,{value:"yes",children:"AC"}),e.jsx(d,{value:"no",children:"Non-AC"})]})]})]}),e.jsxs(v,{component:"fieldset",fullWidth:!0,children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(xe,{row:!0,value:me,onChange:t=>be(t.target.value),children:[e.jsx(f,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"Yes"})}),e.jsx(f,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(i,{variant:"body2",children:"No"})})]})]})]}):e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:Q?"1fr":"repeat(3, 1fr)",gap:h.spacing(3)},children:[e.jsxs(v,{fullWidth:!0,children:[e.jsx(W,{children:"Select Fuel Type"}),e.jsxs(B,{value:Ye,label:"Select Fuel Type",onChange:t=>Xe(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(v,{fullWidth:!0,required:!0,children:[e.jsx(W,{children:"Transmission"}),e.jsxs(B,{value:Ie,label:"Transmission",onChange:t=>Ge(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(v,{fullWidth:!0,children:[e.jsx(W,{children:"Vehicle Class"}),e.jsxs(B,{value:Ze,label:"Vehicle Class",onChange:t=>Et(t.target.value),children:[e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"luxury",children:"Luxury"}),e.jsx(d,{value:"vintage",children:"Vintage"})]})]}),e.jsx(x,{fullWidth:!0,label:"Engine Capacity (CC)",variant:"outlined",type:"number",value:Je,onChange:t=>vt(t.target.value),placeholder:"e.g. 2000",inputProps:{min:0}}),e.jsx(x,{fullWidth:!0,label:"Engine Power (HP)",variant:"outlined",type:"number",value:qe,onChange:t=>St(t.target.value),placeholder:"e.g. 180",inputProps:{min:0}}),e.jsx(x,{fullWidth:!0,label:"Torque",variant:"outlined",value:wt,onChange:t=>kt(t.target.value),placeholder:"e.g. 250 Nm"}),e.jsx(x,{fullWidth:!0,label:"Mileage",variant:"outlined",value:At,onChange:t=>It(t.target.value),placeholder:"e.g. 15 km/l"})]})]}),e.jsx(s,{sx:{mt:3},children:e.jsx(x,{fullWidth:!0,label:"Vihicles Address*",variant:"outlined",value:xt,onChange:t=>Ce(t.target.value),placeholder:"Enter venue address",required:!0})}),e.jsxs(s,{sx:{mt:3},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Location and Operating Hours"}),e.jsx(x,{fullWidth:!0,label:"Search Location",inputRef:Ct,variant:"outlined",placeholder:"Enter a location",sx:{mb:2}}),e.jsxs(s,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(x,{sx:{flex:1},label:"Latitude*",variant:"outlined",value:N,onChange:t=>Se(t.target.value),placeholder:"e.g., 25.2048",required:!0}),e.jsx(x,{sx:{flex:1},label:"Longitude*",variant:"outlined",value:$,onChange:t=>ve(t.target.value),placeholder:"e.g., 55.2708",required:!0})]}),X&&$t?e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click on the map below to select a location"}),e.jsx(s,{ref:yt,sx:{height:300,width:"100%",borderRadius:h.shape.borderRadius,border:`1px solid ${h.palette.grey[300]}`,mb:2}})]}):e.jsx(s,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${h.palette.grey[300]}`,borderRadius:h.shape.borderRadius,mb:2},children:e.jsx(i,{variant:"body2",color:"text.secondary",children:"Map loading..."})})]})]})})}),e.jsx(s,{sx:{mb:4},children:e.jsx(M,{sx:{p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(we,{sx:{"&:last-child":{pb:2}},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Vehicle Identity"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the vehicle number and driver availability"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:Q?"1fr":"2fr 1fr",gap:3,alignItems:"center"},children:[e.jsx(x,{fullWidth:!0,label:"Vehicle Number*",variant:"outlined",value:it,onChange:t=>{ea(t.target.value),ua(t.target.value)},placeholder:"Enter vehicle number",required:!0,error:!!Ea,helperText:Ea}),e.jsxs(s,{children:[e.jsx(i,{variant:"body2",fontWeight:600,sx:{mb:1},children:"Driver Included"}),e.jsxs(s,{sx:{display:"flex",gap:3},children:[e.jsx(f,{control:e.jsx(D,{checked:H.driverIncluded===!0,onChange:()=>je(t=>({...t,driverIncluded:!0}))}),label:"Yes"}),e.jsx(f,{control:e.jsx(D,{checked:H.driverIncluded===!1,onChange:()=>je(t=>({...t,driverIncluded:!1}))}),label:"No"})]})]})]})]})})}),Le&&ce&&e.jsxs(M,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(s,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:[e.jsx(i,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Vehicle Features & Amenities"}),e.jsx(i,{variant:"body2",sx:{opacity:.8},children:"Customize the luxury and comfort options for your vehicle"})]}),e.jsx(ma,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(s,{sx:{p:4},children:[e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ja,{}),number:"01",items:[["Leather Seats","leatherSeats"],["Adjustable Seats","adjustableSeats"],["Armrest","armrest"],["Sunroof","sunroof"]]},{title:"Entertainment",icon:e.jsx(Ls,{}),number:"02",items:[["Music System","musicSystem"],["Bluetooth","bluetooth"],["USB / AUX","usbAux"]]},{title:"Safety & Compliance",icon:e.jsx(mt,{}),number:"03",items:[["Airbags","airbags"],["ABS","abs"],["Rear Camera","rearCamera"],["Parking Sensors","parkingSensors"]]},{title:"Convenience",icon:e.jsx(Fs,{}),number:"04",items:[["Power Windows","powerWindows"],["Central Lock","centralLock"],["Keyless Entry","keylessEntry"]]}].map((t,a)=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(s,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(i,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(O,{spacing:1,children:t.items.map(([n,o])=>e.jsx(f,{control:e.jsx(D,{size:"small",checked:m[o],onChange:fa(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(i,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:n})},o))})]})},t.title))}),e.jsxs(s,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #fff5f5 0%, #fff0f0 100%)",border:"1px solid #fee2e2"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(225, 91, 101, 0.3)"},children:e.jsx(ya,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,color:"#991b1b"},children:"Premium Add-ons & Lighting"}),e.jsx(i,{variant:"caption",sx:{color:"#b91c1c",opacity:.8},children:"Special features to enhance the premium feel"})]})]}),e.jsxs(w,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(s,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:4}},children:[e.jsx(f,{control:e.jsx(D,{checked:m.wifi,onChange:fa("wifi"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(i,{sx:{fontWeight:600},children:"High-Speed Wifi"})}),e.jsx(f,{control:e.jsx(D,{checked:m.chargingPoints,onChange:fa("chargingPoints"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(i,{sx:{fontWeight:600},children:"Charging Points"})})]})}),e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(s,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #fee2e2",display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:{xs:1.5,sm:3}},children:[e.jsx(i,{variant:"body2",sx:{fontWeight:700,color:"#991b1b",minWidth:{xs:"auto",sm:120}},children:"Interior Lighting"}),e.jsxs(xe,{row:!0,value:Ee,onChange:t=>Pe(t.target.value),children:[e.jsx(f,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(i,{variant:"body2",children:"Standard"})}),e.jsx(f,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(i,{variant:"body2",children:"Premium RGB"})})]})]})})]})]})]})]}),Le&&K&&e.jsxs(M,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(s,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:[e.jsx(i,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bus Features & Amenities"}),e.jsx(i,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the bus"})]}),e.jsx($a,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(s,{sx:{p:4},children:[e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ja,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx(Na,{}),number:"02",items:[["Music System","musicSystem"],["Microphone","microphone"],["LED Display","ledDisplay"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(mt,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["LED Emergency Exit","ledEmergencyExit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(Ca,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(s,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(i,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(O,{spacing:1,children:t.items.map(([a,n])=>e.jsx(f,{control:e.jsx(D,{size:"small",checked:j[n],onChange:xa(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:a})},n))})]})},t.title))}),e.jsxs(s,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(ya,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(i,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(w,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(s,{sx:{display:"flex",gap:4},children:[e.jsx(f,{control:e.jsx(D,{checked:j.wifi,onChange:xa("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(f,{control:e.jsx(D,{checked:j.chargingPoints,onChange:xa("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(s,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(i,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(xe,{row:!0,value:Ee,onChange:t=>Pe(t.target.value),children:[e.jsx(f,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{variant:"body2",children:"Normal"})}),e.jsx(f,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),Le&&ae&&e.jsxs(M,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(s,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:[e.jsx(i,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Van Features & Amenities"}),e.jsx(i,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the van"})]}),e.jsx($a,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(s,{sx:{p:4},children:[e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(ja,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx(Na,{}),number:"02",items:[["Music System","musicSystem"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(mt,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(Ca,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(s,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(i,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(O,{spacing:1,children:t.items.map(([a,n])=>e.jsx(f,{control:e.jsx(D,{size:"small",checked:k[n],onChange:ha(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:a})},n))})]})},t.title))}),e.jsxs(s,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(ya,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(i,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(w,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(s,{sx:{display:"flex",gap:4},children:[e.jsx(f,{control:e.jsx(D,{checked:k.wifi,onChange:ha("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(f,{control:e.jsx(D,{checked:k.chargingPoints,onChange:ha("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(s,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(i,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(xe,{row:!0,value:Ee,onChange:t=>Pe(t.target.value),children:[e.jsx(f,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{variant:"body2",children:"Normal"})}),e.jsx(f,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(i,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),Le&&ht&&e.jsxs(M,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(s,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(s,{children:[e.jsx(i,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bike Features & Amenities"}),e.jsx(i,{variant:"body2",sx:{opacity:.8},children:"Customize safety and utility options for your bike"})]}),e.jsx(ma,{sx:{fontSize:40,opacity:.2}})]}),e.jsx(s,{sx:{p:4},children:e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Safety & Accessories",icon:e.jsx(mt,{}),number:"01",items:[["Helmet Included","helmet"],["ABS","abs"],["Mobile Holder","mobileHolder"]]},{title:"Utility & Storage",icon:e.jsx(Ca,{}),number:"02",items:[["Storage Box (Top Box)","storageBox"],["Rear Rack","rearRack"],["Windshield","windshield"]]}].map((t,a)=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(s,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(i,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(i,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(O,{spacing:1,children:t.items.map(([n,o])=>e.jsx(f,{control:e.jsx(D,{size:"small",checked:ne[o],onChange:Ss(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(i,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:n})},o))})]})},t.title))})})]}),Le&&(ce||K||ae||ht)&&e.jsx(s,{sx:{mb:4},children:e.jsxs(M,{sx:{mt:6,mb:6,borderRadius:3,border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:[e.jsxs(s,{sx:{px:4,py:3,background:"linear-gradient(135deg, #f5efef 0%, #efdfe1 100%)",color:"white"},children:[e.jsx(i,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Package Pricing"}),e.jsx(i,{variant:"body2",sx:{opacity:.95},children:"Set base price, discount & advance booking options"})]}),e.jsx(s,{sx:{p:4,backgroundColor:"#fafbfc"},children:e.jsxs(O,{spacing:3,children:[e.jsxs(s,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(i,{sx:{color:"white",fontSize:20,fontWeight:700},children:"â‚¹"})}),e.jsx(i,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Package Details"})]}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:{xs:2,md:2}},children:[e.jsxs(s,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fef3f2",border:"1px solid #fecaca",display:"flex",flexDirection:"column"},children:[e.jsx(i,{variant:"body2",fontWeight:600,sx:{color:"#991b1b",mb:2},children:"Basic Package"}),e.jsxs(O,{spacing:2,sx:{flexGrow:1},children:[e.jsx(x,{fullWidth:!0,label:"Base Package Price",type:"number",value:pe,onChange:t=>Rt(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(i,{sx:{mr:.5,color:"#E15B65",fontWeight:600},children:"â‚¹"})},size:"small"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:{xs:1.5,sm:2},mt:2},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(W,{children:"Hours Included"}),e.jsxs(B,{value:zt,label:"Hours Included",onChange:t=>Tt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"4",children:"4 Hrs"}),e.jsx(d,{value:"6",children:"6 Hrs"}),e.jsx(d,{value:"8",children:"8 Hrs"}),e.jsx(d,{value:"10",children:"10 Hrs"}),e.jsx(d,{value:"12",children:"12 Hrs"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(W,{children:"KM Included"}),e.jsxs(B,{value:Ft,label:"KM Included",onChange:t=>Lt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"50",children:"50 KM"}),e.jsx(d,{value:"80",children:"80 KM"}),e.jsx(d,{value:"100",children:"100 KM"}),e.jsx(d,{value:"150",children:"150 KM"})]})]})]})]})]}),e.jsxs(s,{sx:{p:2.5,borderRadius:2,backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",display:"flex",flexDirection:"column"},children:[e.jsx(i,{variant:"body2",fontWeight:600,sx:{color:"#15803d",mb:2},children:"Apply Discount"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2,mb:2},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(W,{children:"Type"}),e.jsxs(B,{value:ie,label:"Type",onChange:t=>Vt(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat Rate (â‚¹)"})]})]}),e.jsx(x,{fullWidth:!0,label:"Value",type:"number",value:Fe,onChange:t=>ta(t.target.value),size:"small"})]}),e.jsxs(s,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #e3dedf 0%, #ceaaad 100%)",textAlign:"center",boxShadow:"0 4px 14px rgba(225, 91, 101, 0.25)",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:160},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5},children:[e.jsx(s,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.35)",display:"flex",alignItems:"center",justifyContent:"center",mr:1},children:e.jsx(i,{sx:{fontSize:13,fontWeight:700,color:"#000"},children:"Î£"})}),e.jsx(i,{variant:"caption",sx:{fontWeight:700,color:"#000"},children:"GRAND TOTAL"})]}),e.jsxs(i,{sx:{fontWeight:800,fontSize:"1.6rem",lineHeight:1.2,mb:.5,color:"#000"},children:["â‚¹ ",ws]}),se>0&&e.jsxs(i,{variant:"caption",sx:{textDecoration:"line-through",color:"#6b7280",fontSize:"0.75rem"},children:["Original: â‚¹ ",He]}),e.jsx(i,{variant:"caption",sx:{fontSize:"0.7rem",fontWeight:600,color:"#000"},children:se>0?`Discount Applied: â‚¹ ${se}`:"Base Price"}),e.jsxs(s,{sx:{mt:2,pt:1.5,borderTop:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[e.jsx(i,{sx:{fontSize:"0.9rem"},children:"ðŸ’¡"}),e.jsx(i,{variant:"caption",sx:{fontSize:"0.7rem",lineHeight:1.3},children:"Final amount based on base price and discounts"})]})]})]})]})]}),e.jsxs(s,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(s,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(i,{sx:{color:"white",fontSize:20,fontWeight:700},children:"%"})}),e.jsx(i,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Offers & Advance"})]}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:{xs:2,md:3}},children:[e.jsxs(s,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fff7ed",border:"1px solid #fed7aa",height:"100%"},children:[e.jsx(i,{variant:"body2",fontWeight:600,sx:{color:"#9a3412",mb:2},children:"Extra Charges"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:[e.jsx(x,{fullWidth:!0,label:"Price/KM",type:"number",value:Mt,onChange:t=>Dt(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(i,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"}),e.jsx(x,{fullWidth:!0,label:"Extra Hour Price",type:"number",value:ka,onChange:t=>Ht(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(i,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"})]})]}),e.jsxs(s,{sx:{p:2.5,borderRadius:2,backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",height:"100%"},children:[e.jsx(i,{variant:"body2",fontWeight:600,sx:{color:"#1e40af",mb:2},children:"Advance Booking"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(W,{children:"Type"}),e.jsxs(B,{value:Ga,label:"Type",onChange:t=>Ia(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat (â‚¹)"})]})]}),e.jsx(x,{fullWidth:!0,label:"Amount",type:"number",value:_t,onChange:t=>Nt(t.target.value),InputProps:{startAdornment:e.jsx(i,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"})]})]})]})]})]})})]})}),e.jsxs(s,{sx:{mt:3,p:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(i,{variant:"subtitle1",gutterBottom:!0,children:"Vehicle Features"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:H.decorationAvailable?{xs:"1fr",md:"1fr 1fr"}:"max-content",gap:3,alignItems:"center"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:3,px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",width:"fit-content",minWidth:260},children:[e.jsx(i,{fontSize:14,fontWeight:500,children:"Decoration Available"}),e.jsx(Rs,{checked:H.decorationAvailable,onChange:t=>je(a=>({...a,decorationAvailable:t.target.checked})),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#E15B65"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#E15B65"}}})]}),H.decorationAvailable&&e.jsx(s,{sx:{px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",minWidth:260},children:e.jsx(x,{fullWidth:!0,label:"Decoration Price (â‚¹)",type:"number",value:Z,onChange:t=>aa(t.target.value),inputProps:{min:0},placeholder:"e.g. 5000"})})]})]}),e.jsxs(s,{sx:{mt:4,p:3,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(i,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Upload Vehicle Documents"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Upload RC, Insurance, Permit or any supporting vehicle documents"}),e.jsxs(Sa,{onDragOver:t=>t.preventDefault(),onDrop:cs,onClick:()=>document.getElementById("vehicle-documents-upload").click(),sx:{minHeight:160},children:[Ba.length>0?e.jsx(O,{spacing:1,sx:{width:"100%"},children:Ba.map((t,a)=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,border:"1px solid #e5e7eb",borderRadius:1,backgroundColor:"#ffffff"},children:[e.jsxs(i,{variant:"body2",noWrap:!0,children:["ðŸ“„ ",t.name]}),e.jsx(pt,{size:"small",onClick:()=>oa(n=>n.filter((o,u)=>u!==a)),children:"âœ•"})]},a))}):e.jsxs(e.Fragment,{children:[e.jsx(ba,{sx:{fontSize:42,color:"#E15B65",mb:1}}),e.jsx(i,{fontWeight:600,color:"#E15B65",children:"Click to upload documents"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Or drag & drop files here (PDF, JPG, PNG)"})]}),e.jsx("input",{id:"vehicle-documents-upload",type:"file",hidden:!0,multiple:!0,accept:".pdf,image/png,image/jpeg,image/jpg",onChange:ds})]})]}),e.jsx(s,{sx:{mb:4},children:e.jsxs(M,{sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #ffffff, #fafafa)",border:"1px solid #eee"},children:[e.jsx(i,{variant:"h6",fontWeight:600,sx:{mb:.5},children:"Terms & Conditions"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Define rules & policies shown to customers during booking"}),V.map((t,a)=>e.jsxs(s,{sx:{mb:3,p:2,borderRadius:2,border:"1px solid #e5e7eb",backgroundColor:"#fff"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(x,{fullWidth:!0,label:"Section Heading",placeholder:"e.g. Booking & Confirmation",value:t.heading,onChange:n=>{const o=[...V];o[a].heading=n.target.value,Y(o)}}),V.length>1&&e.jsx(ke,{onClick:()=>Y(n=>n.filter((o,u)=>u!==a)),sx:{ml:1,color:"error.main"},children:"âœ•"})]}),t.points.map((n,o)=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(x,{fullWidth:!0,label:`Point ${o+1}`,placeholder:"Enter policy detail",value:n,onChange:u=>{const p=[...V];p[a].points[o]=u.target.value,Y(p)}}),t.points.length>1&&e.jsx(ke,{onClick:()=>{const u=[...V];u[a].points.splice(o,1),Y(u)},sx:{ml:1,color:"error.main"},children:"âœ•"})]},o)),e.jsx(ke,{size:"small",onClick:()=>{const n=[...V];n[a].points.push(""),Y(n)},sx:{mt:1,color:"#E15B65"},children:"+ Add Point"})]},a)),e.jsx(ke,{variant:"outlined",onClick:()=>Y([...V,{heading:"",points:[""]}]),sx:{mt:2,borderRadius:2,borderColor:"#E15B65",color:"#E15B65"},children:"+ Add Section"})]})}),e.jsx(s,{sx:{mb:4},children:e.jsx(M,{sx:{p:2,boxShadow:"none",border:`1px solid ${h.palette.grey[200]}`},children:e.jsxs(we,{sx:{"&:last-child":{pb:2}},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Search Tags"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert tags for appearing in user search results"}),e.jsx(x,{fullWidth:!0,label:"Type and press Enter",variant:"outlined",value:ot,onChange:ms,onKeyPress:bs,placeholder:"Type and press Enter",sx:{mb:2}}),e.jsx(s,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:sa.map((t,a)=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",backgroundColor:h.palette.grey[200],borderRadius:h.shape.borderRadius,px:1,py:.5},children:[e.jsx(i,{variant:"body2",children:t}),e.jsx(pt,{size:"small",onClick:()=>js(t),children:e.jsx(i,{sx:{fontSize:14},children:"Ã—"})})]},a))})]})})}),e.jsxs(s,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(ke,{variant:"outlined",color:"#E15B65",size:"large",onClick:ga,sx:{color:"#E15B65"},children:De?"Cancel":"Reset"}),e.jsx(ke,{variant:"contained",type:"submit",size:"large",disabled:ct,startIcon:ct?e.jsx(_a,{size:20,color:"inherit"}):null,sx:{color:"white",bgcolor:"#E15B65"},children:ct?"Submitting...":De?"Update":"Submit"})]})]})]}),e.jsx(zs,{open:as,autoHideDuration:6e3,onClose:Ha,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{minWidth:"600px",maxWidth:"600px",width:"auto"}},children:e.jsx(Ts,{onClose:Ha,severity:Wa,sx:{width:"100%",backgroundColor:Wa==="success"?"#1976d2":"#d32f2f",color:"white","& .MuiAlert-message":{whiteSpace:"pre-line",wordBreak:"break-word",fontSize:"1rem",lineHeight:1.5}},children:ss})})]})};export{fr as default};
