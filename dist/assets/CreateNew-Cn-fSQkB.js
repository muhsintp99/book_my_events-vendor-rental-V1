import{c as Ne,j as e,u as wr,i as kr,aj as Ar,w as Ir,ai as Er,r,h as G,B as i,b as xt,ak as Pr,T as s,t as _a,p as F,W as Ae,s as p,am as Wr,S as K,F as v,I as R,ag as T,$ as d,at as he,f as x,an as z,C as M,G as w,al as Br,g as Ie,ao as Rr,x as Tr}from"./index-bQPICHQS.js";import{D as fa}from"./DirectionsCar-Bea8hrvG.js";import{C as xa}from"./CloudUpload-DaZ5A20Q.js";import{S as ht,W as ha}from"./Wifi-BqKk0wtK.js";import{S as zr}from"./Settings-DSyUuWkY.js";const pa=Ne(e.jsx("path",{d:"M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2z"})),ma=Ne(e.jsx("path",{d:"M17 6h-2V3c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v3H7c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2 0 .55.45 1 1 1s1-.45 1-1h6c0 .55.45 1 1 1s1-.45 1-1c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M9.5 18H8V9h1.5zm3.25 0h-1.5V9h1.5zm.75-12h-3V3.5h3zM16 18h-1.5V9H16z"})),Lr=Ne(e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"})),$a=Ne(e.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2m0 14H3V5h18z"})),Na=Ne(e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"})),ba=Wr(i)(({theme:f})=>({border:"2px dashed #e0e0e0",borderRadius:f.shape.borderRadius,padding:f.spacing(3),textAlign:"center",backgroundColor:f.palette.grey[50],cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px","&:hover":{borderColor:f.palette.primary.main},'& input[type="file"]':{display:"none"}})),us=()=>{const f=wr(),q=kr(f.breakpoints.down("md")),pe=Ar(),pt=Ir(),{id:Ee}=Er(),mt=r.useRef(null),P=r.useRef(null),bt=r.useRef(null),[ja,Ka]=r.useState(""),[Pe,Ke]=r.useState(""),[Oe,jt]=r.useState(""),[Ue,yt]=r.useState(""),[Ct,St]=r.useState(""),[vt,wt]=r.useState(""),[Ge,kt]=r.useState(""),[We,Be]=r.useState("normal"),[qe,Ze]=r.useState(""),[At,It]=r.useState("no"),[Et,ya]=r.useState("no"),[Fr,Oa]=r.useState(""),[me,Pt]=r.useState(""),[Wt,Bt]=r.useState(""),[Rt,Tt]=r.useState(""),[zt,Lt]=r.useState(""),[Ca,Ft]=r.useState(""),[Sa,va]=r.useState(""),[le,Mt]=r.useState(""),[Ua,wa]=r.useState(""),[Dt,Ht]=r.useState(""),[b,Z]=r.useState({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),[j,J]=r.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[k,ee]=r.useState({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),[de,Re]=r.useState({helmet:!1,storageBox:!1,abs:!1,mobileHolder:!1,rearRack:!1,windshield:!1}),C="https://api.bookmyevent.ae/api",Ga=C.replace(/\/api\/?$/,""),Vt="AIzaSyAfLUm1kPmeMkHh1Hr5nbgNpQJOsNa7B78",Te=localStorage.getItem("moduleId");r.useMemo(()=>{var t;return(t=pe.state)==null?void 0:t.vehicle},[pe.state]);const qa=r.useMemo(()=>{var t,a;return(a=(t=pe.state)==null?void 0:t.vehicle)==null?void 0:a._id},[pe.state]),ze=r.useMemo(()=>{var t,a;return Ee||((a=(t=pe.state)==null?void 0:t.vehicle)==null?void 0:a._id)||""},[Ee,qa]),Za=r.useMemo(()=>ze?"edit":"create",[ze]),[Le,_t]=r.useState(Za),[Je,$t]=r.useState(""),[Nt,Kt]=r.useState(""),[ce,Ot]=r.useState(null),[te,Ye]=r.useState([]),[Xe,Ut]=r.useState(""),[Qe,Gt]=r.useState(""),[Mr,Ja]=r.useState(""),[et,qt]=r.useState(""),[Fe,Zt]=r.useState(""),[tt,Jt]=r.useState(""),[be,je]=r.useState("yes"),[at,Yt]=r.useState(""),[ka,Aa]=r.useState(""),[Dr,Ya]=r.useState("hourly"),[Hr,Xa]=r.useState(""),[Vr,Qa]=r.useState(""),[_r,er]=r.useState(""),[Me,Xt]=r.useState(""),[L,ye]=r.useState({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),[Y,Qt]=r.useState(""),[D,X]=r.useState([{heading:"",points:[""]}]),[ea,rt]=r.useState([]),[st,ta]=r.useState(""),[tr,S]=r.useState(!1),[ar,A]=r.useState(""),[Ia,I]=r.useState("success"),[aa,ra]=r.useState([]),[rr,$r]=r.useState([]),[Nr,sr]=r.useState([]),[Kr,Or]=r.useState({}),[Ur,Gr]=r.useState(""),[qr,Zr]=r.useState(""),[Jr,Yr]=r.useState(""),[Xr,Qr]=r.useState(""),[es,ts]=r.useState(""),[as,rs]=r.useState(""),[ss,ir]=r.useState({}),[Ea,sa]=r.useState([]),[E,ia]=r.useState([]),[nr,ue]=r.useState([]),[m,it]=r.useState(""),[nt,Ce]=r.useState(""),De=!!m,Pa=t=>{if(!t)return"";if(t.startsWith("http"))return t;const a=t.startsWith("/")?t:`/${t}`;return`${Ga}${a}`},Wa=t=>{const a=t.target.src;if(a.includes("/uploads/")&&!t.target.dataset.triedCapital)console.log("Retrying image with capital Uploads:",a),t.target.src=a.replace("/uploads/","/Uploads/"),t.target.dataset.triedCapital="true";else if(t.target.dataset.triedApi)t.target.src="https://placehold.co/100x100?text=No+Image";else{console.log("Retrying image with /api prefix:",a);const o=new URL(a);t.target.src=`${o.origin}/api${o.pathname}`,t.target.dataset.triedApi="true"}},[ge,na]=r.useState([]),[Ba,Ra]=r.useState(!1),[ot,H]=r.useState(!1),[lt,dt]=r.useState(""),[He,ct]=r.useState([]),[ut,Se]=r.useState(""),[V,ve]=r.useState(""),[_,we]=r.useState(""),[is,or]=r.useState(""),[Q,Ta]=r.useState(!1),[y,za]=r.useState(null),$=r.useMemo(()=>{var a;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Bus):",t==null?void 0:t.title),(a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("bus")},[m,E]),fe=r.useMemo(()=>{var a,o;if(!m||!E.length)return!1;const t=E.find(n=>n._id===m);return console.log("Category check (Car):",t==null?void 0:t.title),((a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("car"))||((o=t==null?void 0:t.title)==null?void 0:o.toLowerCase().includes("vehicle"))},[m,E]),ae=r.useMemo(()=>{var a;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Van):",t==null?void 0:t.title),(a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("van")},[m,E]),gt=r.useMemo(()=>{var a;if(!m||!E.length)return!1;const t=E.find(o=>o._id===m);return console.log("Category check (Bike):",t==null?void 0:t.title),(a=t==null?void 0:t.title)==null?void 0:a.toLowerCase().includes("bike")},[m,E]),lr=t=>{const a=Array.from(t.target.files);sa(o=>[...o,...a])},dr=t=>{t.preventDefault();const a=Array.from(t.dataTransfer.files);sa(o=>[...o,...a])};r.useEffect(()=>{if(window.google&&window.google.maps){Ta(!0);return}const t=document.createElement("script");return t.src=`https://maps.googleapis.com/maps/api/js?key=${Vt}&libraries=places`,t.async=!0,t.defer=!0,t.onload=()=>{Ta(!0)},document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}},[Vt]),r.useEffect(()=>{Q&&window.google&&window.google.maps&&cr()},[Q]);const cr=r.useCallback(()=>{if(!window.google||!mt.current||!Q)return;const t=V&&_?parseFloat(V):20.5937,a=V&&_?parseFloat(_):78.9629,o={lat:t,lng:a},n=new window.google.maps.Map(mt.current,{zoom:12,center:o});n.addListener("click",u=>{const h=u.latLng.lat(),g=u.latLng.lng();ve(h.toString()),we(g.toString()),P.current&&P.current.setMap(null),P.current=new window.google.maps.Marker({position:{lat:h,lng:g},map:n}),new window.google.maps.Geocoder().geocode({location:{lat:h,lng:g}},(N,O)=>{O==="OK"&&N[0]?(Se(N[0].formatted_address),A("Location set and address auto-filled!"),I("success"),S(!0)):(A("Location set, but could not determine address."),I("info"),S(!0))})}),za(n)},[Q,V,_]);r.useEffect(()=>{if(!Q||!y||!bt.current||!window.google)return;const t=new window.google.maps.places.Autocomplete(bt.current,{fields:["place_id","geometry","name","formatted_address"]}),a=t.addListener("place_changed",()=>{const o=t.getPlace();if(!o.geometry||!o.geometry.location)return;const n=o.geometry.location;o.geometry.viewport?y.fitBounds(o.geometry.viewport):(y.setCenter(n),y.setZoom(17)),P.current&&P.current.setMap(null),P.current=new window.google.maps.Marker({position:n,map:y}),ve(n.lat().toString()),we(n.lng().toString()),Se(o.formatted_address||o.name),A("Location selected!"),I("success"),S(!0)});return()=>{window.google&&window.google.maps.event&&window.google.maps.event.removeListener(a)}},[Q,y]),r.useEffect(()=>{if(!y||!V||!_)return;const t={lat:parseFloat(V),lng:parseFloat(_)};y.setCenter(t),y.setZoom(12),P.current?P.current.setPosition(t):P.current=new window.google.maps.Marker({position:t,map:y})},[V,_,y]),r.useEffect(()=>{if(!Fe||!Q||!window.google||!window.google.maps)return;new window.google.maps.Geocoder().geocode({address:Fe},(a,o)=>{if(o==="OK"&&a[0]){const n=a[0].geometry.location,u=n.lat().toString(),h=n.lng().toString();ve(u),we(h),Se(a[0].formatted_address),y&&(y.setCenter({lat:n.lat(),lng:n.lng()}),y.setZoom(12),P.current&&P.current.setMap(null),P.current=new window.google.maps.Marker({position:{lat:n.lat(),lng:n.lng()},map:y})),A(`Location set for ${Fe}!`),I("success"),S(!0)}else A(`Could not find location for ${Fe}`),I("warning"),S(!0)})},[Fe,Q,y]);const oa=r.useCallback(t=>{var n,u,h,g,W,N,O,se,ie,ne,oe,U,_e,c,B,xe,ke,Da,Ha,Va;console.log("Setting vehicle data:",t),t.brand&&t.brand._id&&!aa.some(l=>l._id===t.brand._id)&&ra(l=>[...l,{_id:t.brand._id,title:t.brand.title||t.brand.name||"Unknown Brand"}]),t.featuredImage&&dt(t.featuredImage),t.galleryImages&&Array.isArray(t.galleryImages)&&ct(t.galleryImages),(n=t.category)!=null&&n._id&&(it(t.category._id),G.get(`${C}/categories/parents/${t.category._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(l=>ue(l.data.data||[])).catch(()=>ue([]))),t.subCategory&&(typeof t.subCategory=="object"&&t.subCategory._id?Ce(t.subCategory._id):typeof t.subCategory=="string"&&Ce(t.subCategory)),t.zone&&t.zone._id&&!ge.some(l=>l._id===t.zone._id)&&na(l=>[...l,{_id:t.zone._id,name:t.zone.name||"Unknown Zone"}]);const a=((u=t.zone)==null?void 0:u._id)||"";qt(a);const o=ge.find(l=>l._id===a)||t.zone&&{name:t.zone.name};if(Zt(o?o.name:""),$t(t.name||""),Kt(t.description||""),Ut(((h=t.brand)==null?void 0:h._id)||""),Gt(t.model||""),Yt(t.licensePlateNumber||""),t.capacityAndComfort&&(Jt(((g=t.capacityAndComfort.seatingCapacity)==null?void 0:g.toString())||""),It(t.capacityAndComfort.pushbackSeats?"yes":"no"),ya(t.capacityAndComfort.reclinerSeats?"yes":"no")),t.engineCharacteristics&&(Ke(((W=t.engineCharacteristics.transmissionType)==null?void 0:W.value)||""),jt(((N=t.engineCharacteristics.powerBHP)==null?void 0:N.toString())||""),yt(((O=t.engineCharacteristics.engineCapacityCC)==null?void 0:O.toString())||""),St(t.engineCharacteristics.torque||""),wt(t.engineCharacteristics.mileage||""),Ze(t.engineCharacteristics.fuelType||""),je(t.engineCharacteristics.airConditioning?"yes":"no")),t.location&&(Se(t.location.address||""),ve(((se=t.location.latitude)==null?void 0:se.toString())||""),we(((ie=t.location.longitude)==null?void 0:ie.toString())||"")),t.availability&&(ye(l=>({...l,driverIncluded:t.availability.driverIncluded??!1,sunroof:t.availability.sunroof??!1})),t.availability.acAvailable!==void 0&&je(t.availability.acAvailable?"yes":"no")),t.features&&(t.features.interiorFeatures&&J(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&J(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,microphone:t.features.entertainment.microphone??!1,ledDisplay:t.features.entertainment.lcdDisplay??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&J(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,ledEmergencyExit:t.features.safetyAndCompliance.emergencyExit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&J(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.interiorComfort&&Z(l=>({...l,leatherSeats:t.features.interiorComfort.leatherSeats??!1,adjustableSeats:t.features.interiorComfort.adjustableSeats??!1,armrest:t.features.interiorComfort.armrest??!1})),t.features.entertainment&&Z(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,bluetooth:t.features.entertainment.bluetooth??!1,usbAux:t.features.entertainment.usbAux??!1})),t.features.safety&&Z(l=>({...l,airbags:t.features.safety.airbags??!1,abs:t.features.safety.abs??!1,rearCamera:t.features.safety.rearCamera??!1,parkingSensors:t.features.safety.parkingSensors??!1})),t.features.convenience&&Z(l=>({...l,powerWindows:t.features.convenience.powerWindows??!1,centralLock:t.features.convenience.centralLock??!1,keylessEntry:t.features.convenience.keylessEntry??!1})),t.features.interiorFeatures&&ee(l=>({...l,curtains:t.features.interiorFeatures.curtains??!1,readingLights:t.features.interiorFeatures.readingLights??!1,footRest:t.features.interiorFeatures.footRest??!1,bottleHolder:t.features.interiorFeatures.bottleHolder??!1})),t.features.entertainment&&ee(l=>({...l,musicSystem:t.features.entertainment.musicSystem??!1,tvScreen:t.features.entertainment.tvScreen??!1})),t.features.safetyAndCompliance&&ee(l=>({...l,fireExtinguisher:t.features.safetyAndCompliance.fireExtinguisher??!1,firstAidKit:t.features.safetyAndCompliance.firstAidKit??!1,cctv:t.features.safetyAndCompliance.cctv??!1})),t.features.storage&&ee(l=>({...l,luggageCarrier:t.features.storage.luggageCarrier??!1,overheadStorage:t.features.storage.overheadStorage??!1})),t.features.safetyAccessories&&Re(l=>({...l,helmet:t.features.safetyAccessories.helmet??!1,abs:t.features.safetyAccessories.abs??!1,mobileHolder:t.features.safetyAccessories.mobileHolder??!1})),t.features.utilityStorage&&Re(l=>({...l,storageBox:t.features.utilityStorage.storageBox??!1,rearRack:t.features.utilityStorage.rearRack??!1,windshield:t.features.utilityStorage.windshield??!1}))),t.extraAddons){const l=((oe=(ne=t.category)==null?void 0:ne.title)==null?void 0:oe.toLowerCase())||"";l.includes("bus")?J($e=>({...$e,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):l.includes("van")?ee($e=>({...$e,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})):(l.includes("car")||l.includes("vehicle"))&&Z($e=>({...$e,wifi:t.extraAddons.wifi??!1,chargingPoints:t.extraAddons.chargingPorts??!1})),Be(t.extraAddons.interiorLighting?"premium":"normal")}t.pricing&&(t.pricing.basicPackage&&(Pt(((U=t.pricing.basicPackage.price)==null?void 0:U.toString())||""),Bt(((_e=t.pricing.basicPackage.includedHours)==null?void 0:_e.toString())||""),Tt(((c=t.pricing.basicPackage.includedKilometers)==null?void 0:c.toString())||"")),t.pricing.extraKmPrice&&(Lt(((B=t.pricing.extraKmPrice.price)==null?void 0:B.toString())||""),va(((xe=t.pricing.extraKmPrice.km)==null?void 0:xe.toString())||"")),t.pricing.extraHourPrice&&Ft(((ke=t.pricing.extraHourPrice)==null?void 0:ke.toString())||""),t.pricing.discount&&(Mt(t.pricing.discount.type==="flat_rate"?"flat":"percentage"),Xt(((Da=t.pricing.discount.value)==null?void 0:Da.toString())||"")),t.pricing.decoration&&(ye(l=>({...l,decorationAvailable:t.pricing.decoration.available??!1})),Qt(((Ha=t.pricing.decoration.price)==null?void 0:Ha.toString())||""))),Ht(((Va=t.advanceBookingAmount)==null?void 0:Va.toString())||""),t.vehicleType&&kt(t.vehicleType),t.termsAndConditions&&Array.isArray(t.termsAndConditions)&&t.termsAndConditions.length>0?X(t.termsAndConditions.map(l=>({heading:l.heading||"",points:Array.isArray(l.points)&&l.points.length>0?l.points:[""]}))):typeof t.termsAndConditions=="string"?X([{heading:"Terms & Conditions",points:[t.termsAndConditions]}]):X([{heading:"",points:[""]}]),rt(t.searchTags||[]),console.log("âœ… Vehicle data populated successfully")},[aa,rr,ge,C,J,ee,Z,Re]);r.useEffect(()=>()=>{te.forEach(t=>URL.revokeObjectURL(t))},[te]),r.useEffect(()=>{(async()=>{var a,o,n,u,h;try{if(!Te)throw new Error("Module ID is not defined. Please log in or set moduleId in localStorage.");const g=localStorage.getItem("token"),[W,N,O]=await Promise.all([G.get(`${C}/brands/module/${Te}`,{headers:{Authorization:`Bearer ${g}`}}),G.get(`${C}/categories/parents/${Te}`,{headers:{Authorization:`Bearer ${g}`}}),G.get(`${C}/zones`,{headers:{Authorization:`Bearer ${g}`,Accept:"application/json"}})]);ia(((a=N.data)==null?void 0:a.data)||[]);const se=Array.isArray(W.data)?W.data:W.data.data||[];ra(se);const ie=((o=N.data)==null?void 0:o.data)||[];ia(ie);const ne=O.data.data||O.data||[],oe=Array.isArray(ne)?ne.filter(U=>U.isActive).map(U=>({_id:U._id,name:U.name})):[];na(oe),console.log("Module ID:",Te),console.log("Brands:",se),console.log("Parent Categories:",ie),console.log("Zones:",oe),Ra(!0)}catch(g){console.error("Error fetching brands/categories/zones:",((n=g.response)==null?void 0:n.data)||g),ra([]),ia([]),na([]),Ra(!0),A(((h=(u=g.response)==null?void 0:u.data)==null?void 0:h.message)||"Failed to fetch brands, categories, or zones"),I("error"),S(!0)}})()},[Te,C]),r.useEffect(()=>{if(E.length>0&&!m&&Le==="create"){const t=E[0];it(t._id),G.get(`${C}/categories/parents/${t._id}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{const o=a.data.data||[];ue(o),o.length>0&&Ce(o[0]._id)}).catch(a=>{console.error("Failed to fetch subcategories:",a),ue([])})}},[E,m,Le,C]),r.useEffect(()=>{(async()=>{var a;try{const u=(((a=(await G.get(`${C}/vehicle-attributes`)).data)==null?void 0:a.data)||[]).filter(g=>g.status),h={};u.forEach(g=>{h[g.title.toLowerCase()]=g.values||[]}),sr(u),ir(h),console.log("âœ… Vehicle Attributes Loaded:",u)}catch(o){console.error("âŒ Failed to load vehicle attributes",o)}})()},[C]),r.useEffect(()=>{var a;if(!Ba)return;const t=(a=pe.state)==null?void 0:a.vehicle;t?(oa(t),dt(t.thumbnail||""),ct(t.images||[]),_t("edit")):Ee&&(async()=>{var n,u,h;H(!0);try{const g=await G.get(`${C}/vehicles/${Ee}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),W=g.data.data||g.data;console.log("Vehicle data fetched for edit:",W),oa(W),dt(W.thumbnail||""),ct(W.images||[]),_t("edit")}catch(g){A(((u=(n=g.response)==null?void 0:n.data)==null?void 0:u.message)||"Failed to fetch vehicle data"),I("error"),S(!0),console.error("Error fetching vehicle:",((h=g.response)==null?void 0:h.data)||g)}finally{H(!1)}})()},[Ba,Ee,oa]);const ur=async t=>{const a=t.target.value;if(it(a),Ce(""),ue([]),!!a)try{const o=await G.get(`${C}/categories/parents/${a}/subcategories`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});ue(o.data.data||[])}catch(o){console.error("Failed to fetch sub categories",o),ue([])}},gr=r.useCallback(t=>{const a=t.target.files[0];a&&Ot(a)},[]),La=r.useCallback(t=>{t.preventDefault()},[]),fr=r.useCallback(t=>{t.preventDefault();const a=t.dataTransfer.files[0];a&&Ot(a)},[]),xr=r.useCallback(t=>{const a=Array.from(t.target.files);Ye(o=>[...o,...a])},[]),hr=r.useCallback(t=>{t.preventDefault();const a=Array.from(t.dataTransfer.files);Ye(o=>[...o,...a])},[]),pr=r.useCallback(t=>{ta(t.target.value)},[]),mr=r.useCallback(t=>{t.key==="Enter"&&st.trim()&&(rt(a=>[...a,st.trim()]),ta(""),t.preventDefault())},[st]),br=r.useCallback(t=>{rt(a=>a.filter(o=>o!==t))},[]),la=()=>(Aa(""),!0),da=r.useCallback(()=>{$t(""),Kt(""),Se(""),Ut(""),Gt(""),Ja(""),qt(""),Zt(""),it(""),Ce(""),Ot(null),Ye([]),dt(""),ct([]),Jt(""),je("yes"),Yt(""),Aa(""),Ke(""),jt(""),yt(""),St(""),wt(""),kt(""),Ze(""),It("no"),Oa(""),ye({driverIncluded:!1,sunroof:!1,decorationAvailable:!1}),Z({leatherSeats:!1,adjustableSeats:!1,armrest:!1,musicSystem:!1,bluetooth:!1,usbAux:!1,airbags:!1,abs:!1,rearCamera:!1,parkingSensors:!1,powerWindows:!1,centralLock:!1,keylessEntry:!1,wifi:!1,chargingPoints:!1}),J({curtains:!1,readingLights:!1,footRest:!1,bottleHolder:!1,musicSystem:!1,microphone:!1,ledDisplay:!1,tvScreen:!1,fireExtinguisher:!1,firstAidKit:!1,ledEmergencyExit:!1,cctv:!1,luggageCarrier:!1,overheadStorage:!1,wifi:!1,chargingPoints:!1}),Pt(""),Bt(""),Tt(""),Lt(""),Ft(""),va(""),Mt(""),wa(""),Ht(""),Be("normal"),Ya("hourly"),Xa(""),Qa(""),er(""),Xt(""),Qt(""),rt([]),ta(""),ve(""),we(""),or(""),_t("create"),P.current&&(P.current.setMap(null),P.current=null),y&&za(null)},[y]),jr=r.useCallback(async t=>{var N,O,se,ie,ne,oe,U,_e;t.preventDefault();const a=Le==="edit";if(H(!0),!Je||!Xe||!Qe||!m||!nt||!et||!tt||!at||!ut||!V||!_){A("Please fill all required fields."),I("error"),S(!0),H(!1);return}if(L.decorationAvailable&&(!Y||parseFloat(Y)<=0)){A("Please provide a valid decoration price when decoration is available."),I("error"),S(!0),H(!1);return}if(($||fe)&&!me){A("Please provide a basic package price."),I("error"),S(!0),H(!1);return}if(!ce&&!lt&&!a){A("Please upload a featured image."),I("error"),S(!0),H(!1);return}if(te.length===0&&He.length===0&&!a){A("Please upload at least one gallery image."),I("error"),S(!0),H(!1);return}if(la(),!D.length||!D[0].heading){A("Please add at least one Terms & Conditions section."),I("error"),S(!0),H(!1);return}const o=localStorage.getItem("token");if(!o){A("No authentication token found. Please log in."),I("error"),S(!0),H(!1);return}const n=new FormData;if(n.append("name",Je),n.append("description",Nt),n.append("brand",Xe),n.append("category",m),n.append("subCategory",nt),n.append("model",Qe),n.append("capacityAndComfort[seatingCapacity]",parseInt(tt)||0),n.append("capacityAndComfort[legroomType]",ja||""),n.append("capacityAndComfort[pushbackSeats]",At==="yes"),n.append("capacityAndComfort[reclinerSeats]",Et==="yes"),n.append("engineCharacteristics[transmissionType][value]",Pe||""),n.append("engineCharacteristics[transmissionType][available]",!!Pe),n.append("engineCharacteristics[powerBHP]",Oe?parseInt(Oe):0),n.append("engineCharacteristics[engineCapacityCC]",Ue?parseInt(Ue):0),n.append("engineCharacteristics[torque]",Ct||""),n.append("engineCharacteristics[mileage]",vt||""),n.append("engineCharacteristics[fuelType]",qe||""),n.append("engineCharacteristics[airConditioning]",be==="yes"),n.append("location[address]",ut),n.append("location[latitude]",parseFloat(V)||0),n.append("location[longitude]",parseFloat(_)||0),n.append("zone",et),n.append("availability[driverIncluded]",L.driverIncluded||!1),n.append("availability[sunroof]",L.sunroof||!1),n.append("availability[acAvailable]",be==="yes"),$){const c={interiorFeatures:{curtains:j.curtains||!1,readingLights:j.readingLights||!1,footRest:j.footRest||!1,mirror:!1},entertainment:{musicSystem:j.musicSystem||!1,microphone:j.microphone||!1,lcdDisplay:j.ledDisplay||!1,tvScreen:j.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:j.fireExtinguisher||!1,firstAidKit:j.firstAidKit||!1,emergencyExit:j.ledEmergencyExit||!1,cctv:j.cctv||!1},storage:{luggageCarrier:j.luggageCarrier||!1,overheadStorage:j.overheadStorage||!1}};n.append("features",JSON.stringify(c))}if(fe){const c={interiorComfort:{leatherSeats:b.leatherSeats||!1,adjustableSeats:b.adjustableSeats||!1,armrest:b.armrest||!1},entertainment:{musicSystem:b.musicSystem||!1,bluetooth:b.bluetooth||!1,usbAux:b.usbAux||!1},safety:{airbags:b.airbags||!1,abs:b.abs||!1,rearCamera:b.rearCamera||!1,parkingSensors:b.parkingSensors||!1},convenience:{powerWindows:b.powerWindows||!1,centralLock:b.centralLock||!1,keylessEntry:b.keylessEntry||!1}};n.append("features",JSON.stringify(c))}if(ae){const c={interiorFeatures:{curtains:k.curtains||!1,readingLights:k.readingLights||!1,footRest:k.footRest||!1,bottleHolder:k.bottleHolder||!1},entertainment:{musicSystem:k.musicSystem||!1,tvScreen:k.tvScreen||!1},safetyAndCompliance:{fireExtinguisher:k.fireExtinguisher||!1,firstAidKit:k.firstAidKit||!1,cctv:k.cctv||!1},storage:{luggageCarrier:k.luggageCarrier||!1,overheadStorage:k.overheadStorage||!1}};n.append("features",JSON.stringify(c))}if(gt){const c={safetyAccessories:{helmet:de.helmet||!1,abs:de.abs||!1,mobileHolder:de.mobileHolder||!1},utilityStorage:{storageBox:de.storageBox||!1,rearRack:de.rearRack||!1,windshield:de.windshield||!1}};n.append("features",JSON.stringify(c))}let u=!1,h=!1;$?(u=j.wifi,h=j.chargingPoints):ae?(u=k.wifi,h=k.chargingPoints):fe&&(u=b.wifi,h=b.chargingPoints),n.append("extraAddons[wifi]",u),n.append("extraAddons[chargingPorts]",h),n.append("extraAddons[interiorLighting]",We==="premium"),n.append("pricing[basicPackage][price]",parseFloat(me)||0),n.append("pricing[basicPackage][includedKilometers]",parseFloat(Rt)||0),n.append("pricing[basicPackage][includedHours]",parseFloat(Wt)||0),n.append("pricing[extraKmPrice][km]",parseFloat(Sa)||1),n.append("pricing[extraKmPrice][price]",parseFloat(zt)||0),n.append("pricing[extraHourPrice]",parseFloat(Ca)||0),n.append("pricing[discount][type]",le==="flat"?"flat_rate":"percentage"),n.append("pricing[discount][value]",parseFloat(Me)||0),n.append("pricing[decoration][available]",L.decorationAvailable||!1),n.append("pricing[decoration][price]",parseFloat(Y)||0);const g=()=>{const c=parseFloat(me)||0,B=L.decorationAvailable&&Y?parseFloat(Y):0,xe=parseFloat(Me)||0;let ke=0;return le==="percentage"?ke=c*xe/100:le==="flat"&&(ke=xe),Math.max(c+B-ke,0)};n.append("pricing[grandTotal]",g()),n.append("advanceBookingAmount",parseFloat(Dt)||0),n.append("licensePlateNumber",at),fe&&Ge&&n.append("vehicleType",Ge),n.append("termsAndConditions",JSON.stringify(D)),ea.forEach(c=>n.append("searchTags[]",c)),ce&&n.append("featuredImage",ce),te.forEach(c=>{n.append("galleryImages",c)});const W={};for(let[c,B]of n.entries())W[c]=B instanceof File?B.name:B;console.log("ðŸ“¤ FormData being sent:",W);try{let c,B;if(a){if(!ze)throw new Error("Invalid vehicle ID for update");c=await G.put(`${C}/vehicles/${ze}`,n,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),B=c.data.data||c.data}else c=await G.post(`${C}/vehicles`,n,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}}),B=c.data.data||c.data;console.log("âœ… API Response:",c.data),A(a?"Vehicle updated successfully!":"Vehicle added successfully!"),I("success"),S(!0),da(),a&&pt("/vehicle-setup/lists",{state:{vehicle:B}})}catch(c){console.error("âŒ API Error:",{status:(N=c.response)==null?void 0:N.status,statusText:(O=c.response)==null?void 0:O.statusText,data:(se=c.response)==null?void 0:se.data,headers:(ie=c.response)==null?void 0:ie.headers,message:c.message});let B=((oe=(ne=c.response)==null?void 0:ne.data)==null?void 0:oe.message)||"Failed to save vehicle";(_e=(U=c.response)==null?void 0:U.data)!=null&&_e.errors&&(B=c.response.data.errors.map(xe=>xe.msg).join(", ")),A(B),I("error"),S(!0)}finally{H(!1)}},[Le,ze,Je,Nt,Xe,Qe,m,nt,et,tt,be,L,Y,at,ut,V,_,Pe,Oe,Ue,Ct,vt,Ge,We,qe,At,Et,b,j,me,Wt,Rt,zt,Sa,le,Me,Dt,D,ea,ce,te,lt,He,la,da,pt,C,Z,J,ee,Re,$,fe,ae,gt,C,ge]),Fa=r.useCallback((t,a)=>{a!=="clickaway"&&S(!1)},[]),ft=Le==="edit",yr=r.useCallback(t=>{const a=t.target.value;qt(a);const o=ge.find(n=>n._id===a);Zt(o?o.name:"")},[ge]),ca=t=>a=>{Z(o=>({...o,[t]:a.target.checked}))},ua=t=>a=>{J(o=>({...o,[t]:a.target.checked}))},ga=t=>a=>{ee(o=>({...o,[t]:a.target.checked}))},Cr=t=>a=>{Re(o=>({...o,[t]:a.target.checked}))},Ve=Number(me)||0,Sr=L.decorationAvailable&&Y?Number(Y):0,Ma=Number(Me)||0;let re=0;le==="percentage"&&(re=Ve*Ma/100),le==="flat"&&(re=Ma),re>Ve&&(re=Ve);const vr=Math.max(Ve+Sr-re,0);return e.jsxs(i,{sx:{p:q?2:3,backgroundColor:f.palette.grey[100],minHeight:"100vh",width:"100%"},children:[e.jsxs(i,{sx:{maxWidth:"lg",margin:"auto",backgroundColor:"white",borderRadius:f.shape.borderRadius,boxShadow:f.shadows[1],p:q?2:3,overflowX:"hidden"},children:[e.jsx(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[ft&&e.jsx(xt,{onClick:()=>pt("/vehicle-setup/lists"),color:"primary",children:e.jsx(Pr,{})}),e.jsx(fa,{sx:{fontSize:24,mr:1}}),e.jsx(s,{variant:"h5",component:"h1",children:ft?"Edit Vehicle":"Add New Vehicle"})]})}),e.jsx(s,{variant:"subtitle1",color:"text.secondary",sx:{mb:4},children:"Insert the basic information of the vehicle"}),ot&&e.jsx(i,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx(_a,{})}),e.jsxs(i,{component:"form",onSubmit:jr,children:[e.jsxs(i,{sx:{display:"flex",flexDirection:q?"column":"row",gap:3,mb:4},children:[e.jsx(F,{sx:{flex:q?"auto":2,p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"General Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the basic information of the vehicle"}),e.jsx(p,{fullWidth:!0,label:"Vehicle Name*",variant:"outlined",value:Je,onChange:t=>$t(t.target.value),placeholder:"Type vehicle name",sx:{mb:2},required:!0}),e.jsx(p,{fullWidth:!0,label:"Short Description",variant:"outlined",multiline:!0,rows:4,value:Nt,onChange:t=>Kt(t.target.value),placeholder:"Type short description",sx:{mb:2}})]})}),e.jsx(F,{sx:{flex:q?"auto":1,p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Featured Image*"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"JPG, JPEG, PNG Less Than 1MB (Ratio 2:1)"}),e.jsxs(ba,{onDragOver:La,onDrop:fr,onClick:()=>document.getElementById("thumbnail-upload").click(),children:[ce?e.jsxs(i,{children:[e.jsx("img",{src:URL.createObjectURL(ce),alt:"Featured image preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:f.spacing(1)}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:ce.name})]}):lt?e.jsxs(i,{children:[e.jsx("img",{src:Pa(lt),alt:"Existing featured image",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:f.spacing(1),borderColor:"#E15B65"},onError:Wa}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Existing featured image. Upload to replace."})]}):e.jsxs(i,{children:[e.jsx(xa,{sx:{fontSize:40,color:"#E15B65",mb:1}}),e.jsx(s,{variant:"body2",color:"#E15B65",sx:{mb:.5,fontWeight:"medium"},children:"Click to upload"}),e.jsx(s,{variant:"body2",color:"#E15B65",children:"Or drag and drop"})]}),e.jsx("input",{type:"file",id:"thumbnail-upload",name:"featuredImage",hidden:!0,accept:"image/jpeg,image/png,image/jpg",onChange:gr})]})]})})]}),e.jsx(i,{sx:{mb:4},children:e.jsx(F,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsxs(s,{variant:"h6",gutterBottom:!0,children:["Gallery Images",e.jsx("span",{style:{color:"#E15B65"},children:"*"})]}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload high quality images (JPG, JPEG, PNG â€¢ Max 1MB â€¢ Ratio 2:1)"}),e.jsxs(ba,{onDragOver:La,onDrop:hr,onClick:()=>document.getElementById("images-upload").click(),sx:{backgroundColor:"#fafafa",border:"2px dashed #E15B65",borderRadius:2,p:3,transition:"0.3s","&:hover":{backgroundColor:"#fff1f2"}},children:[He.length>0||te.length>0?e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(90px, 1fr))",gap:2,width:"100%"},children:[He.map((t,a)=>e.jsxs(i,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:Pa(t),alt:`Existing ${a}`,style:{width:"100%",height:90,objectFit:"cover"},onError:Wa}),e.jsx(i,{sx:{position:"absolute",top:6,left:6,backgroundColor:"#000",color:"#fff",fontSize:10,px:.8,py:.2,borderRadius:1,opacity:.75},children:"Existing"})]},`existing-${a}`)),te.map((t,a)=>e.jsxs(i,{sx:{position:"relative",borderRadius:1.5,overflow:"hidden",border:"1px solid #e5e7eb"},children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`New ${a}`,style:{width:"100%",height:90,objectFit:"cover"}}),e.jsx(xt,{size:"small",onClick:()=>Ye(o=>o.filter((n,u)=>u!==a)),sx:{position:"absolute",top:4,right:4,backgroundColor:"#fff",boxShadow:1,"&:hover":{backgroundColor:"#fee2e2"}},children:"âœ•"})]},`new-${a}`))]}):e.jsxs(i,{sx:{textAlign:"center"},children:[e.jsx(xa,{sx:{fontSize:46,color:"#E15B65",mb:1}}),e.jsx(s,{fontWeight:600,color:"#E15B65",children:"Click to upload images"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"or drag & drop files here"})]}),e.jsxs(s,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block",textAlign:"center"},children:[He.length+te.length," image(s) selected"]}),e.jsx("input",{type:"file",id:"images-upload",name:"galleryImages",hidden:!0,accept:"image/jpeg,image/png,image/jpg",multiple:!0,onChange:xr})]})]})})}),e.jsx(i,{sx:{mb:4},children:e.jsx(F,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Information"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Insert the vehicle's general information"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3),mb:4},children:[e.jsxs(K,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Basic Info"}),e.jsxs(v,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(R,{id:"brand-label",children:"Select Brand / Manufacturer"}),e.jsxs(T,{labelId:"brand-label",id:"brand-select",value:Xe,label:"Select Brand / Manufacturer",onChange:t=>Ut(t.target.value),children:[e.jsx(d,{value:"",children:"Select vehicle brand"}),aa.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsx(p,{fullWidth:!0,label:"Enter Model Name",variant:"outlined",value:Qe,onChange:t=>Gt(t.target.value),placeholder:"e.g. Camry, Bus X",required:!0}),!$&&e.jsx(p,{fullWidth:!0,label:"Year of Manufacture",variant:"outlined",placeholder:"e.g. 2023"})]}),e.jsxs(K,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Capacity & Comfort"}),e.jsx(p,{fullWidth:!0,label:"Seating Capacity",variant:"outlined",value:tt,onChange:t=>Jt(t.target.value),placeholder:"Number of seats",type:"number",inputProps:{min:1},required:!0}),($||ae)&&e.jsxs(v,{fullWidth:!0,variant:"outlined",children:[e.jsx(R,{id:"legroom-label",children:"Select Legroom Type"}),e.jsxs(T,{labelId:"legroom-label",value:ja,label:"Select Legroom Type",onChange:t=>Ka(t.target.value),children:[e.jsx(d,{value:"",children:"Select Legroom"}),e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"extra",children:"Extra"}),e.jsx(d,{value:"premium",children:"Premium"})]})]}),($||ae)&&e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(i,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Pushback seats"}),e.jsxs(he,{row:!0,value:At,onChange:t=>It(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Recliner Seats"}),e.jsxs(he,{row:!0,value:Et,onChange:t=>ya(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}),!$&&e.jsxs(v,{component:"fieldset",fullWidth:!0,sx:{mt:1},children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(he,{row:!0,value:be,onChange:t=>je(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}),e.jsxs(K,{spacing:2,children:[e.jsx(s,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Zone & Location"}),e.jsxs(v,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(R,{id:"zone-label",children:"Zone*"}),e.jsxs(T,{labelId:"zone-label",value:et,label:"Zone",onChange:yr,children:[e.jsx(d,{value:"",children:"Select zone"}),ge.map(t=>e.jsx(d,{value:t._id,children:t.name},t._id))]})]}),e.jsxs(v,{fullWidth:!0,required:!0,children:[e.jsx(R,{children:"Parent Category"}),e.jsxs(T,{value:m,label:"Parent Category",onChange:ur,children:[e.jsx(d,{value:"",children:"Select Parent Category"}),E.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]}),e.jsxs(v,{fullWidth:!0,required:!0,disabled:!m,children:[e.jsx(R,{children:"Sub Category"}),e.jsxs(T,{value:nt,label:"Sub Category",onChange:t=>Ce(t.target.value),children:[e.jsx(d,{value:"",children:"Select Sub Category"}),nr.map(t=>e.jsx(d,{value:t._id,children:t.title},t._id))]})]})]})]}),e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:3},children:"Engine & Performance"}),$||ae?e.jsxs(K,{spacing:3,children:[e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3)},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(R,{children:"Select Fuel Type"}),e.jsxs(T,{value:qe,label:"Select Fuel Type",onChange:t=>Ze(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(R,{children:"Transmission"}),e.jsxs(T,{value:Pe,label:"Transmission",onChange:t=>Ke(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(R,{children:"Climate Control"}),e.jsxs(T,{value:be,label:"Climate Control",onChange:t=>je(t.target.value),children:[e.jsx(d,{value:"yes",children:"AC"}),e.jsx(d,{value:"no",children:"Non-AC"})]})]})]}),e.jsxs(v,{component:"fieldset",fullWidth:!0,children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Air Conditioning"}),e.jsxs(he,{row:!0,value:be,onChange:t=>je(t.target.value),children:[e.jsx(x,{value:"yes",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"Yes"})}),e.jsx(x,{value:"no",control:e.jsx(z,{size:"small"}),label:e.jsx(s,{variant:"body2",children:"No"})})]})]})]}):e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"repeat(3, 1fr)",gap:f.spacing(3)},children:[e.jsxs(v,{fullWidth:!0,children:[e.jsx(R,{children:"Select Fuel Type"}),e.jsxs(T,{value:qe,label:"Select Fuel Type",onChange:t=>Ze(t.target.value),children:[e.jsx(d,{value:"",children:"Select Fuel"}),e.jsx(d,{value:"petrol",children:"Petrol"}),e.jsx(d,{value:"diesel",children:"Diesel"}),e.jsx(d,{value:"electric",children:"Electric"}),e.jsx(d,{value:"hybrid",children:"Hybrid"}),e.jsx(d,{value:"cng",children:"CNG"})]})]}),e.jsxs(v,{fullWidth:!0,required:!0,children:[e.jsx(R,{children:"Transmission"}),e.jsxs(T,{value:Pe,label:"Transmission",onChange:t=>Ke(t.target.value),children:[e.jsx(d,{value:"",children:"Select Transmission"}),e.jsx(d,{value:"manual",children:"Manual"}),e.jsx(d,{value:"automatic",children:"Automatic"}),e.jsx(d,{value:"semi-automatic",children:"Semi-Automatic"})]})]}),e.jsxs(v,{fullWidth:!0,children:[e.jsx(R,{children:"Vehicle Class"}),e.jsxs(T,{value:Ge,label:"Vehicle Class",onChange:t=>kt(t.target.value),children:[e.jsx(d,{value:"standard",children:"Standard"}),e.jsx(d,{value:"luxury",children:"Luxury"}),e.jsx(d,{value:"vintage",children:"Vintage"})]})]}),e.jsx(p,{fullWidth:!0,label:"Engine Capacity (CC)",variant:"outlined",type:"number",value:Ue,onChange:t=>yt(t.target.value),placeholder:"e.g. 2000",inputProps:{min:0}}),e.jsx(p,{fullWidth:!0,label:"Engine Power (HP)",variant:"outlined",type:"number",value:Oe,onChange:t=>jt(t.target.value),placeholder:"e.g. 180",inputProps:{min:0}}),e.jsx(p,{fullWidth:!0,label:"Torque",variant:"outlined",value:Ct,onChange:t=>St(t.target.value),placeholder:"e.g. 250 Nm"}),e.jsx(p,{fullWidth:!0,label:"Mileage",variant:"outlined",value:vt,onChange:t=>wt(t.target.value),placeholder:"e.g. 15 km/l"})]})]}),e.jsx(i,{sx:{mt:3},children:e.jsx(p,{fullWidth:!0,label:"Vihicles Address*",variant:"outlined",value:ut,onChange:t=>Se(t.target.value),placeholder:"Enter venue address",required:!0})}),e.jsxs(i,{sx:{mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Location and Operating Hours"}),e.jsx(p,{fullWidth:!0,label:"Search Location",inputRef:bt,variant:"outlined",placeholder:"Enter a location",sx:{mb:2}}),e.jsxs(i,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(p,{sx:{flex:1},label:"Latitude*",variant:"outlined",value:V,onChange:t=>ve(t.target.value),placeholder:"e.g., 25.2048",required:!0}),e.jsx(p,{sx:{flex:1},label:"Longitude*",variant:"outlined",value:_,onChange:t=>we(t.target.value),placeholder:"e.g., 55.2708",required:!0})]}),Q&&Vt?e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click on the map below to select a location"}),e.jsx(i,{ref:mt,sx:{height:300,width:"100%",borderRadius:f.shape.borderRadius,border:`1px solid ${f.palette.grey[300]}`,mb:2}})]}):e.jsx(i,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${f.palette.grey[300]}`,borderRadius:f.shape.borderRadius,mb:2},children:e.jsx(s,{variant:"body2",color:"text.secondary",children:"Map loading..."})})]})]})})}),e.jsx(i,{sx:{mb:4},children:e.jsx(F,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Vehicle Identity"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert the vehicle number and driver availability"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:q?"1fr":"2fr 1fr",gap:3,alignItems:"center"},children:[e.jsx(p,{fullWidth:!0,label:"Vehicle Number*",variant:"outlined",value:at,onChange:t=>{Yt(t.target.value),la(t.target.value)},placeholder:"Enter vehicle number",required:!0,error:!!ka,helperText:ka}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{mb:1},children:"Driver Included"}),e.jsxs(i,{sx:{display:"flex",gap:3},children:[e.jsx(x,{control:e.jsx(M,{checked:L.driverIncluded===!0,onChange:()=>ye(t=>({...t,driverIncluded:!0}))}),label:"Yes"}),e.jsx(x,{control:e.jsx(M,{checked:L.driverIncluded===!1,onChange:()=>ye(t=>({...t,driverIncluded:!1}))}),label:"No"})]})]})]})]})})}),De&&fe&&e.jsxs(F,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Vehicle Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Customize the luxury and comfort options for your vehicle"})]}),e.jsx(fa,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(i,{sx:{p:4},children:[e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(pa,{}),number:"01",items:[["Leather Seats","leatherSeats"],["Adjustable Seats","adjustableSeats"],["Armrest","armrest"]]},{title:"Entertainment",icon:e.jsx(Lr,{}),number:"02",items:[["Music System","musicSystem"],["Bluetooth","bluetooth"],["USB / AUX","usbAux"]]},{title:"Safety & Compliance",icon:e.jsx(ht,{}),number:"03",items:[["Airbags","airbags"],["ABS","abs"],["Rear Camera","rearCamera"],["Parking Sensors","parkingSensors"]]},{title:"Convenience",icon:e.jsx(zr,{}),number:"04",items:[["Power Windows","powerWindows"],["Central Lock","centralLock"],["Keyless Entry","keylessEntry"]]}].map((t,a)=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(i,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([o,n])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:b[n],onChange:ca(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:o})},n))})]})},t.title))}),e.jsxs(i,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #fff5f5 0%, #fff0f0 100%)",border:"1px solid #fee2e2"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(225, 91, 101, 0.3)"},children:e.jsx(ha,{fontSize:"small"})}),e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#991b1b"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#b91c1c",opacity:.8},children:"Special features to enhance the premium feel"})]})]}),e.jsxs(w,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(M,{checked:b.wifi,onChange:ca("wifi"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"High-Speed Wifi"})}),e.jsx(x,{control:e.jsx(M,{checked:b.chargingPoints,onChange:ca("chargingPoints"),sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Charging Points"})})]})}),e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #fee2e2",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#991b1b",minWidth:120},children:"Interior Lighting"}),e.jsxs(he,{row:!0,value:We,onChange:t=>Be(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",children:"Standard"})}),e.jsx(x,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",children:"Premium RGB"})})]})]})})]})]})]})]}),De&&$&&e.jsxs(F,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bus Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the bus"})]}),e.jsx(Na,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(i,{sx:{p:4},children:[e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(pa,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx($a,{}),number:"02",items:[["Music System","musicSystem"],["Microphone","microphone"],["LED Display","ledDisplay"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(ht,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["LED Emergency Exit","ledEmergencyExit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(ma,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(i,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([a,o])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:j[o],onChange:ua(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:a})},o))})]})},t.title))}),e.jsxs(i,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(ha,{fontSize:"small"})}),e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(w,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(M,{checked:j.wifi,onChange:ua("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(x,{control:e.jsx(M,{checked:j.chargingPoints,onChange:ua("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(he,{row:!0,value:We,onChange:t=>Be(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Normal"})}),e.jsx(x,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),De&&ae&&e.jsxs(F,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #ecedf1 0%, #adb0ba 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Van Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Configure passenger comfort and safety options for the van"})]}),e.jsx(Na,{sx:{fontSize:40,opacity:.2}})]}),e.jsxs(i,{sx:{p:4},children:[e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Interior Comfort",icon:e.jsx(pa,{}),number:"01",items:[["Curtains","curtains"],["Reading Lights","readingLights"],["Foot Rest","footRest"],["Bottle Holder","bottleHolder"]]},{title:"Entertainment",icon:e.jsx($a,{}),number:"02",items:[["Music System","musicSystem"],["TV / Screen","tvScreen"]]},{title:"Safety & Compliance",icon:e.jsx(ht,{}),number:"03",items:[["Fire Extinguisher","fireExtinguisher"],["First Aid Kit","firstAidKit"],["CCTV","cctv"]]},{title:"Storage & Utilities",icon:e.jsx(ma,{}),number:"04",items:[["Luggage Carrier","luggageCarrier"],["Overhead Storage","overheadStorage"]]}].map(t=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:3,sx:{display:"flex"},children:e.jsxs(i,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f8fafc",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#98a0bc"}},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#7882a3"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#1e40af",opacity:.1,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([a,o])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:k[o],onChange:ga(o),sx:{color:"#d1d5db","&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:a})},o))})]})},t.title))}),e.jsxs(i,{sx:{mt:4,p:3,borderRadius:4,background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"1px solid #bfdbfe"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#42454f",color:"white",display:"flex",alignItems:"center",justifyContent:"center",mr:2,boxShadow:"0 4px 12px rgba(30, 64, 175, 0.3)"},children:e.jsx(ha,{fontSize:"small"})}),e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,color:"#1e3a8a"},children:"Premium Add-ons & Lighting"}),e.jsx(s,{variant:"caption",sx:{color:"#1e40af",opacity:.8},children:"Special connectivity and ambient features for passengers"})]})]}),e.jsxs(w,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{display:"flex",gap:4},children:[e.jsx(x,{control:e.jsx(M,{checked:k.wifi,onChange:ga("wifi"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"Guest Wifi"})}),e.jsx(x,{control:e.jsx(M,{checked:k.chargingPoints,onChange:ga("chargingPoints"),sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{sx:{fontWeight:600},children:"USB Charging ports"})})]})}),e.jsx(w,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:2,backgroundColor:"white",borderRadius:3,border:"1px solid #bfdbfe",display:"flex",alignItems:"center",gap:3},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700,color:"#1e3a8a",minWidth:120},children:"Interior Lighting"}),e.jsxs(he,{row:!0,value:We,onChange:t=>Be(t.target.value),children:[e.jsx(x,{value:"normal",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Normal"})}),e.jsx(x,{value:"premium",control:e.jsx(z,{size:"small",sx:{"&.Mui-checked":{color:"#1e40af"}}}),label:e.jsx(s,{variant:"body2",children:"Premium Ambient"})})]})]})})]})]})]})]}),De&&gt&&e.jsxs(F,{sx:{mt:6,mb:6,borderRadius:4,border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",backgroundColor:"#ffffff",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #e9ebef 0%, #b3b7c1 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{children:[e.jsx(s,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.5px"},children:"Bike Features & Amenities"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"Customize safety and utility options for your bike"})]}),e.jsx(fa,{sx:{fontSize:40,opacity:.2}})]}),e.jsx(i,{sx:{p:4},children:e.jsx(w,{container:!0,spacing:10,sx:{width:"100%",m:0},children:[{title:"Safety & Accessories",icon:e.jsx(ht,{}),number:"01",items:[["Helmet Included","helmet"],["ABS","abs"],["Mobile Holder","mobileHolder"]]},{title:"Utility & Storage",icon:e.jsx(ma,{}),number:"02",items:[["Storage Box (Top Box)","storageBox"],["Rear Rack","rearRack"],["Windshield","windshield"]]}].map((t,a)=>e.jsx(w,{item:!0,xs:12,sm:12,md:6,lg:6,sx:{display:"flex"},children:e.jsxs(i,{sx:{width:"100%",display:"flex",flexDirection:"column",p:3,borderRadius:3,border:"1px solid #f0f0f0",backgroundColor:"#f9fafb",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 20px rgba(0,0,0,0.05)",borderColor:"#E15B65"}},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:2,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",color:"#E15B65"},children:t.icon}),e.jsx(s,{variant:"caption",sx:{fontWeight:900,color:"#E15B65",opacity:.2,fontSize:"1.5rem",lineHeight:1},children:t.number})]}),e.jsx(s,{variant:"subtitle1",sx:{fontWeight:700,mb:2,color:"#111827"},children:t.title}),e.jsx(K,{spacing:1,children:t.items.map(([o,n])=>e.jsx(x,{control:e.jsx(M,{size:"small",checked:de[n],onChange:Cr(n),sx:{color:"#d1d5db","&.Mui-checked":{color:"#E15B65"}}}),label:e.jsx(s,{variant:"body2",sx:{color:"#4b5563",fontWeight:500},children:o})},n))})]})},t.title))})})]}),De&&(fe||$||ae||gt)&&e.jsx(i,{sx:{mb:4},children:e.jsxs(F,{sx:{mt:6,mb:6,borderRadius:3,border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:[e.jsxs(i,{sx:{px:4,py:3,background:"linear-gradient(135deg, #f5efef 0%, #efdfe1 100%)",color:"white"},children:[e.jsx(s,{variant:"h5",sx:{fontWeight:700,mb:.5},children:"Package Pricing"}),e.jsx(s,{variant:"body2",sx:{opacity:.95},children:"Set base price, discount & advance booking options"})]}),e.jsx(i,{sx:{p:4,backgroundColor:"#fafbfc"},children:e.jsxs(K,{spacing:3,children:[e.jsxs(i,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#E15B65",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(s,{sx:{color:"white",fontSize:20,fontWeight:700},children:"â‚¹"})}),e.jsx(s,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Package Details"})]}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fef3f2",border:"1px solid #fecaca",display:"flex",flexDirection:"column"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#991b1b",mb:2},children:"Basic Package"}),e.jsxs(K,{spacing:2,sx:{flexGrow:1},children:[e.jsx(p,{fullWidth:!0,label:"Base Package Price",type:"number",value:me,onChange:t=>Pt(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"#E15B65",fontWeight:600},children:"â‚¹"})},size:"small"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:5,mt:3},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(R,{children:"Hours Included"}),e.jsxs(T,{value:Wt,label:"Hours Included",onChange:t=>Bt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"4",children:"4 Hrs"}),e.jsx(d,{value:"6",children:"6 Hrs"}),e.jsx(d,{value:"8",children:"8 Hrs"}),e.jsx(d,{value:"10",children:"10 Hrs"}),e.jsx(d,{value:"12",children:"12 Hrs"})]})]}),e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(R,{children:"KM Included"}),e.jsxs(T,{value:Rt,label:"KM Included",onChange:t=>Tt(t.target.value),children:[e.jsx(d,{value:"",children:"Select"}),e.jsx(d,{value:"50",children:"50 KM"}),e.jsx(d,{value:"80",children:"80 KM"}),e.jsx(d,{value:"100",children:"100 KM"}),e.jsx(d,{value:"150",children:"150 KM"})]})]})]})]})]}),e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",display:"flex",flexDirection:"column"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#15803d",mb:2},children:"Apply Discount"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,mb:3},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(R,{children:"Type"}),e.jsxs(T,{value:le,label:"Type",onChange:t=>Mt(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat Rate (â‚¹)"})]})]}),e.jsx(p,{fullWidth:!0,label:"Value",type:"number",value:Me,onChange:t=>Xt(t.target.value),size:"small"})]}),e.jsxs(i,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #e3dedf 0%, #ceaaad 100%)",textAlign:"center",boxShadow:"0 4px 14px rgba(225, 91, 101, 0.25)",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:160},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5},children:[e.jsx(i,{sx:{width:24,height:24,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.35)",display:"flex",alignItems:"center",justifyContent:"center",mr:1},children:e.jsx(s,{sx:{fontSize:13,fontWeight:700,color:"#000"},children:"Î£"})}),e.jsx(s,{variant:"caption",sx:{fontWeight:700,color:"#000"},children:"GRAND TOTAL"})]}),e.jsxs(s,{sx:{fontWeight:800,fontSize:"1.6rem",lineHeight:1.2,mb:.5,color:"#000"},children:["â‚¹ ",vr]}),re>0&&e.jsxs(s,{variant:"caption",sx:{textDecoration:"line-through",color:"#6b7280",fontSize:"0.75rem"},children:["Original: â‚¹ ",Ve]}),e.jsx(s,{variant:"caption",sx:{fontSize:"0.7rem",fontWeight:600,color:"#000"},children:re>0?`Discount Applied: â‚¹ ${re}`:"Base Price"}),e.jsxs(i,{sx:{mt:2,pt:1.5,borderTop:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:.5},children:[e.jsx(s,{sx:{fontSize:"0.9rem"},children:"ðŸ’¡"}),e.jsx(s,{variant:"caption",sx:{fontSize:"0.7rem",lineHeight:1.3},children:"Final amount based on base price and discounts"})]})]})]})]})]}),e.jsxs(i,{sx:{p:3,borderRadius:2,backgroundColor:"#ffffff",border:"2px solid #e5e7eb",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 24px rgba(225, 91, 101, 0.15)",borderColor:"#E15B65"}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(i,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(s,{sx:{color:"white",fontSize:20,fontWeight:700},children:"%"})}),e.jsx(s,{variant:"subtitle1",fontWeight:700,sx:{color:"#1f2937"},children:"Offers & Advance"})]}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:3},children:[e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#fff7ed",border:"1px solid #fed7aa",height:"100%"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#9a3412",mb:2},children:"Extra Charges"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsx(p,{fullWidth:!0,label:"Price/KM",type:"number",value:zt,onChange:t=>Lt(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"}),e.jsx(p,{fullWidth:!0,label:"Extra Hour Price",type:"number",value:Ca,onChange:t=>Ft(t.target.value),placeholder:"0",InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"})]})]}),e.jsxs(i,{sx:{p:2.5,borderRadius:2,backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",height:"100%"},children:[e.jsx(s,{variant:"body2",fontWeight:600,sx:{color:"#1e40af",mb:2},children:"Advance Booking"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[e.jsxs(v,{fullWidth:!0,size:"small",children:[e.jsx(R,{children:"Type"}),e.jsxs(T,{value:Ua,label:"Type",onChange:t=>wa(t.target.value),children:[e.jsx(d,{value:"percentage",children:"Percentage (%)"}),e.jsx(d,{value:"flat",children:"Flat (â‚¹)"})]})]}),e.jsx(p,{fullWidth:!0,label:"Amount",type:"number",value:Dt,onChange:t=>Ht(t.target.value),InputProps:{startAdornment:e.jsx(s,{sx:{mr:.5,color:"text.secondary",fontSize:14},children:"â‚¹"})},size:"small"})]})]})]})]})]})})]})}),e.jsxs(i,{sx:{mt:3,p:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(s,{variant:"subtitle1",gutterBottom:!0,children:"Vehicle Features"}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:L.decorationAvailable?{xs:"1fr",md:"1fr 1fr"}:"max-content",gap:3,alignItems:"center"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:3,px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",width:"fit-content",minWidth:260},children:[e.jsx(s,{fontSize:14,fontWeight:500,children:"Decoration Available"}),e.jsx(Br,{checked:L.decorationAvailable,onChange:t=>ye(a=>({...a,decorationAvailable:t.target.checked})),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#E15B65"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#E15B65"}}})]}),L.decorationAvailable&&e.jsx(i,{sx:{px:3,py:2,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"white",minWidth:260},children:e.jsx(p,{fullWidth:!0,label:"Decoration Price (â‚¹)",type:"number",value:Y,onChange:t=>Qt(t.target.value),inputProps:{min:0},placeholder:"e.g. 5000"})})]})]}),e.jsxs(i,{sx:{mt:4,p:3,border:"1px solid",borderColor:"grey.300",borderRadius:2,backgroundColor:"#fafafa"},children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:"Upload Vehicle Documents"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Upload RC, Insurance, Permit or any supporting vehicle documents"}),e.jsxs(ba,{onDragOver:t=>t.preventDefault(),onDrop:dr,onClick:()=>document.getElementById("vehicle-documents-upload").click(),sx:{minHeight:160},children:[Ea.length>0?e.jsx(K,{spacing:1,sx:{width:"100%"},children:Ea.map((t,a)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,border:"1px solid #e5e7eb",borderRadius:1,backgroundColor:"#ffffff"},children:[e.jsxs(s,{variant:"body2",noWrap:!0,children:["ðŸ“„ ",t.name]}),e.jsx(xt,{size:"small",onClick:()=>sa(o=>o.filter((n,u)=>u!==a)),children:"âœ•"})]},a))}):e.jsxs(e.Fragment,{children:[e.jsx(xa,{sx:{fontSize:42,color:"#E15B65",mb:1}}),e.jsx(s,{fontWeight:600,color:"#E15B65",children:"Click to upload documents"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Or drag & drop files here (PDF, JPG, PNG)"})]}),e.jsx("input",{id:"vehicle-documents-upload",type:"file",hidden:!0,multiple:!0,accept:".pdf,image/png,image/jpeg,image/jpg",onChange:lr})]})]}),e.jsx(i,{sx:{mb:4},children:e.jsxs(F,{sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #ffffff, #fafafa)",border:"1px solid #eee"},children:[e.jsx(s,{variant:"h6",fontWeight:600,sx:{mb:.5},children:"Terms & Conditions"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Define rules & policies shown to customers during booking"}),D.map((t,a)=>e.jsxs(i,{sx:{mb:3,p:2,borderRadius:2,border:"1px solid #e5e7eb",backgroundColor:"#fff"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(p,{fullWidth:!0,label:"Section Heading",placeholder:"e.g. Booking & Confirmation",value:t.heading,onChange:o=>{const n=[...D];n[a].heading=o.target.value,X(n)}}),D.length>1&&e.jsx(Ie,{onClick:()=>X(o=>o.filter((n,u)=>u!==a)),sx:{ml:1,color:"error.main"},children:"âœ•"})]}),t.points.map((o,n)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(p,{fullWidth:!0,label:`Point ${n+1}`,placeholder:"Enter policy detail",value:o,onChange:u=>{const h=[...D];h[a].points[n]=u.target.value,X(h)}}),t.points.length>1&&e.jsx(Ie,{onClick:()=>{const u=[...D];u[a].points.splice(n,1),X(u)},sx:{ml:1,color:"error.main"},children:"âœ•"})]},n)),e.jsx(Ie,{size:"small",onClick:()=>{const o=[...D];o[a].points.push(""),X(o)},sx:{mt:1,color:"#E15B65"},children:"+ Add Point"})]},a)),e.jsx(Ie,{variant:"outlined",onClick:()=>X([...D,{heading:"",points:[""]}]),sx:{mt:2,borderRadius:2,borderColor:"#E15B65",color:"#E15B65"},children:"+ Add Section"})]})}),e.jsx(i,{sx:{mb:4},children:e.jsx(F,{sx:{p:2,boxShadow:"none",border:`1px solid ${f.palette.grey[200]}`},children:e.jsxs(Ae,{sx:{"&:last-child":{pb:2}},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Search Tags"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Insert tags for appearing in user search results"}),e.jsx(p,{fullWidth:!0,label:"Type and press Enter",variant:"outlined",value:st,onChange:pr,onKeyPress:mr,placeholder:"Type and press Enter",sx:{mb:2}}),e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:ea.map((t,a)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",backgroundColor:f.palette.grey[200],borderRadius:f.shape.borderRadius,px:1,py:.5},children:[e.jsx(s,{variant:"body2",children:t}),e.jsx(xt,{size:"small",onClick:()=>br(t),children:e.jsx(s,{sx:{fontSize:14},children:"Ã—"})})]},a))})]})})}),e.jsxs(i,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(Ie,{variant:"outlined",color:"#E15B65",size:"large",onClick:da,sx:{color:"#E15B65"},children:ft?"Cancel":"Reset"}),e.jsx(Ie,{variant:"contained",type:"submit",size:"large",disabled:ot,startIcon:ot?e.jsx(_a,{size:20,color:"inherit"}):null,sx:{color:"white",bgcolor:"#E15B65"},children:ot?"Submitting...":ft?"Update":"Submit"})]})]})]}),e.jsx(Rr,{open:tr,autoHideDuration:6e3,onClose:Fa,anchorOrigin:{vertical:"top",horizontal:"center"},sx:{"& .MuiSnackbarContent-root":{minWidth:"600px",maxWidth:"600px",width:"auto"}},children:e.jsx(Tr,{onClose:Fa,severity:Ia,sx:{width:"100%",backgroundColor:Ia==="success"?"#1976d2":"#d32f2f",color:"white","& .MuiAlert-message":{whiteSpace:"pre-line",wordBreak:"break-word",fontSize:"1rem",lineHeight:1.5}},children:ar})})]})};export{us as default};
